"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6714],{6714:(S,s,e)=>{e.r(s),e.d(s,{HistoryModule:()=>Z});var p=e(655),d=e(1992),t=e(5e3),m=e(6858),l=e(4433),h=e(3646),c=e(9808),f=e(6359),x=e(8868);function y(o,i){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",7),t.NdJ("click",function(){const w=t.CHM(n).index;return t.oxw(2).showChat(w)}),t.TgZ(2,"div",8)(3,"h3",9),t._uU(4),t.qZA(),t.TgZ(5,"span",10),t._uU(6),t.qZA()(),t.TgZ(7,"div",11),t._UZ(8,"div",12),t.TgZ(9,"div",13)(10,"span",14),t._uU(11),t.qZA()(),t.TgZ(12,"div",15),t._UZ(13,"span",16),t.qZA(),t.TgZ(14,"div",17)(15,"span"),t._UZ(16,"img",18),t.TgZ(17,"span",14),t._uU(18),t.qZA()()()()(),t.BQk()}if(2&o){const n=i.$implicit;t.xp6(4),t.Oqu(n.event.date.day),t.xp6(2),t.Oqu(n.event.date.month),t.xp6(2),t.Jzz("background: url('",n.event.image,"')"),t.xp6(3),t.Oqu(n.event.title),t.xp6(2),t.Q6J("innerHTML",n.event.description,t.oJD),t.xp6(5),t.Oqu(n.event.date.time)}}function C(o,i){if(1&o&&(t.ynx(0),t.YNc(1,y,19,8,"ng-container",6),t.BQk()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.event)}}function u(o,i){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"app-error",19),t.NdJ("tryAgain",function(){return t.CHM(n),t.oxw().getHistory()}),t.qZA(),t.BQk()}}function v(o,i){1&o&&(t.ynx(0),t.TgZ(1,"div",20),t._UZ(2,"app-loader"),t.qZA(),t.BQk())}let g=(()=>{class o{constructor(n,a){this.http=n,this.modalController=a,this.container="loading"}ngOnInit(){}ionViewWillEnter(){this.getHistory()}getHistory(){this.container="loading",this.http.getHistoryComponent({}).subscribe(n=>{n.data.length?(this.container="history",this.event=n.data):(this.container="error",this.http.toaster("Failed to load chats",2e3,"red"))},n=>{this.container="error",console.log(n),this.http.toaster("Failed to reach server",2e3,"red")})}showChat(n){return(0,p.mG)(this,void 0,void 0,function*(){return yield(yield this.modalController.create({component:d.Z,componentProps:{readonly:!0,chatMeta:[this.event[n].event,this.event[n].messages]},cssClass:"my-custom-class"})).present()})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(m.O),t.Y36(l.IN))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-history"]],decls:7,vars:5,consts:[[1,"contain","bg-black","h-100"],[3,"title","source"],[1,"body-container","w-100"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngFor","ngForOf"],[1,"content","d-flex","mt-4",3,"click"],[1,"date","m-0","pr-1"],[1,"color-light","m-0"],[1,"color-light"],[1,"main-content"],[1,"image","rounded"],[1,"title-actions","d-flex"],[1,"calendar-name"],[1,"additional-info"],[3,"innerHTML"],[1,"calendar-creator","mt-2"],["src","/assets/icons/time.svg","alt","calendar"],[3,"tryAgain"],[1,"container"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0),t._UZ(1,"app-header",1),t.TgZ(2,"div",2),t.ynx(3,3),t.YNc(4,C,2,1,"ng-container",4),t.YNc(5,u,2,0,"ng-container",4),t.YNc(6,v,3,0,"ng-container",5),t.BQk(),t.qZA()()),2&n&&(t.xp6(1),t.Q6J("title","History")("source","/assets/icons/punch_fists.gif"),t.xp6(2),t.Q6J("ngSwitch",a.container),t.xp6(1),t.Q6J("ngSwitchCase","history"),t.xp6(1),t.Q6J("ngSwitchCase","error"))},directives:[h.G,c.RF,c.n9,c.sg,f.q,c.ED,x.R],styles:[".date[_ngcontent-%COMP%]{width:125px;text-align:center}.date[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;font-size:35px;font-family:Sansation-Bold}.date[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%;display:inline-block;font-family:Sansation-Light}.body-container[_ngcontent-%COMP%]{height:calc(100vh - 117px);overflow:scroll;padding:10px 20px}.body-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{background:#0d0d0d;padding:5px;border-radius:5px}.main-content[_ngcontent-%COMP%]{font-family:Sansation-Bold}.main-content[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{height:120px;color:#707070;text-align:center;line-height:5;font-size:19px;background-size:cover!important;background-repeat:no-repeat!important}.main-content[_ngcontent-%COMP%]   .title-actions[_ngcontent-%COMP%]{margin-top:10px;justify-content:space-between;color:var(--light)}.main-content[_ngcontent-%COMP%]   .title-actions[_ngcontent-%COMP%]   .calendar-name[_ngcontent-%COMP%]{font-family:Sansation-Light;font-size:20px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:170px;max-width:300px;min-width:190px;line-height:2}.main-content[_ngcontent-%COMP%]   .title-actions[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{margin:7px}.additional-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10px;color:var(--light);font-family:Sansation-Light;display:inline-block}.calendar-creator[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.calendar-creator[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:16px;margin-bottom:4px}.calendar-creator[_ngcontent-%COMP%]   .calendar-name[_ngcontent-%COMP%]{font-size:13px;padding-left:12px;color:#fff;font-family:Sansation-Light}.icons[_ngcontent-%COMP%]{height:20px;aspect-ratio:1}.icons-2x[_ngcontent-%COMP%]{height:24px;aspect-ratio:1}.icons-label[_ngcontent-%COMP%]{font-size:8px;white-space:nowrap;font-family:Sansation-Italic}"]}),o})();var r=e(3442);const M=[{path:"",component:g}];let O=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[r.Bz.forChild(M)],r.Bz]}),o})();var _=e(4182),P=e(581),H=e(5642);let Z=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[l.Pc,c.ez,_.u5,P.e,r.Bz.forChild([{path:"",component:g}]),O,H.K]]}),o})()}}]);