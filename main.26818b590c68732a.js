(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{440:(hn,ft,$)=>{"use strict";$.d(ft,{nm:()=>ee});var l=$(6351);$(5e3),$(5867);var qe=$(5861),Ae=$(9681),Ze=$(4859),Dt=$(2090),Ct=$(1877);const Ue=new Map,G={activated:!1,tokenObservers:[]},Re={initialized:!1,enabled:!1};function Te(Xe){return Ue.get(Xe)||G}function Ce(Xe,tt){Ue.set(Xe,tt)}function rt(){return Re}class at{constructor(tt,_t,It,Ut,Qt){if(this.operation=tt,this.retryPolicy=_t,this.getWaitDuration=It,this.lowerBound=Ut,this.upperBound=Qt,this.pending=null,this.nextErrorWaitInterval=Ut,Ut>Qt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(tt){var _t=this;return(0,qe.Z)(function*(){_t.stop();try{_t.pending=new Dt.BH,yield function lt(Xe){return new Promise(tt=>{setTimeout(tt,Xe)})}(_t.getNextRun(tt)),_t.pending.resolve(),yield _t.pending.promise,_t.pending=new Dt.BH,yield _t.operation(),_t.pending.resolve(),yield _t.pending.promise,_t.process(!0).catch(()=>{})}catch(It){_t.retryPolicy(It)?_t.process(!1).catch(()=>{}):_t.stop()}})()}getNextRun(tt){if(tt)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const _t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),_t}}}const Je=new Dt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function dt(Xe){if(!Te(Xe).activated)throw Je.create("use-before-activation",{appName:Xe.name})}function fn(Xe,tt){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,qe.Z)(function*({url:Xe,body:tt},_t){const It={"Content-Type":"application/json"},Ut=_t.getImmediate({optional:!0});if(Ut){const Bs=yield Ut.getHeartbeatsHeader();Bs&&(It["X-Firebase-Client"]=Bs)}const Qt={method:"POST",body:JSON.stringify(tt),headers:It};let Ir,Fn;try{Ir=yield fetch(Xe,Qt)}catch(Bs){throw Je.create("fetch-network-error",{originalErrorMessage:Bs.message})}if(200!==Ir.status)throw Je.create("fetch-status-error",{httpStatus:Ir.status});try{Fn=yield Ir.json()}catch(Bs){throw Je.create("fetch-parse-error",{originalErrorMessage:Bs.message})}const kr=Fn.ttl.match(/^([\d.]+)(s)$/);if(!kr||!kr[2]||isNaN(Number(kr[1])))throw Je.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Fn.ttl}`});const ys=1e3*Number(kr[1]),Hi=Date.now();return{token:Fn.token,expireTimeMillis:Hi+ys,issuedAtTimeMillis:Hi}})).apply(this,arguments)}function yr(Xe,tt){const{projectId:_t,appId:It,apiKey:Ut}=Xe.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${_t}/apps/${It}:exchangeDebugToken?key=${Ut}`,body:{debug_token:tt}}}const nr="firebase-app-check-store";let er=null;function Tn(){return er||(er=new Promise((Xe,tt)=>{try{const _t=indexedDB.open("firebase-app-check-database",1);_t.onsuccess=It=>{Xe(It.target.result)},_t.onerror=It=>{var Ut;tt(Je.create("storage-open",{originalErrorMessage:null===(Ut=It.target.error)||void 0===Ut?void 0:Ut.message}))},_t.onupgradeneeded=It=>{0===It.oldVersion&&It.target.result.createObjectStore(nr,{keyPath:"compositeKey"})}}catch(_t){tt(Je.create("storage-open",{originalErrorMessage:_t.message}))}}),er)}function At(){return(At=(0,qe.Z)(function*(Xe,tt){const It=(yield Tn()).transaction(nr,"readwrite"),Qt=It.objectStore(nr).put({compositeKey:Xe,value:tt});return new Promise((Ir,Fn)=>{Qt.onsuccess=kr=>{Ir()},It.onerror=kr=>{var ys;Fn(Je.create("storage-set",{originalErrorMessage:null===(ys=kr.target.error)||void 0===ys?void 0:ys.message}))}})})).apply(this,arguments)}const Gn=new Ct.Yd("@firebase/app-check");function ei(Xe,tt){return(0,Dt.hl)()?function ot(Xe,tt){return function Ht(Xe,tt){return At.apply(this,arguments)}(function Qn(Xe){return`${Xe.options.appId}-${Xe.name}`}(Xe),tt)}(Xe,tt).catch(_t=>{Gn.warn(`Failed to write token to IndexedDB. Error: ${_t}`)}):Promise.resolve()}function fr(){return rt().enabled}function Wn(){return pn.apply(this,arguments)}function pn(){return(pn=(0,qe.Z)(function*(){const Xe=rt();if(Xe.enabled&&Xe.token)return Xe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const cn={error:"UNKNOWN_ERROR"};function Pn(Xe){return Dt.US.encodeString(JSON.stringify(Xe),!1)}function sr(Xe){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,qe.Z)(function*(Xe,tt=!1){const _t=Xe.app;dt(_t);const It=Te(_t);let Qt,Ut=It.token;if(!Ut){const kr=yield It.cachedTokenPromise;kr&&sn(kr)&&(Ut=kr)}if(!tt&&Ut&&sn(Ut))return{token:Ut.token};let Fn,Ir=!1;if(fr()){It.exchangeTokenPromise||(It.exchangeTokenPromise=fn(yr(_t,yield Wn()),Xe.heartbeatServiceProvider).then(ys=>(It.exchangeTokenPromise=void 0,ys)),Ir=!0);const kr=yield It.exchangeTokenPromise;return yield ei(_t,kr),Ce(_t,Object.assign(Object.assign({},It),{token:kr})),{token:kr.token}}try{It.exchangeTokenPromise||(It.exchangeTokenPromise=It.provider.getToken().then(kr=>(It.exchangeTokenPromise=void 0,kr)),Ir=!0),Ut=yield It.exchangeTokenPromise}catch(kr){"appCheck/throttled"===kr.code?Gn.warn(kr.message):Gn.error(kr),Qt=kr}return Ut?(Fn={token:Ut.token},Ce(_t,Object.assign(Object.assign({},It),{token:Ut})),yield ei(_t,Ut)):Fn=Un(Qt),Ir&&pt(_t,Fn),Fn})).apply(this,arguments)}function Ie(Xe,tt){const _t=Te(Xe),It=_t.tokenObservers.filter(Ut=>Ut.next!==tt);0===It.length&&_t.tokenRefresher&&_t.tokenRefresher.isRunning()&&_t.tokenRefresher.stop(),Ce(Xe,Object.assign(Object.assign({},_t),{tokenObservers:It}))}function je(Xe){const{app:tt}=Xe,_t=Te(tt);let It=_t.tokenRefresher;It||(It=function bt(Xe){const{app:tt}=Xe;return new at((0,qe.Z)(function*(){let It;if(It=Te(tt).token?yield sr(Xe,!0):yield sr(Xe),It.error)throw It.error}),()=>!0,()=>{const _t=Te(tt);if(_t.token){let It=_t.token.issuedAtTimeMillis+.5*(_t.token.expireTimeMillis-_t.token.issuedAtTimeMillis)+3e5;return It=Math.min(It,_t.token.expireTimeMillis-3e5),Math.max(0,It-Date.now())}return 0},3e4,96e4)}(Xe),Ce(tt,Object.assign(Object.assign({},_t),{tokenRefresher:It}))),!It.isRunning()&&_t.isTokenAutoRefreshEnabled&&It.start()}function pt(Xe,tt){const _t=Te(Xe).tokenObservers;for(const It of _t)try{"EXTERNAL"===It.type&&null!=tt.error?It.error(tt.error):It.next(tt)}catch(Ut){}}function sn(Xe){return Xe.expireTimeMillis-Date.now()>0}function Un(Xe){return{token:Pn(cn),error:Xe}}class vr{constructor(tt,_t){this.app=tt,this.heartbeatServiceProvider=_t}_delete(){const{tokenObservers:tt}=Te(this.app);for(const _t of tt)Ie(this.app,_t.next);return Promise.resolve()}}const Mn="app-check-internal";!function qr(){(0,Ae._registerComponent)(new Ze.wA("app-check",Xe=>function ui(Xe,tt){return new vr(Xe,tt)}(Xe.getProvider("app").getImmediate(),Xe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Xe,tt,_t)=>{Xe.getProvider(Mn).initialize()})),(0,Ae._registerComponent)(new Ze.wA(Mn,Xe=>function Er(Xe){return{getToken:tt=>sr(Xe,tt),addTokenListener:tt=>function $e(Xe,tt,_t,It){const{app:Ut}=Xe,Qt=Te(Ut),Ir={next:_t,error:It,type:tt};if(Ce(Ut,Object.assign(Object.assign({},Qt),{tokenObservers:[...Qt.tokenObservers,Ir]})),Qt.token&&sn(Qt.token)){const Fn=Qt.token;Promise.resolve().then(()=>{_t({token:Fn.token}),je(Xe)}).catch(()=>{})}Qt.cachedTokenPromise.then(()=>je(Xe))}(Xe,"INTERNAL",tt),removeTokenListener:tt=>Ie(Xe.app,tt)}}(Xe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ae.registerVersion)("@firebase/app-check","0.5.7")}();class ee{constructor(){return(0,l.vb)("app-check")}}"undefined"!=typeof window&&window},4941:(hn,ft,$)=>{"use strict";$.d(ft,{zQ:()=>mt,ww:()=>it,rT:()=>rt,f7:()=>Xt,L6:()=>Te,_Q:()=>Ce,lh:()=>et,Qv:()=>Re,nw:()=>on});var l=$(5e3),X=$(8929),Z=$(1086),Be=$(2916),Se=$(5254),ae=$(6787),Ee=$(341),de=$(2654),ge=$(2102),le=$(5279),me=$(5283);class ie extends X.xQ{constructor(at=Number.POSITIVE_INFINITY,lt=Number.POSITIVE_INFINITY,Me){super(),this.scheduler=Me,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=at<1?1:at,this._windowTime=lt<1?1:lt,lt===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(at){if(!this.isStopped){const lt=this._events;lt.push(at),lt.length>this._bufferSize&&lt.shift()}super.next(at)}nextTimeWindow(at){this.isStopped||(this._events.push(new he(this._getNow(),at)),this._trimBufferThenGetEvents()),super.next(at)}_subscribe(at){const lt=this._infiniteTimeWindow,Me=lt?this._events:this._trimBufferThenGetEvents(),Je=this.scheduler,Tt=Me.length;let dt;if(this.closed)throw new le.N;if(this.isStopped||this.hasError?dt=de.w.EMPTY:(this.observers.push(at),dt=new me.W(this,at)),Je&&at.add(at=new ge.ht(at,Je)),lt)for(let Kt=0;Kt<Tt&&!at.closed;Kt++)at.next(Me[Kt]);else for(let Kt=0;Kt<Tt&&!at.closed;Kt++)at.next(Me[Kt].value);return this.hasError?at.error(this.thrownError):this.isStopped&&at.complete(),dt}_getNow(){return(this.scheduler||Ee.c).now()}_trimBufferThenGetEvents(){const at=this._getNow(),lt=this._bufferSize,Me=this._windowTime,Je=this._events,Tt=Je.length;let dt=0;for(;dt<Tt&&!(at-Je[dt].time<Me);)dt++;return Tt>lt&&(dt=Math.max(dt,Tt-lt)),dt>0&&Je.splice(0,dt),Je}}class he{constructor(at,lt){this.time=at,this.value=lt}}function We(Qe,at,lt){let Me;return Me=Qe&&"object"==typeof Qe?Qe:{bufferSize:Qe,windowTime:at,refCount:!1,scheduler:lt},Je=>Je.lift(function Oe({bufferSize:Qe=Number.POSITIVE_INFINITY,windowTime:at=Number.POSITIVE_INFINITY,refCount:lt,scheduler:Me}){let Je,dt,Tt=0,Kt=!1,en=!1;return function(fn){let Jt;Tt++,!Je||Kt?(Kt=!1,Je=new ie(Qe,at,Me),Jt=Je.subscribe(this),dt=fn.subscribe({next(An){Je.next(An)},error(An){Kt=!0,Je.error(An)},complete(){en=!0,dt=void 0,Je.complete()}}),en&&(dt=void 0)):Jt=Je.subscribe(this),this.add(()=>{Tt--,Jt.unsubscribe(),Jt=void 0,dt&&!en&&lt&&0===Tt&&(dt.unsubscribe(),dt=void 0,Je=void 0)})}}(Me))}var _e=$(7545);function ke(Qe,at){return at?(0,_e.w)(()=>Qe,at):(0,_e.w)(()=>Qe)}var Ve=$(4850),st=$(7224),Le=$(8915),qe=$(2198),Ae=$(6351),Ze=$(2011),Dt=$(9808),Ct=$(440),Ue=$(127);const Re=new l.OlP("angularfire2.auth.use-emulator"),Te=new l.OlP("angularfire2.auth.settings"),Ce=new l.OlP("angularfire2.auth.tenant-id"),rt=new l.OlP("angularfire2.auth.langugage-code"),et=new l.OlP("angularfire2.auth.use-device-language"),Xt=new l.OlP("angularfire.auth.persistence"),on=(Qe,at,lt,Me,Je,Tt,dt,Kt)=>(0,Ze.cc)(`${Qe.name}.auth`,"AngularFireAuth",Qe.name,()=>{const en=at.runOutsideAngular(()=>Qe.auth());if(lt&&en.useEmulator(...lt),Me&&(en.tenantId=Me),en.languageCode=Je,Tt&&en.useDeviceLanguage(),dt)for(const[_n,fn]of Object.entries(dt))en.settings[_n]=fn;return Kt&&en.setPersistence(Kt),en},[lt,Me,Je,Tt,dt,Kt]);let mt=(()=>{class Qe{constructor(lt,Me,Je,Tt,dt,Kt,en,_n,fn,Jt,An,Cr){const yr=new X.xQ,Jn=(0,Z.of)(void 0).pipe((0,ge.QV)(dt.outsideAngular),(0,_e.w)(()=>Tt.runOutsideAngular(()=>Promise.resolve().then($.bind($,820)))),(0,Ve.U)(()=>(0,Ze.on)(lt,Tt,Me)),(0,Ve.U)(rn=>on(rn,Tt,Kt,_n,fn,Jt,en,An)),We({bufferSize:1,refCount:!1}));if((0,Dt.PM)(Je))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Z.of)(null);else{Jn.pipe((0,st.P)()).subscribe();const nr=Jn.pipe((0,_e.w)(Tn=>Tn.getRedirectResult().then(xr=>xr,()=>null)),Ae.iC,We({bufferSize:1,refCount:!1})),Nn=Jn.pipe((0,_e.w)(Tn=>new Be.y(xr=>({unsubscribe:Tt.runOutsideAngular(()=>Tn.onAuthStateChanged(ot=>xr.next(ot),ot=>xr.error(ot),()=>xr.complete()))})))),er=Jn.pipe((0,_e.w)(Tn=>new Be.y(xr=>({unsubscribe:Tt.runOutsideAngular(()=>Tn.onIdTokenChanged(ot=>xr.next(ot),ot=>xr.error(ot),()=>xr.complete()))}))));this.authState=nr.pipe(ke(Nn),(0,Le.R)(dt.outsideAngular),(0,ge.QV)(dt.insideAngular)),this.user=nr.pipe(ke(er),(0,Le.R)(dt.outsideAngular),(0,ge.QV)(dt.insideAngular)),this.idToken=this.user.pipe((0,_e.w)(Tn=>Tn?(0,Se.D)(Tn.getIdToken()):(0,Z.of)(null))),this.idTokenResult=this.user.pipe((0,_e.w)(Tn=>Tn?(0,Se.D)(Tn.getIdTokenResult()):(0,Z.of)(null))),this.credential=(0,ae.T)(nr,yr,this.authState.pipe((0,qe.h)(Tn=>!Tn))).pipe((0,Ve.U)(Tn=>(null==Tn?void 0:Tn.user)?Tn:null),(0,Le.R)(dt.outsideAngular),(0,ge.QV)(dt.insideAngular))}return(0,Ze.pX)(this,Jn,Tt,{spy:{apply:(rn,nr,Nn)=>{(rn.startsWith("signIn")||rn.startsWith("createUser"))&&Nn.then(er=>yr.next(er))}}})}}return Qe.\u0275fac=function(lt){return new(lt||Qe)(l.LFG(Ze.Dh),l.LFG(Ze.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Ae.HU),l.LFG(Re,8),l.LFG(Te,8),l.LFG(Ce,8),l.LFG(rt,8),l.LFG(et,8),l.LFG(Xt,8),l.LFG(Ct.nm,8))},Qe.\u0275prov=l.Yz7({token:Qe,factory:Qe.\u0275fac,providedIn:"any"}),Qe})(),it=(()=>{class Qe{constructor(){Ue.Z.registerVersion("angularfire",Ae.q4.full,"auth-compat")}}return Qe.\u0275fac=function(lt){return new(lt||Qe)},Qe.\u0275mod=l.oAB({type:Qe}),Qe.\u0275inj=l.cJS({providers:[mt]}),Qe})()},791:(hn,ft,$)=>{"use strict";$.d(ft,{KQ:()=>yu,JS:()=>Zo});var l=$(5e3),X=$(353),Z=$(2916),Be=$(1086),Se=$(6787),ae=$(826),Ee=$(448);class ge{constructor(d,c){this.observables=d,this.project=c}call(d,c){return c.subscribe(new le(d,this.observables,this.project))}}class le extends ae.L{constructor(d,c,m){super(d),this.observables=c,this.project=m,this.toRespond=[];const I=c.length;this.values=new Array(I);for(let M=0;M<I;M++)this.toRespond.push(M);for(let M=0;M<I;M++)this.add((0,Ee.D)(this,c[M],void 0,M))}notifyNext(d,c,m){this.values[m]=c;const I=this.toRespond;if(I.length>0){const M=I.indexOf(m);-1!==M&&I.splice(M,1)}}notifyComplete(){}_next(d){if(0===this.toRespond.length){const c=[d,...this.values];this.project?this._tryProject(c):this.destination.next(c)}}_tryProject(d){let c;try{c=this.project.apply(this,d)}catch(m){return void this.destination.error(m)}this.destination.next(c)}}var me=$(3489);class he{constructor(d){this.predicate=d}call(d,c){return c.subscribe(new We(d,this.predicate))}}class We extends me.L{constructor(d,c){super(d),this.predicate=c,this.skipping=!0,this.index=0}_next(d){const c=this.destination;this.skipping&&this.tryCallPredicate(d),this.skipping||c.next(d)}tryCallPredicate(d){try{const c=this.predicate(d,this.index++);this.skipping=Boolean(c)}catch(c){this.destination.error(c)}}}var Oe=$(4850),_e=$(2474),ke=$(7545),Ve=$(2014),st=$(5778),Le=$(6351),qe=$(2011),Ze=($(820),$(3942)),Dt=$(4859),Ct=$(5861),Ue=$(9681),G=$(2090),Re=$(1877);const Te="@firebase/database";let rt="";function et(h){rt=h}class Xt{constructor(d){this.domStorage_=d,this.prefix_="firebase:"}set(d,c){null==c?this.domStorage_.removeItem(this.prefixedName_(d)):this.domStorage_.setItem(this.prefixedName_(d),(0,G.Pz)(c))}get(d){const c=this.domStorage_.getItem(this.prefixedName_(d));return null==c?null:(0,G.cI)(c)}remove(d){this.domStorage_.removeItem(this.prefixedName_(d))}prefixedName_(d){return this.prefix_+d}toString(){return this.domStorage_.toString()}}class on{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(d,c){null==c?delete this.cache_[d]:this.cache_[d]=c}get(d){return(0,G.r3)(this.cache_,d)?this.cache_[d]:null}remove(d){delete this.cache_[d]}}const mt=function(h){try{if("undefined"!=typeof window&&void 0!==window[h]){const d=window[h];return d.setItem("firebase:sentinel","cache"),d.removeItem("firebase:sentinel"),new Xt(d)}}catch(d){}return new on},it=mt("localStorage"),Qe=mt("sessionStorage"),at=new Re.Yd("@firebase/database"),lt=function(){let h=1;return function(){return h++}}(),Me=function(h){const d=(0,G.dS)(h),c=new G.gQ;c.update(d);const m=c.digest();return G.US.encodeByteArray(m)},Je=function(...h){let d="";for(let c=0;c<h.length;c++){const m=h[c];Array.isArray(m)||m&&"object"==typeof m&&"number"==typeof m.length?d+=Je.apply(null,m):d+="object"==typeof m?(0,G.Pz)(m):m,d+=" "}return d};let Tt=null,dt=!0;const Kt=function(h,d){(0,G.hu)(!d||!0===h||!1===h,"Can't turn on custom loggers persistently."),!0===h?(at.logLevel=Re.in.VERBOSE,Tt=at.log.bind(at),d&&Qe.set("logging_enabled",!0)):"function"==typeof h?Tt=h:(Tt=null,Qe.remove("logging_enabled"))},en=function(...h){if(!0===dt&&(dt=!1,null===Tt&&!0===Qe.get("logging_enabled")&&Kt(!0)),Tt){const d=Je.apply(null,h);Tt(d)}},_n=function(h){return function(...d){en(h,...d)}},fn=function(...h){const d="FIREBASE INTERNAL ERROR: "+Je(...h);at.error(d)},Jt=function(...h){const d=`FIREBASE FATAL ERROR: ${Je(...h)}`;throw at.error(d),new Error(d)},An=function(...h){const d="FIREBASE WARNING: "+Je(...h);at.warn(d)},yr=function(h){return"number"==typeof h&&(h!=h||h===Number.POSITIVE_INFINITY||h===Number.NEGATIVE_INFINITY)},rn="[MIN_NAME]",nr="[MAX_NAME]",Nn=function(h,d){if(h===d)return 0;if(h===rn||d===nr)return-1;if(d===rn||h===nr)return 1;{const c=Cn(h),m=Cn(d);return null!==c?null!==m?c-m==0?h.length-d.length:c-m:-1:null!==m?1:h<d?-1:1}},er=function(h,d){return h===d?0:h<d?-1:1},Tn=function(h,d){if(d&&h in d)return d[h];throw new Error("Missing required key ("+h+") in object: "+(0,G.Pz)(d))},xr=function(h){if("object"!=typeof h||null===h)return(0,G.Pz)(h);const d=[];for(const m in h)d.push(m);d.sort();let c="{";for(let m=0;m<d.length;m++)0!==m&&(c+=","),c+=(0,G.Pz)(d[m]),c+=":",c+=xr(h[d[m]]);return c+="}",c},ot=function(h,d){const c=h.length;if(c<=d)return[h];const m=[];for(let I=0;I<c;I+=d)m.push(h.substring(I,I+d>c?c:I+d));return m};function Fe(h,d){for(const c in h)h.hasOwnProperty(c)&&d(c,h[c])}const ve=function(h){(0,G.hu)(!yr(h),"Invalid JSON number");const m=1023;let I,M,L,ce,we;0===h?(M=0,L=0,I=1/h==-1/0?1:0):(I=h<0,(h=Math.abs(h))>=Math.pow(2,1-m)?(ce=Math.min(Math.floor(Math.log(h)/Math.LN2),m),M=ce+m,L=Math.round(h*Math.pow(2,52-ce)-Math.pow(2,52))):(M=0,L=Math.round(h/Math.pow(2,-1074))));const Ge=[];for(we=52;we;we-=1)Ge.push(L%2?1:0),L=Math.floor(L/2);for(we=11;we;we-=1)Ge.push(M%2?1:0),M=Math.floor(M/2);Ge.push(I?1:0),Ge.reverse();const Mt=Ge.join("");let gt="";for(we=0;we<64;we+=8){let Zt=parseInt(Mt.substr(we,8),2).toString(16);1===Zt.length&&(Zt="0"+Zt),gt+=Zt}return gt.toLowerCase()},gn=new RegExp("^-?(0*)\\d{1,10}$"),Qn=-2147483648,Gn=2147483647,Cn=function(h){if(gn.test(h)){const d=Number(h);if(d>=Qn&&d<=Gn)return d}return null},xn=function(h){try{h()}catch(d){setTimeout(()=>{throw An("Exception was thrown by user callback.",d.stack||""),d},Math.floor(0))}},_r=function(h,d){const c=setTimeout(h,d);return"object"==typeof c&&c.unref&&c.unref(),c};class ln{constructor(d,c){this.appName_=d,this.appCheckProvider=c,this.appCheck=null==c?void 0:c.getImmediate({optional:!0}),this.appCheck||null==c||c.get().then(m=>this.appCheck=m)}getToken(d){return this.appCheck?this.appCheck.getToken(d):new Promise((c,m)=>{setTimeout(()=>{this.appCheck?this.getToken(d).then(c,m):c(null)},0)})}addTokenChangeListener(d){var c;null===(c=this.appCheckProvider)||void 0===c||c.get().then(m=>m.addTokenListener(d))}notifyForInvalidToken(){An(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class fr{constructor(d,c,m){this.appName_=d,this.firebaseOptions_=c,this.authProvider_=m,this.auth_=null,this.auth_=m.getImmediate({optional:!0}),this.auth_||m.onInit(I=>this.auth_=I)}getToken(d){return this.auth_?this.auth_.getToken(d).catch(c=>c&&"auth/token-not-initialized"===c.code?(en("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(c)):new Promise((c,m)=>{setTimeout(()=>{this.auth_?this.getToken(d).then(c,m):c(null)},0)})}addTokenChangeListener(d){this.auth_?this.auth_.addAuthTokenListener(d):this.authProvider_.get().then(c=>c.addAuthTokenListener(d))}removeTokenChangeListener(d){this.authProvider_.get().then(c=>c.removeAuthTokenListener(d))}notifyForInvalidToken(){let d='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';d+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',An(d)}}let Wn=(()=>{class h{constructor(c){this.accessToken=c}getToken(c){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(c){c(this.accessToken)}removeTokenChangeListener(c){}notifyForInvalidToken(){}}return h.OWNER="owner",h})();const Yn=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,bt="websocket",pt="long_polling";class sn{constructor(d,c,m,I,M=!1,L="",ce=!1){this.secure=c,this.namespace=m,this.webSocketOnly=I,this.nodeAdmin=M,this.persistenceKey=L,this.includeNamespaceInQueryParams=ce,this._host=d.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=it.get("host:"+d)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(d){d!==this.internalHost&&(this.internalHost=d,this.isCacheableHost()&&it.set("host:"+this._host,this.internalHost))}toString(){let d=this.toURLString();return this.persistenceKey&&(d+="<"+this.persistenceKey+">"),d}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function vr(h,d,c){let m;if((0,G.hu)("string"==typeof d,"typeof type must == string"),(0,G.hu)("object"==typeof c,"typeof params must == object"),d===bt)m=(h.secure?"wss://":"ws://")+h.internalHost+"/.ws?";else{if(d!==pt)throw new Error("Unknown connection type: "+d);m=(h.secure?"https://":"http://")+h.internalHost+"/.lp?"}(function Un(h){return h.host!==h.internalHost||h.isCustomHost()||h.includeNamespaceInQueryParams})(h)&&(c.ns=h.namespace);const I=[];return Fe(c,(M,L)=>{I.push(M+"="+L)}),m+I.join("&")}class ui{constructor(){this.counters_={}}incrementCounter(d,c=1){(0,G.r3)(this.counters_,d)||(this.counters_[d]=0),this.counters_[d]+=c}get(){return(0,G.p$)(this.counters_)}}const Er={},$r={};function zn(h){const d=h.toString();return Er[d]||(Er[d]=new ui),Er[d]}class Wr{constructor(d){this.onMessage_=d,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(d,c){this.closeAfterResponse=d,this.onClose=c,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(d,c){for(this.pendingResponses[d]=c;this.pendingResponses[this.currentResponseNum];){const m=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let I=0;I<m.length;++I)m[I]&&xn(()=>{this.onMessage_(m[I])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class In{constructor(d,c,m,I,M,L,ce){this.connId=d,this.repoInfo=c,this.applicationId=m,this.appCheckToken=I,this.authToken=M,this.transportSessionId=L,this.lastSessionId=ce,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=_n(d),this.stats_=zn(c),this.urlFn=we=>(this.appCheckToken&&(we.ac=this.appCheckToken),vr(c,pt,we))}open(d,c){this.curSegmentNum=0,this.onDisconnect_=c,this.myPacketOrderer=new Wr(d),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(h){if((0,G.Yr)()||"complete"===document.readyState)h();else{let d=!1;const c=function(){document.body?d||(d=!0,h()):setTimeout(c,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&c()}),window.attachEvent("onload",c))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new xi((...M)=>{const[L,ce,we,Ge,Mt]=M;if(this.incrementIncomingBytes_(M),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===L)this.id=ce,this.password=we;else{if("close"!==L)throw new Error("Unrecognized command received: "+L);ce?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(ce,()=>{this.onClosed_()})):this.onClosed_()}},(...M)=>{const[L,ce]=M;this.incrementIncomingBytes_(M),this.myPacketOrderer.handleResponse(L,ce)},()=>{this.onClosed_()},this.urlFn);const m={start:"t"};m.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(m.cb=this.scriptTagHolder.uniqueCallbackIdentifier),m.v="5",this.transportSessionId&&(m.s=this.transportSessionId),this.lastSessionId&&(m.ls=this.lastSessionId),this.applicationId&&(m.p=this.applicationId),this.appCheckToken&&(m.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Yn.test(location.hostname)&&(m.r="f");const I=this.urlFn(m);this.log_("Connecting via long-poll to "+I),this.scriptTagHolder.addTag(I,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){In.forceAllow_=!0}static forceDisallow(){In.forceDisallow_=!0}static isAvailable(){return!((0,G.Yr)()||!In.forceAllow_&&(In.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(d){const c=(0,G.Pz)(d);this.bytesSent+=c.length,this.stats_.incrementCounter("bytes_sent",c.length);const m=(0,G.h$)(c),I=ot(m,1840);for(let M=0;M<I.length;M++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,I.length,I[M]),this.curSegmentNum++}addDisconnectPingFrame(d,c){if((0,G.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const m={dframe:"t"};m.id=d,m.pw=c,this.myDisconnFrame.src=this.urlFn(m),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(d){const c=(0,G.Pz)(d).length;this.bytesReceived+=c,this.stats_.incrementCounter("bytes_received",c)}}class xi{constructor(d,c,m,I){if(this.onDisconnect=m,this.urlFn=I,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,G.Yr)())this.commandCB=d,this.onMessageCB=c;else{this.uniqueCallbackIdentifier=lt(),window["pLPCommand"+this.uniqueCallbackIdentifier]=d,window["pRTLPCB"+this.uniqueCallbackIdentifier]=c,this.myIFrame=xi.createIFrame_();let M="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(M='<script>document.domain="'+document.domain+'";<\/script>');const L="<html><body>"+M+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(L),this.myIFrame.doc.close()}catch(ce){en("frame writing exception"),ce.stack&&en(ce.stack),en(ce)}}}static createIFrame_(){const d=document.createElement("iframe");if(d.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(d);try{d.contentWindow.document||en("No IE domain setting required")}catch(c){const m=document.domain;d.src="javascript:void((function(){document.open();document.domain='"+m+"';document.close();})())"}return d.contentDocument?d.doc=d.contentDocument:d.contentWindow?d.doc=d.contentWindow.document:d.document&&(d.doc=d.document),d}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const d=this.onDisconnect;d&&(this.onDisconnect=null,d())}startLongPoll(d,c){for(this.myID=d,this.myPW=c,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const d={};d.id=this.myID,d.pw=this.myPW,d.ser=this.currentSerial;let c=this.urlFn(d),m="",I=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+m.length<=1870;){const L=this.pendingSegs.shift();m=m+"&seg"+I+"="+L.seg+"&ts"+I+"="+L.ts+"&d"+I+"="+L.d,I++}return c+=m,this.addLongPollTag_(c,this.currentSerial),!0}return!1}enqueueSegment(d,c,m){this.pendingSegs.push({seg:d,ts:c,d:m}),this.alive&&this.newRequest_()}addLongPollTag_(d,c){this.outstandingRequests.add(c);const m=()=>{this.outstandingRequests.delete(c),this.newRequest_()},I=setTimeout(m,Math.floor(25e3));this.addTag(d,()=>{clearTimeout(I),m()})}addTag(d,c){(0,G.Yr)()?this.doNodeLongPoll(d,c):setTimeout(()=>{try{if(!this.sendNewPolls)return;const m=this.myIFrame.doc.createElement("script");m.type="text/javascript",m.async=!0,m.src=d,m.onload=m.onreadystatechange=function(){const I=m.readyState;(!I||"loaded"===I||"complete"===I)&&(m.onload=m.onreadystatechange=null,m.parentNode&&m.parentNode.removeChild(m),c())},m.onerror=()=>{en("Long-poll script failed to load: "+d),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(m)}catch(m){}},Math.floor(1))}}let Mn=null;"undefined"!=typeof MozWebSocket?Mn=MozWebSocket:"undefined"!=typeof WebSocket&&(Mn=WebSocket);let qr=(()=>{class h{constructor(c,m,I,M,L,ce,we){this.connId=c,this.applicationId=I,this.appCheckToken=M,this.authToken=L,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=_n(this.connId),this.stats_=zn(m),this.connURL=h.connectionURL_(m,ce,we,M),this.nodeAdmin=m.nodeAdmin}static connectionURL_(c,m,I,M){const L={v:"5"};return!(0,G.Yr)()&&"undefined"!=typeof location&&location.hostname&&Yn.test(location.hostname)&&(L.r="f"),m&&(L.s=m),I&&(L.ls=I),M&&(L.ac=M),vr(c,bt,L)}open(c,m){this.onDisconnect=m,this.onMessage=c,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,it.set("previous_websocket_failure",!0);try{if((0,G.Yr)()){const M={headers:{"User-Agent":`Firebase/5/${rt}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(M.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(M.headers["X-Firebase-AppCheck"]=this.appCheckToken);const L=process.env,ce=0===this.connURL.indexOf("wss://")?L.HTTPS_PROXY||L.https_proxy:L.HTTP_PROXY||L.http_proxy;ce&&(M.proxy={origin:ce}),this.mySock=new Mn(this.connURL,[],M)}else this.mySock=new Mn(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(I){this.log_("Error instantiating WebSocket.");const M=I.message||I.data;return M&&this.log_(M),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=I=>{this.handleIncomingFrame(I)},this.mySock.onerror=I=>{this.log_("WebSocket error.  Closing connection.");const M=I.message||I.data;M&&this.log_(M),this.onClosed_()}}start(){}static forceDisallow(){h.forceDisallow_=!0}static isAvailable(){let c=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const I=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);I&&I.length>1&&parseFloat(I[1])<4.4&&(c=!0)}return!c&&null!==Mn&&!h.forceDisallow_}static previouslyFailed(){return it.isInMemoryStorage||!0===it.get("previous_websocket_failure")}markConnectionHealthy(){it.remove("previous_websocket_failure")}appendFrame_(c){if(this.frames.push(c),this.frames.length===this.totalFrames){const m=this.frames.join("");this.frames=null;const I=(0,G.cI)(m);this.onMessage(I)}}handleNewFrameCount_(c){this.totalFrames=c,this.frames=[]}extractFrameCount_(c){if((0,G.hu)(null===this.frames,"We already have a frame buffer"),c.length<=6){const m=Number(c);if(!isNaN(m))return this.handleNewFrameCount_(m),null}return this.handleNewFrameCount_(1),c}handleIncomingFrame(c){if(null===this.mySock)return;const m=c.data;if(this.bytesReceived+=m.length,this.stats_.incrementCounter("bytes_received",m.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(m);else{const I=this.extractFrameCount_(m);null!==I&&this.appendFrame_(I)}}send(c){this.resetKeepAlive();const m=(0,G.Pz)(c);this.bytesSent+=m.length,this.stats_.incrementCounter("bytes_sent",m.length);const I=ot(m,16384);I.length>1&&this.sendString_(String(I.length));for(let M=0;M<I.length;M++)this.sendString_(I[M])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(c){try{this.mySock.send(c)}catch(m){this.log_("Exception thrown from WebSocket.send():",m.message||m.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return h.responsesRequiredToBeHealthy=2,h.healthyTimeout=3e4,h})();class Di{constructor(d){this.initTransports_(d)}static get ALL_TRANSPORTS(){return[In,qr]}initTransports_(d){const c=qr&&qr.isAvailable();let m=c&&!qr.previouslyFailed();if(d.webSocketOnly&&(c||An("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),m=!0),m)this.transports_=[qr];else{const I=this.transports_=[];for(const M of Di.ALL_TRANSPORTS)M&&M.isAvailable()&&I.push(M)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class cr{constructor(d,c,m,I,M,L,ce,we,Ge,Mt){this.id=d,this.repoInfo_=c,this.applicationId_=m,this.appCheckToken_=I,this.authToken_=M,this.onMessage_=L,this.onReady_=ce,this.onDisconnect_=we,this.onKill_=Ge,this.lastSessionId=Mt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=_n("c:"+this.id+":"),this.transportManager_=new Di(c),this.log_("Connection created"),this.start_()}start_(){const d=this.transportManager_.initialTransport();this.conn_=new d(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=d.responsesRequiredToBeHealthy||0;const c=this.connReceiver_(this.conn_),m=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(c,m)},Math.floor(0));const I=d.healthyTimeout||0;I>0&&(this.healthyTimeout_=_r(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(I)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(d){return c=>{d===this.conn_?this.onConnectionLost_(c):d===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(d){return c=>{2!==this.state_&&(d===this.rx_?this.onPrimaryMessageReceived_(c):d===this.secondaryConn_?this.onSecondaryMessageReceived_(c):this.log_("message on old connection"))}}sendRequest(d){this.sendData_({t:"d",d})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(d){if("t"in d){const c=d.t;"a"===c?this.upgradeIfSecondaryHealthy_():"r"===c?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===c&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(d){const c=Tn("t",d),m=Tn("d",d);if("c"===c)this.onSecondaryControl_(m);else{if("d"!==c)throw new Error("Unknown protocol layer: "+c);this.pendingDataMessages.push(m)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(d){const c=Tn("t",d),m=Tn("d",d);"c"===c?this.onControl_(m):"d"===c&&this.onDataMessage_(m)}onDataMessage_(d){this.onPrimaryResponse_(),this.onMessage_(d)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(d){const c=Tn("t",d);if("d"in d){const m=d.d;if("h"===c)this.onHandshake_(m);else if("n"===c){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let I=0;I<this.pendingDataMessages.length;++I)this.onDataMessage_(this.pendingDataMessages[I]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===c?this.onConnectionShutdown_(m):"r"===c?this.onReset_(m):"e"===c?fn("Server Error: "+m):"o"===c?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):fn("Unknown control packet command: "+c)}}onHandshake_(d){const c=d.ts,m=d.v,I=d.h;this.sessionId=d.s,this.repoInfo_.host=I,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,c),"5"!==m&&An("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const d=this.transportManager_.upgradeTransport();d&&this.startUpgrade_(d)}startUpgrade_(d){this.secondaryConn_=new d(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=d.responsesRequiredToBeHealthy||0;const c=this.connReceiver_(this.secondaryConn_),m=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(c,m),_r(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(d){this.log_("Reset packet received.  New host: "+d),this.repoInfo_.host=d,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(d,c){this.log_("Realtime connection established."),this.conn_=d,this.state_=1,this.onReady_&&(this.onReady_(c,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):_r(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const d=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===d||this.rx_===d)&&this.close()}onConnectionLost_(d){this.conn_=null,d||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(it.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(d){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(d),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(d){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(d)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Ri{put(d,c,m,I){}merge(d,c,m,I){}refreshAuthToken(d){}refreshAppCheckToken(d){}onDisconnectPut(d,c,m){}onDisconnectMerge(d,c,m){}onDisconnectCancel(d,c){}reportStats(d){}}class ji{constructor(d){this.allowedEvents_=d,this.listeners_={},(0,G.hu)(Array.isArray(d)&&d.length>0,"Requires a non-empty array")}trigger(d,...c){if(Array.isArray(this.listeners_[d])){const m=[...this.listeners_[d]];for(let I=0;I<m.length;I++)m[I].callback.apply(m[I].context,c)}}on(d,c,m){this.validateEventType_(d),this.listeners_[d]=this.listeners_[d]||[],this.listeners_[d].push({callback:c,context:m});const I=this.getInitialEvent(d);I&&c.apply(m,I)}off(d,c,m){this.validateEventType_(d);const I=this.listeners_[d]||[];for(let M=0;M<I.length;M++)if(I[M].callback===c&&(!m||m===I[M].context))return void I.splice(M,1)}validateEventType_(d){(0,G.hu)(this.allowedEvents_.find(c=>c===d),"Unknown event: "+d)}}class Xe extends ji{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,G.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Xe}getInitialEvent(d){return(0,G.hu)("online"===d,"Unknown event type: "+d),[this.online_]}currentlyOnline(){return this.online_}}class It{constructor(d,c){if(void 0===c){this.pieces_=d.split("/");let m=0;for(let I=0;I<this.pieces_.length;I++)this.pieces_[I].length>0&&(this.pieces_[m]=this.pieces_[I],m++);this.pieces_.length=m,this.pieceNum_=0}else this.pieces_=d,this.pieceNum_=c}toString(){let d="";for(let c=this.pieceNum_;c<this.pieces_.length;c++)""!==this.pieces_[c]&&(d+="/"+this.pieces_[c]);return d||"/"}}function Ut(){return new It("")}function Qt(h){return h.pieceNum_>=h.pieces_.length?null:h.pieces_[h.pieceNum_]}function Ir(h){return h.pieces_.length-h.pieceNum_}function Fn(h){let d=h.pieceNum_;return d<h.pieces_.length&&d++,new It(h.pieces_,d)}function kr(h){return h.pieceNum_<h.pieces_.length?h.pieces_[h.pieces_.length-1]:null}function Hi(h,d=0){return h.pieces_.slice(h.pieceNum_+d)}function Bs(h){if(h.pieceNum_>=h.pieces_.length)return null;const d=[];for(let c=h.pieceNum_;c<h.pieces_.length-1;c++)d.push(h.pieces_[c]);return new It(d,0)}function ti(h,d){const c=[];for(let m=h.pieceNum_;m<h.pieces_.length;m++)c.push(h.pieces_[m]);if(d instanceof It)for(let m=d.pieceNum_;m<d.pieces_.length;m++)c.push(d.pieces_[m]);else{const m=d.split("/");for(let I=0;I<m.length;I++)m[I].length>0&&c.push(m[I])}return new It(c,0)}function lr(h){return h.pieceNum_>=h.pieces_.length}function vi(h,d){const c=Qt(h),m=Qt(d);if(null===c)return d;if(c===m)return vi(Fn(h),Fn(d));throw new Error("INTERNAL ERROR: innerPath ("+d+") is not within outerPath ("+h+")")}function _o(h,d){const c=Hi(h,0),m=Hi(d,0);for(let I=0;I<c.length&&I<m.length;I++){const M=Nn(c[I],m[I]);if(0!==M)return M}return c.length===m.length?0:c.length<m.length?-1:1}function _s(h,d){if(Ir(h)!==Ir(d))return!1;for(let c=h.pieceNum_,m=d.pieceNum_;c<=h.pieces_.length;c++,m++)if(h.pieces_[c]!==d.pieces_[m])return!1;return!0}function ni(h,d){let c=h.pieceNum_,m=d.pieceNum_;if(Ir(h)>Ir(d))return!1;for(;c<h.pieces_.length;){if(h.pieces_[c]!==d.pieces_[m])return!1;++c,++m}return!0}class Ni{constructor(d,c){this.errorPrefix_=c,this.parts_=Hi(d,0),this.byteLength_=Math.max(1,this.parts_.length);for(let m=0;m<this.parts_.length;m++)this.byteLength_+=(0,G.ug)(this.parts_[m]);co(this)}}function co(h){if(h.byteLength_>768)throw new Error(h.errorPrefix_+"has a key path longer than 768 bytes ("+h.byteLength_+").");if(h.parts_.length>32)throw new Error(h.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ds(h))}function Ds(h){return 0===h.parts_.length?"":"in property '"+h.parts_.join(".")+"'"}class Rs extends ji{constructor(){let d,c;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(c="visibilitychange",d="hidden"):void 0!==document.mozHidden?(c="mozvisibilitychange",d="mozHidden"):void 0!==document.msHidden?(c="msvisibilitychange",d="msHidden"):void 0!==document.webkitHidden&&(c="webkitvisibilitychange",d="webkitHidden")),this.visible_=!0,c&&document.addEventListener(c,()=>{const m=!document[d];m!==this.visible_&&(this.visible_=m,this.trigger("visible",m))},!1)}static getInstance(){return new Rs}getInitialEvent(d){return(0,G.hu)("visible"===d,"Unknown event type: "+d),[this.visible_]}}const es=1e3;let Fi,Kr=(()=>{class h extends Ri{constructor(c,m,I,M,L,ce,we,Ge){if(super(),this.repoInfo_=c,this.applicationId_=m,this.onDataUpdate_=I,this.onConnectStatus_=M,this.onServerInfoUpdate_=L,this.authTokenProvider_=ce,this.appCheckTokenProvider_=we,this.authOverride_=Ge,this.id=h.nextPersistentConnectionId_++,this.log_=_n("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=es,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Ge&&!(0,G.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Rs.getInstance().on("visible",this.onVisible_,this),-1===c.host.indexOf("fblocal")&&Xe.getInstance().on("online",this.onOnline_,this)}sendRequest(c,m,I){const M=++this.requestNumber_,L={r:M,a:c,b:m};this.log_((0,G.Pz)(L)),(0,G.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(L),I&&(this.requestCBHash_[M]=I)}get(c){this.initConnection_();const m=new G.BH,I={p:c._path.toString(),q:c._queryObject},M={action:"g",request:I,onComplete:ce=>{const we=ce.d;"ok"===ce.s?(this.onDataUpdate_(I.p,we,!1,null),m.resolve(we)):m.reject(we)}};this.outstandingGets_.push(M),this.outstandingGetCount_++;const L=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const ce=this.outstandingGets_[L];void 0===ce||M!==ce||(delete this.outstandingGets_[L],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+L+" timed out on connection"),m.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(L),m.promise}listen(c,m,I,M){this.initConnection_();const L=c._queryIdentifier,ce=c._path.toString();this.log_("Listen called for "+ce+" "+L),this.listens.has(ce)||this.listens.set(ce,new Map),(0,G.hu)(c._queryParams.isDefault()||!c._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,G.hu)(!this.listens.get(ce).has(L),"listen() called twice for same path/queryId.");const we={onComplete:M,hashFn:m,query:c,tag:I};this.listens.get(ce).set(L,we),this.connected_&&this.sendListen_(we)}sendGet_(c){const m=this.outstandingGets_[c];this.sendRequest("g",m.request,I=>{delete this.outstandingGets_[c],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),m.onComplete&&m.onComplete(I)})}sendListen_(c){const m=c.query,I=m._path.toString(),M=m._queryIdentifier;this.log_("Listen on "+I+" for "+M);const L={p:I};c.tag&&(L.q=m._queryObject,L.t=c.tag),L.h=c.hashFn(),this.sendRequest("q",L,we=>{const Ge=we.d,Mt=we.s;h.warnOnListenWarnings_(Ge,m),(this.listens.get(I)&&this.listens.get(I).get(M))===c&&(this.log_("listen response",we),"ok"!==Mt&&this.removeListen_(I,M),c.onComplete&&c.onComplete(Mt,Ge))})}static warnOnListenWarnings_(c,m){if(c&&"object"==typeof c&&(0,G.r3)(c,"w")){const I=(0,G.DV)(c,"w");if(Array.isArray(I)&&~I.indexOf("no_index")){const M='".indexOn": "'+m._queryParams.getIndex().toString()+'"',L=m._path.toString();An(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${M} at ${L} to your security rules for better performance.`)}}}refreshAuthToken(c){this.authToken_=c,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(c)}reduceReconnectDelayIfAdminCredential_(c){(c&&40===c.length||(0,G.GJ)(c))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(c){this.appCheckToken_=c,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const c=this.authToken_,m=(0,G.w9)(c)?"auth":"gauth",I={cred:c};null===this.authOverride_?I.noauth=!0:"object"==typeof this.authOverride_&&(I.authvar=this.authOverride_),this.sendRequest(m,I,M=>{const L=M.s,ce=M.d||"error";this.authToken_===c&&("ok"===L?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(L,ce))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},c=>{const m=c.s,I=c.d||"error";"ok"===m?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(m,I)})}unlisten(c,m){const I=c._path.toString(),M=c._queryIdentifier;this.log_("Unlisten called for "+I+" "+M),(0,G.hu)(c._queryParams.isDefault()||!c._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(I,M)&&this.connected_&&this.sendUnlisten_(I,M,c._queryObject,m)}sendUnlisten_(c,m,I,M){this.log_("Unlisten on "+c+" for "+m);const L={p:c};M&&(L.q=I,L.t=M),this.sendRequest("n",L)}onDisconnectPut(c,m,I){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",c,m,I):this.onDisconnectRequestQueue_.push({pathString:c,action:"o",data:m,onComplete:I})}onDisconnectMerge(c,m,I){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",c,m,I):this.onDisconnectRequestQueue_.push({pathString:c,action:"om",data:m,onComplete:I})}onDisconnectCancel(c,m){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",c,null,m):this.onDisconnectRequestQueue_.push({pathString:c,action:"oc",data:null,onComplete:m})}sendOnDisconnect_(c,m,I,M){const L={p:m,d:I};this.log_("onDisconnect "+c,L),this.sendRequest(c,L,ce=>{M&&setTimeout(()=>{M(ce.s,ce.d)},Math.floor(0))})}put(c,m,I,M){this.putInternal("p",c,m,I,M)}merge(c,m,I,M){this.putInternal("m",c,m,I,M)}putInternal(c,m,I,M,L){this.initConnection_();const ce={p:m,d:I};void 0!==L&&(ce.h=L),this.outstandingPuts_.push({action:c,request:ce,onComplete:M}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+m)}sendPut_(c){const m=this.outstandingPuts_[c].action,I=this.outstandingPuts_[c].request,M=this.outstandingPuts_[c].onComplete;this.outstandingPuts_[c].queued=this.connected_,this.sendRequest(m,I,L=>{this.log_(m+" response",L),delete this.outstandingPuts_[c],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),M&&M(L.s,L.d)})}reportStats(c){if(this.connected_){const m={c};this.log_("reportStats",m),this.sendRequest("s",m,I=>{"ok"!==I.s&&this.log_("reportStats","Error sending stats: "+I.d)})}}onDataMessage_(c){if("r"in c){this.log_("from server: "+(0,G.Pz)(c));const m=c.r,I=this.requestCBHash_[m];I&&(delete this.requestCBHash_[m],I(c.b))}else{if("error"in c)throw"A server-side error has occurred: "+c.error;"a"in c&&this.onDataPush_(c.a,c.b)}}onDataPush_(c,m){this.log_("handleServerMessage",c,m),"d"===c?this.onDataUpdate_(m.p,m.d,!1,m.t):"m"===c?this.onDataUpdate_(m.p,m.d,!0,m.t):"c"===c?this.onListenRevoked_(m.p,m.q):"ac"===c?this.onAuthRevoked_(m.s,m.d):"apc"===c?this.onAppCheckRevoked_(m.s,m.d):"sd"===c?this.onSecurityDebugPacket_(m):fn("Unrecognized action received from server: "+(0,G.Pz)(c)+"\nAre you using the latest client?")}onReady_(c,m){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(c),this.lastSessionId=m,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(c){(0,G.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(c))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(c){c&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=es,this.realtime_||this.scheduleConnect_(0)),this.visible_=c}onOnline_(c){c?(this.log_("Browser went online."),this.reconnectDelay_=es,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=es),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const c=(new Date).getTime()-this.lastConnectionAttemptTime_;let m=Math.max(0,this.reconnectDelay_-c);m=Math.random()*m,this.log_("Trying to reconnect in "+m+"ms"),this.scheduleConnect_(m),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var c=this;return(0,Ct.Z)(function*(){if(c.shouldReconnect_()){c.log_("Making a connection attempt"),c.lastConnectionAttemptTime_=(new Date).getTime(),c.lastConnectionEstablishedTime_=null;const m=c.onDataMessage_.bind(c),I=c.onReady_.bind(c),M=c.onRealtimeDisconnect_.bind(c),L=c.id+":"+h.nextConnectionId_++,ce=c.lastSessionId;let we=!1,Ge=null;const Mt=function(){Ge?Ge.close():(we=!0,M())};c.realtime_={close:Mt,sendRequest:function(wn){(0,G.hu)(Ge,"sendRequest call when we're not connected not allowed."),Ge.sendRequest(wn)}};const Zt=c.forceTokenRefresh_;c.forceTokenRefresh_=!1;try{const[wn,ar]=yield Promise.all([c.authTokenProvider_.getToken(Zt),c.appCheckTokenProvider_.getToken(Zt)]);we?en("getToken() completed but was canceled"):(en("getToken() completed. Creating connection."),c.authToken_=wn&&wn.accessToken,c.appCheckToken_=ar&&ar.token,Ge=new cr(L,c.repoInfo_,c.applicationId_,c.appCheckToken_,c.authToken_,m,I,M,Oi=>{An(Oi+" ("+c.repoInfo_.toString()+")"),c.interrupt("server_kill")},ce))}catch(wn){c.log_("Failed to get token: "+wn),we||(c.repoInfo_.nodeAdmin&&An(wn),Mt())}}})()}interrupt(c){en("Interrupting connection for reason: "+c),this.interruptReasons_[c]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(c){en("Resuming connection for reason: "+c),delete this.interruptReasons_[c],(0,G.xb)(this.interruptReasons_)&&(this.reconnectDelay_=es,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(c){const m=c-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:m})}cancelSentTransactions_(){for(let c=0;c<this.outstandingPuts_.length;c++){const m=this.outstandingPuts_[c];m&&"h"in m.request&&m.queued&&(m.onComplete&&m.onComplete("disconnect"),delete this.outstandingPuts_[c],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(c,m){let I;I=m?m.map(L=>xr(L)).join("$"):"default";const M=this.removeListen_(c,I);M&&M.onComplete&&M.onComplete("permission_denied")}removeListen_(c,m){const I=new It(c).toString();let M;if(this.listens.has(I)){const L=this.listens.get(I);M=L.get(m),L.delete(m),0===L.size&&this.listens.delete(I)}else M=void 0;return M}onAuthRevoked_(c,m){en("Auth token revoked: "+c+"/"+m),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===c||"permission_denied"===c)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(c,m){en("App check token revoked: "+c+"/"+m),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===c||"permission_denied"===c)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(c){this.securityDebugCallback_?this.securityDebugCallback_(c):"msg"in c&&console.log("FIREBASE: "+c.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const c of this.listens.values())for(const m of c.values())this.sendListen_(m);for(let c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){const c=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(c.action,c.pathString,c.data,c.onComplete)}for(let c=0;c<this.outstandingGets_.length;c++)this.outstandingGets_[c]&&this.sendGet_(c)}sendConnectStats_(){const c={};let m="js";(0,G.Yr)()&&(m=this.repoInfo_.nodeAdmin?"admin_node":"node"),c["sdk."+m+"."+rt.replace(/\./g,"-")]=1,(0,G.uI)()?c["framework.cordova"]=1:(0,G.b$)()&&(c["framework.reactnative"]=1),this.reportStats(c)}shouldReconnect_(){const c=Xe.getInstance().currentlyOnline();return(0,G.xb)(this.interruptReasons_)&&c}}return h.nextPersistentConnectionId_=0,h.nextConnectionId_=0,h})();class br{constructor(d,c){this.name=d,this.node=c}static Wrap(d,c){return new br(d,c)}}class Ts{getCompare(){return this.compare.bind(this)}indexedValueChanged(d,c){const m=new br(rn,d),I=new br(rn,c);return 0!==this.compare(m,I)}minPost(){return br.MIN}}class Ss extends Ts{static get __EMPTY_NODE(){return Fi}static set __EMPTY_NODE(d){Fi=d}compare(d,c){return Nn(d.name,c.name)}isDefinedOn(d){throw(0,G.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(d,c){return!1}minPost(){return br.MIN}maxPost(){return new br(nr,Fi)}makePost(d,c){return(0,G.hu)("string"==typeof d,"KeyIndex indexValue must always be a string."),new br(d,Fi)}toString(){return".key"}}const ds=new Ss;class jr{constructor(d,c,m,I,M=null){this.isReverse_=I,this.resultGenerator_=M,this.nodeStack_=[];let L=1;for(;!d.isEmpty();)if(d=d,L=c?m(d.key,c):1,I&&(L*=-1),L<0)d=this.isReverse_?d.left:d.right;else{if(0===L){this.nodeStack_.push(d);break}this.nodeStack_.push(d),d=this.isReverse_?d.right:d.left}}getNext(){if(0===this.nodeStack_.length)return null;let c,d=this.nodeStack_.pop();if(c=this.resultGenerator_?this.resultGenerator_(d.key,d.value):{key:d.key,value:d.value},this.isReverse_)for(d=d.left;!d.isEmpty();)this.nodeStack_.push(d),d=d.right;else for(d=d.right;!d.isEmpty();)this.nodeStack_.push(d),d=d.left;return c}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const d=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(d.key,d.value):{key:d.key,value:d.value}}}let Ot,U=(()=>{class h{constructor(c,m,I,M,L){this.key=c,this.value=m,this.color=null!=I?I:h.RED,this.left=null!=M?M:V.EMPTY_NODE,this.right=null!=L?L:V.EMPTY_NODE}copy(c,m,I,M,L){return new h(null!=c?c:this.key,null!=m?m:this.value,null!=I?I:this.color,null!=M?M:this.left,null!=L?L:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(c){return this.left.inorderTraversal(c)||!!c(this.key,this.value)||this.right.inorderTraversal(c)}reverseTraversal(c){return this.right.reverseTraversal(c)||c(this.key,this.value)||this.left.reverseTraversal(c)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(c,m,I){let M=this;const L=I(c,M.key);return M=L<0?M.copy(null,null,null,M.left.insert(c,m,I),null):0===L?M.copy(null,m,null,null,null):M.copy(null,null,null,null,M.right.insert(c,m,I)),M.fixUp_()}removeMin_(){if(this.left.isEmpty())return V.EMPTY_NODE;let c=this;return!c.left.isRed_()&&!c.left.left.isRed_()&&(c=c.moveRedLeft_()),c=c.copy(null,null,null,c.left.removeMin_(),null),c.fixUp_()}remove(c,m){let I,M;if(I=this,m(c,I.key)<0)!I.left.isEmpty()&&!I.left.isRed_()&&!I.left.left.isRed_()&&(I=I.moveRedLeft_()),I=I.copy(null,null,null,I.left.remove(c,m),null);else{if(I.left.isRed_()&&(I=I.rotateRight_()),!I.right.isEmpty()&&!I.right.isRed_()&&!I.right.left.isRed_()&&(I=I.moveRedRight_()),0===m(c,I.key)){if(I.right.isEmpty())return V.EMPTY_NODE;M=I.right.min_(),I=I.copy(M.key,M.value,null,null,I.right.removeMin_())}I=I.copy(null,null,null,null,I.right.remove(c,m))}return I.fixUp_()}isRed_(){return this.color}fixUp_(){let c=this;return c.right.isRed_()&&!c.left.isRed_()&&(c=c.rotateLeft_()),c.left.isRed_()&&c.left.left.isRed_()&&(c=c.rotateRight_()),c.left.isRed_()&&c.right.isRed_()&&(c=c.colorFlip_()),c}moveRedLeft_(){let c=this.colorFlip_();return c.right.left.isRed_()&&(c=c.copy(null,null,null,null,c.right.rotateRight_()),c=c.rotateLeft_(),c=c.colorFlip_()),c}moveRedRight_(){let c=this.colorFlip_();return c.left.left.isRed_()&&(c=c.rotateRight_(),c=c.colorFlip_()),c}rotateLeft_(){const c=this.copy(null,null,h.RED,null,this.right.left);return this.right.copy(null,null,this.color,c,null)}rotateRight_(){const c=this.copy(null,null,h.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,c)}colorFlip_(){const c=this.left.copy(null,null,!this.left.color,null,null),m=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,c,m)}checkMaxDepth_(){const c=this.check_();return Math.pow(2,c)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const c=this.left.check_();if(c!==this.right.check_())throw new Error("Black depths differ");return c+(this.isRed_()?0:1)}}return h.RED=!0,h.BLACK=!1,h})();class V{constructor(d,c=V.EMPTY_NODE){this.comparator_=d,this.root_=c}insert(d,c){return new V(this.comparator_,this.root_.insert(d,c,this.comparator_).copy(null,null,U.BLACK,null,null))}remove(d){return new V(this.comparator_,this.root_.remove(d,this.comparator_).copy(null,null,U.BLACK,null,null))}get(d){let c,m=this.root_;for(;!m.isEmpty();){if(c=this.comparator_(d,m.key),0===c)return m.value;c<0?m=m.left:c>0&&(m=m.right)}return null}getPredecessorKey(d){let c,m=this.root_,I=null;for(;!m.isEmpty();){if(c=this.comparator_(d,m.key),0===c){if(m.left.isEmpty())return I?I.key:null;for(m=m.left;!m.right.isEmpty();)m=m.right;return m.key}c<0?m=m.left:c>0&&(I=m,m=m.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(d){return this.root_.inorderTraversal(d)}reverseTraversal(d){return this.root_.reverseTraversal(d)}getIterator(d){return new jr(this.root_,null,this.comparator_,!1,d)}getIteratorFrom(d,c){return new jr(this.root_,d,this.comparator_,!1,c)}getReverseIteratorFrom(d,c){return new jr(this.root_,d,this.comparator_,!0,c)}getReverseIterator(d){return new jr(this.root_,null,this.comparator_,!0,d)}}function ue(h,d){return Nn(h.name,d.name)}function Ke(h,d){return Nn(h,d)}V.EMPTY_NODE=new class ne{copy(d,c,m,I,M){return this}insert(d,c,m){return new U(d,c,null)}remove(d,c){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(d){return!1}reverseTraversal(d){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const nn=function(h){return"number"==typeof h?"number:"+ve(h):"string:"+h},Zr=function(h){if(h.isLeafNode()){const d=h.val();(0,G.hu)("string"==typeof d||"number"==typeof d||"object"==typeof d&&(0,G.r3)(d,".sv"),"Priority must be a string or number.")}else(0,G.hu)(h===Ot||h.isEmpty(),"priority of unexpected type.");(0,G.hu)(h===Ot||h.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let or,Rr,pi,ur=(()=>{class h{constructor(c,m=h.__childrenNodeConstructor.EMPTY_NODE){this.value_=c,this.priorityNode_=m,this.lazyHash_=null,(0,G.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Zr(this.priorityNode_)}static set __childrenNodeConstructor(c){or=c}static get __childrenNodeConstructor(){return or}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(c){return new h(this.value_,c)}getImmediateChild(c){return".priority"===c?this.priorityNode_:h.__childrenNodeConstructor.EMPTY_NODE}getChild(c){return lr(c)?this:".priority"===Qt(c)?this.priorityNode_:h.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(c,m){return null}updateImmediateChild(c,m){return".priority"===c?this.updatePriority(m):m.isEmpty()&&".priority"!==c?this:h.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(c,m).updatePriority(this.priorityNode_)}updateChild(c,m){const I=Qt(c);return null===I?m:m.isEmpty()&&".priority"!==I?this:((0,G.hu)(".priority"!==I||1===Ir(c),".priority must be the last token in a path"),this.updateImmediateChild(I,h.__childrenNodeConstructor.EMPTY_NODE.updateChild(Fn(c),m)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(c,m){return!1}val(c){return c&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let c="";this.priorityNode_.isEmpty()||(c+="priority:"+nn(this.priorityNode_.val())+":");const m=typeof this.value_;c+=m+":",c+="number"===m?ve(this.value_):this.value_,this.lazyHash_=Me(c)}return this.lazyHash_}getValue(){return this.value_}compareTo(c){return c===h.__childrenNodeConstructor.EMPTY_NODE?1:c instanceof h.__childrenNodeConstructor?-1:((0,G.hu)(c.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(c))}compareToLeafNode_(c){const m=typeof c.value_,I=typeof this.value_,M=h.VALUE_TYPE_ORDER.indexOf(m),L=h.VALUE_TYPE_ORDER.indexOf(I);return(0,G.hu)(M>=0,"Unknown leaf type: "+m),(0,G.hu)(L>=0,"Unknown leaf type: "+I),M===L?"object"===I?0:this.value_<c.value_?-1:this.value_===c.value_?0:1:L-M}withIndex(){return this}isIndexed(){return!0}equals(c){if(c===this)return!0;if(c.isLeafNode()){const m=c;return this.value_===m.value_&&this.priorityNode_.equals(m.priorityNode_)}return!1}}return h.VALUE_TYPE_ORDER=["object","boolean","number","string"],h})();const Pr=new class qs extends Ts{compare(d,c){const m=d.node.getPriority(),I=c.node.getPriority(),M=m.compareTo(I);return 0===M?Nn(d.name,c.name):M}isDefinedOn(d){return!d.getPriority().isEmpty()}indexedValueChanged(d,c){return!d.getPriority().equals(c.getPriority())}minPost(){return br.MIN}maxPost(){return new br(nr,new ur("[PRIORITY-POST]",pi))}makePost(d,c){const m=Rr(d);return new br(c,new ur("[PRIORITY-POST]",m))}toString(){return".priority"}},qn=Math.log(2);class no{constructor(d){this.count=parseInt(Math.log(d+1)/qn,10),this.current_=this.count-1;const I=(M=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=d+1&I}nextBitIsOne(){const d=!(this.bits_&1<<this.current_);return this.current_--,d}}const z=function(h,d,c,m){h.sort(d);const I=function(we,Ge){const Mt=Ge-we;let gt,Zt;if(0===Mt)return null;if(1===Mt)return gt=h[we],Zt=c?c(gt):gt,new U(Zt,gt.node,U.BLACK,null,null);{const wn=parseInt(Mt/2,10)+we,ar=I(we,wn),Oi=I(wn+1,Ge);return gt=h[wn],Zt=c?c(gt):gt,new U(Zt,gt.node,U.BLACK,ar,Oi)}},ce=function(we){let Ge=null,Mt=null,gt=h.length;const Zt=function(ar,Oi){const yi=gt-ar,Sc=gt;gt-=ar;const Xo=I(yi+1,Sc),Zi=h[yi],Yu=c?c(Zi):Zi;wn(new U(Yu,Zi.node,Oi,null,Xo))},wn=function(ar){Ge?(Ge.left=ar,Ge=ar):(Mt=ar,Ge=ar)};for(let ar=0;ar<we.count;++ar){const Oi=we.nextBitIsOne(),yi=Math.pow(2,we.count-(ar+1));Oi?Zt(yi,U.BLACK):(Zt(yi,U.BLACK),Zt(yi,U.RED))}return Mt}(new no(h.length));return new V(m||d,ce)};let F;const k={};class re{constructor(d,c){this.indexes_=d,this.indexSet_=c}static get Default(){return(0,G.hu)(k&&Pr,"ChildrenNode.ts has not been loaded"),F=F||new re({".priority":k},{".priority":Pr}),F}get(d){const c=(0,G.DV)(this.indexes_,d);if(!c)throw new Error("No index defined for "+d);return c instanceof V?c:null}hasIndex(d){return(0,G.r3)(this.indexSet_,d.toString())}addIndex(d,c){(0,G.hu)(d!==ds,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const m=[];let I=!1;const M=c.getIterator(br.Wrap);let ce,L=M.getNext();for(;L;)I=I||d.isDefinedOn(L.node),m.push(L),L=M.getNext();ce=I?z(m,d.getCompare()):k;const we=d.toString(),Ge=Object.assign({},this.indexSet_);Ge[we]=d;const Mt=Object.assign({},this.indexes_);return Mt[we]=ce,new re(Mt,Ge)}addToIndexes(d,c){const m=(0,G.UI)(this.indexes_,(I,M)=>{const L=(0,G.DV)(this.indexSet_,M);if((0,G.hu)(L,"Missing index implementation for "+M),I===k){if(L.isDefinedOn(d.node)){const ce=[],we=c.getIterator(br.Wrap);let Ge=we.getNext();for(;Ge;)Ge.name!==d.name&&ce.push(Ge),Ge=we.getNext();return ce.push(d),z(ce,L.getCompare())}return k}{const ce=c.get(d.name);let we=I;return ce&&(we=we.remove(new br(d.name,ce))),we.insert(d,d.node)}});return new re(m,this.indexSet_)}removeFromIndexes(d,c){const m=(0,G.UI)(this.indexes_,I=>{if(I===k)return I;{const M=c.get(d.name);return M?I.remove(new br(d.name,M)):I}});return new re(m,this.indexSet_)}}let xt,v=(()=>{class h{constructor(c,m,I){this.children_=c,this.priorityNode_=m,this.indexMap_=I,this.lazyHash_=null,this.priorityNode_&&Zr(this.priorityNode_),this.children_.isEmpty()&&(0,G.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return xt||(xt=new h(new V(Ke),null,re.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||xt}updatePriority(c){return this.children_.isEmpty()?this:new h(this.children_,c,this.indexMap_)}getImmediateChild(c){if(".priority"===c)return this.getPriority();{const m=this.children_.get(c);return null===m?xt:m}}getChild(c){const m=Qt(c);return null===m?this:this.getImmediateChild(m).getChild(Fn(c))}hasChild(c){return null!==this.children_.get(c)}updateImmediateChild(c,m){if((0,G.hu)(m,"We should always be passing snapshot nodes"),".priority"===c)return this.updatePriority(m);{const I=new br(c,m);let M,L;m.isEmpty()?(M=this.children_.remove(c),L=this.indexMap_.removeFromIndexes(I,this.children_)):(M=this.children_.insert(c,m),L=this.indexMap_.addToIndexes(I,this.children_));const ce=M.isEmpty()?xt:this.priorityNode_;return new h(M,ce,L)}}updateChild(c,m){const I=Qt(c);if(null===I)return m;{(0,G.hu)(".priority"!==Qt(c)||1===Ir(c),".priority must be the last token in a path");const M=this.getImmediateChild(I).updateChild(Fn(c),m);return this.updateImmediateChild(I,M)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(c){if(this.isEmpty())return null;const m={};let I=0,M=0,L=!0;if(this.forEachChild(Pr,(ce,we)=>{m[ce]=we.val(c),I++,L&&h.INTEGER_REGEXP_.test(ce)?M=Math.max(M,Number(ce)):L=!1}),!c&&L&&M<2*I){const ce=[];for(const we in m)ce[we]=m[we];return ce}return c&&!this.getPriority().isEmpty()&&(m[".priority"]=this.getPriority().val()),m}hash(){if(null===this.lazyHash_){let c="";this.getPriority().isEmpty()||(c+="priority:"+nn(this.getPriority().val())+":"),this.forEachChild(Pr,(m,I)=>{const M=I.hash();""!==M&&(c+=":"+m+":"+M)}),this.lazyHash_=""===c?"":Me(c)}return this.lazyHash_}getPredecessorChildName(c,m,I){const M=this.resolveIndex_(I);if(M){const L=M.getPredecessorKey(new br(c,m));return L?L.name:null}return this.children_.getPredecessorKey(c)}getFirstChildName(c){const m=this.resolveIndex_(c);if(m){const I=m.minKey();return I&&I.name}return this.children_.minKey()}getFirstChild(c){const m=this.getFirstChildName(c);return m?new br(m,this.children_.get(m)):null}getLastChildName(c){const m=this.resolveIndex_(c);if(m){const I=m.maxKey();return I&&I.name}return this.children_.maxKey()}getLastChild(c){const m=this.getLastChildName(c);return m?new br(m,this.children_.get(m)):null}forEachChild(c,m){const I=this.resolveIndex_(c);return I?I.inorderTraversal(M=>m(M.name,M.node)):this.children_.inorderTraversal(m)}getIterator(c){return this.getIteratorFrom(c.minPost(),c)}getIteratorFrom(c,m){const I=this.resolveIndex_(m);if(I)return I.getIteratorFrom(c,M=>M);{const M=this.children_.getIteratorFrom(c.name,br.Wrap);let L=M.peek();for(;null!=L&&m.compare(L,c)<0;)M.getNext(),L=M.peek();return M}}getReverseIterator(c){return this.getReverseIteratorFrom(c.maxPost(),c)}getReverseIteratorFrom(c,m){const I=this.resolveIndex_(m);if(I)return I.getReverseIteratorFrom(c,M=>M);{const M=this.children_.getReverseIteratorFrom(c.name,br.Wrap);let L=M.peek();for(;null!=L&&m.compare(L,c)>0;)M.getNext(),L=M.peek();return M}}compareTo(c){return this.isEmpty()?c.isEmpty()?0:-1:c.isLeafNode()||c.isEmpty()?1:c===b?-1:0}withIndex(c){if(c===ds||this.indexMap_.hasIndex(c))return this;{const m=this.indexMap_.addIndex(c,this.children_);return new h(this.children_,this.priorityNode_,m)}}isIndexed(c){return c===ds||this.indexMap_.hasIndex(c)}equals(c){if(c===this)return!0;if(c.isLeafNode())return!1;{const m=c;if(this.getPriority().equals(m.getPriority())){if(this.children_.count()===m.children_.count()){const I=this.getIterator(Pr),M=m.getIterator(Pr);let L=I.getNext(),ce=M.getNext();for(;L&&ce;){if(L.name!==ce.name||!L.node.equals(ce.node))return!1;L=I.getNext(),ce=M.getNext()}return null===L&&null===ce}return!1}return!1}}resolveIndex_(c){return c===ds?null:this.indexMap_.get(c.toString())}}return h.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,h})();const b=new class P extends v{constructor(){super(new V(Ke),v.EMPTY_NODE,re.Default)}compareTo(d){return d===this?0:1}equals(d){return d===this}getPriority(){return this}getImmediateChild(d){return v.EMPTY_NODE}isEmpty(){return!1}};function J(h,d=null){if(null===h)return v.EMPTY_NODE;if("object"==typeof h&&".priority"in h&&(d=h[".priority"]),(0,G.hu)(null===d||"string"==typeof d||"number"==typeof d||"object"==typeof d&&".sv"in d,"Invalid priority type found: "+typeof d),"object"==typeof h&&".value"in h&&null!==h[".value"]&&(h=h[".value"]),"object"!=typeof h||".sv"in h)return new ur(h,J(d));if(h instanceof Array){let c=v.EMPTY_NODE;return Fe(h,(m,I)=>{if((0,G.r3)(h,m)&&"."!==m.substring(0,1)){const M=J(I);(M.isLeafNode()||!M.isEmpty())&&(c=c.updateImmediateChild(m,M))}}),c.updatePriority(J(d))}{const c=[];let m=!1;if(Fe(h,(L,ce)=>{if("."!==L.substring(0,1)){const we=J(ce);we.isEmpty()||(m=m||!we.getPriority().isEmpty(),c.push(new br(L,we)))}}),0===c.length)return v.EMPTY_NODE;const M=z(c,ue,L=>L.name,Ke);if(m){const L=z(c,Pr.getCompare());return new v(M,J(d),new re({".priority":L},{".priority":Pr}))}return new v(M,J(d),re.Default)}}Object.defineProperties(br,{MIN:{value:new br(rn,v.EMPTY_NODE)},MAX:{value:new br(nr,b)}}),Ss.__EMPTY_NODE=v.EMPTY_NODE,ur.__childrenNodeConstructor=v,function Wt(h){Ot=h}(b),function li(h){pi=h}(b),function ai(h){Rr=h}(J);class wt extends Ts{constructor(d){super(),this.indexPath_=d,(0,G.hu)(!lr(d)&&".priority"!==Qt(d),"Can't create PathIndex with empty path or .priority key")}extractChild(d){return d.getChild(this.indexPath_)}isDefinedOn(d){return!d.getChild(this.indexPath_).isEmpty()}compare(d,c){const m=this.extractChild(d.node),I=this.extractChild(c.node),M=m.compareTo(I);return 0===M?Nn(d.name,c.name):M}makePost(d,c){const m=J(d),I=v.EMPTY_NODE.updateChild(this.indexPath_,m);return new br(c,I)}maxPost(){const d=v.EMPTY_NODE.updateChild(this.indexPath_,b);return new br(nr,d)}toString(){return Hi(this.indexPath_,0).join("/")}}const En=new class dn extends Ts{compare(d,c){const m=d.node.compareTo(c.node);return 0===m?Nn(d.name,c.name):m}isDefinedOn(d){return!0}indexedValueChanged(d,c){return!d.equals(c)}minPost(){return br.MIN}maxPost(){return br.MAX}makePost(d,c){const m=J(d);return new br(c,m)}toString(){return".value"}},wr="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ts=function(){let h=0;const d=[];return function(c){const m=c===h;let I;h=c;const M=new Array(8);for(I=7;I>=0;I--)M[I]=wr.charAt(c%64),c=Math.floor(c/64);(0,G.hu)(0===c,"Cannot push at time == 0");let L=M.join("");if(m){for(I=11;I>=0&&63===d[I];I--)d[I]=0;d[I]++}else for(I=0;I<12;I++)d[I]=Math.floor(64*Math.random());for(I=0;I<12;I++)L+=wr.charAt(d[I]);return(0,G.hu)(20===L.length,"nextPushId: Length should be 20."),L}}(),hs=function(h){if(h===""+Gn)return"-";const d=Cn(h);if(null!=d)return""+(d+1);const c=new Array(h.length);for(let L=0;L<c.length;L++)c[L]=h.charAt(L);if(c.length<786)return c.push("-"),c.join("");let m=c.length-1;for(;m>=0&&"z"===c[m];)m--;if(-1===m)return nr;const M=wr.charAt(wr.indexOf(c[m])+1);return c[m]=M,c.slice(0,m+1).join("")},Ti=function(h){if(h===""+Qn)return rn;const d=Cn(h);if(null!=d)return""+(d-1);const c=new Array(h.length);for(let m=0;m<c.length;m++)c[m]=h.charAt(m);return"-"===c[c.length-1]?1===c.length?""+Gn:(delete c[c.length-1],c.join("")):(c[c.length-1]=wr.charAt(wr.indexOf(c[c.length-1])-1),c.join("")+"z".repeat(786-c.length))};function mi(h){return{type:"value",snapshotNode:h}}function vo(h,d){return{type:"child_added",snapshotNode:d,childName:h}}function Ys(h,d){return{type:"child_removed",snapshotNode:d,childName:h}}function Ps(h,d,c){return{type:"child_changed",snapshotNode:d,childName:h,oldSnap:c}}class xa{constructor(d){this.index_=d}updateChild(d,c,m,I,M,L){(0,G.hu)(d.isIndexed(this.index_),"A node must be indexed if only a child is updated");const ce=d.getImmediateChild(c);return ce.getChild(I).equals(m.getChild(I))&&ce.isEmpty()===m.isEmpty()||(null!=L&&(m.isEmpty()?d.hasChild(c)?L.trackChildChange(Ys(c,ce)):(0,G.hu)(d.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):ce.isEmpty()?L.trackChildChange(vo(c,m)):L.trackChildChange(Ps(c,m,ce))),d.isLeafNode()&&m.isEmpty())?d:d.updateImmediateChild(c,m).withIndex(this.index_)}updateFullNode(d,c,m){return null!=m&&(d.isLeafNode()||d.forEachChild(Pr,(I,M)=>{c.hasChild(I)||m.trackChildChange(Ys(I,M))}),c.isLeafNode()||c.forEachChild(Pr,(I,M)=>{if(d.hasChild(I)){const L=d.getImmediateChild(I);L.equals(M)||m.trackChildChange(Ps(I,M,L))}else m.trackChildChange(vo(I,M))})),c.withIndex(this.index_)}updatePriority(d,c){return d.isEmpty()?v.EMPTY_NODE:d.updatePriority(c)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class zi{constructor(d){this.indexedFilter_=new xa(d.getIndex()),this.index_=d.getIndex(),this.startPost_=zi.getStartPost_(d),this.endPost_=zi.getEndPost_(d)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(d){return this.index_.compare(this.getStartPost(),d)<=0&&this.index_.compare(d,this.getEndPost())<=0}updateChild(d,c,m,I,M,L){return this.matches(new br(c,m))||(m=v.EMPTY_NODE),this.indexedFilter_.updateChild(d,c,m,I,M,L)}updateFullNode(d,c,m){c.isLeafNode()&&(c=v.EMPTY_NODE);let I=c.withIndex(this.index_);I=I.updatePriority(v.EMPTY_NODE);const M=this;return c.forEachChild(Pr,(L,ce)=>{M.matches(new br(L,ce))||(I=I.updateImmediateChild(L,v.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(d,I,m)}updatePriority(d,c){return d}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(d){if(d.hasStart()){const c=d.getIndexStartName();return d.getIndex().makePost(d.getIndexStartValue(),c)}return d.getIndex().minPost()}static getEndPost_(d){if(d.hasEnd()){const c=d.getIndexEndName();return d.getIndex().makePost(d.getIndexEndValue(),c)}return d.getIndex().maxPost()}}class Ya{constructor(d){this.rangedFilter_=new zi(d),this.index_=d.getIndex(),this.limit_=d.getLimit(),this.reverse_=!d.isViewFromLeft()}updateChild(d,c,m,I,M,L){return this.rangedFilter_.matches(new br(c,m))||(m=v.EMPTY_NODE),d.getImmediateChild(c).equals(m)?d:d.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(d,c,m,I,M,L):this.fullLimitUpdateChild_(d,c,m,M,L)}updateFullNode(d,c,m){let I;if(c.isLeafNode()||c.isEmpty())I=v.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<c.numChildren()&&c.isIndexed(this.index_)){let M;I=v.EMPTY_NODE.withIndex(this.index_),M=this.reverse_?c.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let L=0;for(;M.hasNext()&&L<this.limit_;){const ce=M.getNext();let we;if(we=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),ce)<=0:this.index_.compare(ce,this.rangedFilter_.getEndPost())<=0,!we)break;I=I.updateImmediateChild(ce.name,ce.node),L++}}else{let M,L,ce,we;if(I=c.withIndex(this.index_),I=I.updatePriority(v.EMPTY_NODE),this.reverse_){we=I.getReverseIterator(this.index_),M=this.rangedFilter_.getEndPost(),L=this.rangedFilter_.getStartPost();const gt=this.index_.getCompare();ce=(Zt,wn)=>gt(wn,Zt)}else we=I.getIterator(this.index_),M=this.rangedFilter_.getStartPost(),L=this.rangedFilter_.getEndPost(),ce=this.index_.getCompare();let Ge=0,Mt=!1;for(;we.hasNext();){const gt=we.getNext();!Mt&&ce(M,gt)<=0&&(Mt=!0),Mt&&Ge<this.limit_&&ce(gt,L)<=0?Ge++:I=I.updateImmediateChild(gt.name,v.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(d,I,m)}updatePriority(d,c){return d}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(d,c,m,I,M){let L;if(this.reverse_){const gt=this.index_.getCompare();L=(Zt,wn)=>gt(wn,Zt)}else L=this.index_.getCompare();const ce=d;(0,G.hu)(ce.numChildren()===this.limit_,"");const we=new br(c,m),Ge=this.reverse_?ce.getFirstChild(this.index_):ce.getLastChild(this.index_),Mt=this.rangedFilter_.matches(we);if(ce.hasChild(c)){const gt=ce.getImmediateChild(c);let Zt=I.getChildAfterChild(this.index_,Ge,this.reverse_);for(;null!=Zt&&(Zt.name===c||ce.hasChild(Zt.name));)Zt=I.getChildAfterChild(this.index_,Zt,this.reverse_);const wn=null==Zt?1:L(Zt,we);if(Mt&&!m.isEmpty()&&wn>=0)return null!=M&&M.trackChildChange(Ps(c,m,gt)),ce.updateImmediateChild(c,m);{null!=M&&M.trackChildChange(Ys(c,gt));const Oi=ce.updateImmediateChild(c,v.EMPTY_NODE);return null!=Zt&&this.rangedFilter_.matches(Zt)?(null!=M&&M.trackChildChange(vo(Zt.name,Zt.node)),Oi.updateImmediateChild(Zt.name,Zt.node)):Oi}}return m.isEmpty()?d:Mt&&L(Ge,we)>=0?(null!=M&&(M.trackChildChange(Ys(Ge.name,Ge.node)),M.trackChildChange(vo(c,m))),ce.updateImmediateChild(c,m).updateImmediateChild(Ge.name,v.EMPTY_NODE)):d}}class na{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Pr}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,G.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,G.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:rn}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,G.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,G.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:nr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,G.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Pr}copy(){const d=new na;return d.limitSet_=this.limitSet_,d.limit_=this.limit_,d.startSet_=this.startSet_,d.indexStartValue_=this.indexStartValue_,d.startNameSet_=this.startNameSet_,d.indexStartName_=this.indexStartName_,d.endSet_=this.endSet_,d.indexEndValue_=this.indexEndValue_,d.endNameSet_=this.endNameSet_,d.indexEndName_=this.indexEndName_,d.index_=this.index_,d.viewFrom_=this.viewFrom_,d}}function Ka(h,d,c){const m=h.copy();return m.startSet_=!0,void 0===d&&(d=null),m.indexStartValue_=d,null!=c?(m.startNameSet_=!0,m.indexStartName_=c):(m.startNameSet_=!1,m.indexStartName_=""),m}function $o(h,d,c){const m=h.copy();return m.endSet_=!0,void 0===d&&(d=null),m.indexEndValue_=d,void 0!==c?(m.endNameSet_=!0,m.indexEndName_=c):(m.endNameSet_=!1,m.indexEndName_=""),m}function Eo(h,d){const c=h.copy();return c.index_=d,c}function jl(h){const d={};if(h.isDefault())return d;let c;return h.index_===Pr?c="$priority":h.index_===En?c="$value":h.index_===ds?c="$key":((0,G.hu)(h.index_ instanceof wt,"Unrecognized index type!"),c=h.index_.toString()),d.orderBy=(0,G.Pz)(c),h.startSet_&&(d.startAt=(0,G.Pz)(h.indexStartValue_),h.startNameSet_&&(d.startAt+=","+(0,G.Pz)(h.indexStartName_))),h.endSet_&&(d.endAt=(0,G.Pz)(h.indexEndValue_),h.endNameSet_&&(d.endAt+=","+(0,G.Pz)(h.indexEndName_))),h.limitSet_&&(h.isViewFromLeft()?d.limitToFirst=h.limit_:d.limitToLast=h.limit_),d}function Ra(h){const d={};if(h.startSet_&&(d.sp=h.indexStartValue_,h.startNameSet_&&(d.sn=h.indexStartName_)),h.endSet_&&(d.ep=h.indexEndValue_,h.endNameSet_&&(d.en=h.indexEndName_)),h.limitSet_){d.l=h.limit_;let c=h.viewFrom_;""===c&&(c=h.isViewFromLeft()?"l":"r"),d.vf=c}return h.index_!==Pr&&(d.i=h.index_.toString()),d}class Os extends Ri{constructor(d,c,m,I){super(),this.repoInfo_=d,this.onDataUpdate_=c,this.authTokenProvider_=m,this.appCheckTokenProvider_=I,this.log_=_n("p:rest:"),this.listens_={}}reportStats(d){throw new Error("Method not implemented.")}static getListenId_(d,c){return void 0!==c?"tag$"+c:((0,G.hu)(d._queryParams.isDefault(),"should have a tag if it's not a default query."),d._path.toString())}listen(d,c,m,I){const M=d._path.toString();this.log_("Listen called for "+M+" "+d._queryIdentifier);const L=Os.getListenId_(d,m),ce={};this.listens_[L]=ce;const we=jl(d._queryParams);this.restRequest_(M+".json",we,(Ge,Mt)=>{let gt=Mt;if(404===Ge&&(gt=null,Ge=null),null===Ge&&this.onDataUpdate_(M,gt,!1,m),(0,G.DV)(this.listens_,L)===ce){let Zt;Zt=Ge?401===Ge?"permission_denied":"rest_error:"+Ge:"ok",I(Zt,null)}})}unlisten(d,c){const m=Os.getListenId_(d,c);delete this.listens_[m]}get(d){const c=jl(d._queryParams),m=d._path.toString(),I=new G.BH;return this.restRequest_(m+".json",c,(M,L)=>{let ce=L;404===M&&(ce=null,M=null),null===M?(this.onDataUpdate_(m,ce,!1,null),I.resolve(ce)):I.reject(new Error(ce))}),I.promise}refreshAuthToken(d){}restRequest_(d,c={},m){return c.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([I,M])=>{I&&I.accessToken&&(c.auth=I.accessToken),M&&M.token&&(c.ac=M.token);const L=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+d+"?ns="+this.repoInfo_.namespace+(0,G.xO)(c);this.log_("Sending REST request for "+L);const ce=new XMLHttpRequest;ce.onreadystatechange=()=>{if(m&&4===ce.readyState){this.log_("REST Response for "+L+" received. status:",ce.status,"response:",ce.responseText);let we=null;if(ce.status>=200&&ce.status<300){try{we=(0,G.cI)(ce.responseText)}catch(Ge){An("Failed to parse JSON response for "+L+": "+ce.responseText)}m(null,we)}else 401!==ce.status&&404!==ce.status&&An("Got unsuccessful REST response for "+L+" Status: "+ce.status),m(ce.status);m=null}},ce.open("GET",L,!0),ce.send()})}}class Ru{constructor(){this.rootNode_=v.EMPTY_NODE}getNode(d){return this.rootNode_.getChild(d)}updateSnapshot(d,c){this.rootNode_=this.rootNode_.updateChild(d,c)}}function ga(){return{value:null,children:new Map}}function ns(h,d,c){if(lr(d))h.value=c,h.children.clear();else if(null!==h.value)h.value=h.value.updateChild(d,c);else{const m=Qt(d);h.children.has(m)||h.children.set(m,ga()),ns(h.children.get(m),d=Fn(d),c)}}function ra(h,d){if(lr(d))return h.value=null,h.children.clear(),!0;if(null!==h.value){if(h.value.isLeafNode())return!1;{const c=h.value;return h.value=null,c.forEachChild(Pr,(m,I)=>{ns(h,new It(m),I)}),ra(h,d)}}if(h.children.size>0){const c=Qt(d);return d=Fn(d),h.children.has(c)&&ra(h.children.get(c),d)&&h.children.delete(c),0===h.children.size}return!0}function Wi(h,d,c){null!==h.value?c(d,h.value):function Pu(h,d){h.children.forEach((c,m)=>{d(m,c)})}(h,(m,I)=>{Wi(I,new It(d.toString()+"/"+m),c)})}class tc{constructor(d){this.collection_=d,this.last_=null}get(){const d=this.collection_.get(),c=Object.assign({},d);return this.last_&&Fe(this.last_,(m,I)=>{c[m]=c[m]-I}),this.last_=d,c}}class Hl{constructor(d,c){this.server_=c,this.statsToReport_={},this.statsListener_=new tc(d);const m=1e4+2e4*Math.random();_r(this.reportStats_.bind(this),Math.floor(m))}reportStats_(){const d=this.statsListener_.get(),c={};let m=!1;Fe(d,(I,M)=>{M>0&&(0,G.r3)(this.statsToReport_,I)&&(c[I]=M,m=!0)}),m&&this.server_.reportStats(c),_r(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var rs=(()=>{return(h=rs||(rs={}))[h.OVERWRITE=0]="OVERWRITE",h[h.MERGE=1]="MERGE",h[h.ACK_USER_WRITE=2]="ACK_USER_WRITE",h[h.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",rs;var h})();function is(h){return{fromUser:!1,fromServer:!0,queryId:h,tagged:!0}}class Oa{constructor(d,c,m){this.path=d,this.affectedTree=c,this.revert=m,this.type=rs.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(d){if(lr(this.path)){if(null!=this.affectedTree.value)return(0,G.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const c=this.affectedTree.subtree(new It(d));return new Oa(Ut(),c,this.revert)}}return(0,G.hu)(Qt(this.path)===d,"operationForChild called for unrelated child."),new Oa(Fn(this.path),this.affectedTree,this.revert)}}class ka{constructor(d,c){this.source=d,this.path=c,this.type=rs.LISTEN_COMPLETE}operationForChild(d){return lr(this.path)?new ka(this.source,Ut()):new ka(this.source,Fn(this.path))}}class ks{constructor(d,c,m){this.source=d,this.path=c,this.snap=m,this.type=rs.OVERWRITE}operationForChild(d){return lr(this.path)?new ks(this.source,Ut(),this.snap.getImmediateChild(d)):new ks(this.source,Fn(this.path),this.snap)}}class Zs{constructor(d,c,m){this.source=d,this.path=c,this.children=m,this.type=rs.MERGE}operationForChild(d){if(lr(this.path)){const c=this.children.subtree(new It(d));return c.isEmpty()?null:c.value?new ks(this.source,Ut(),c.value):new Zs(this.source,Ut(),c)}return(0,G.hu)(Qt(this.path)===d,"Can't get a merge for a child not on the path of the operation"),new Zs(this.source,Fn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class xo{constructor(d,c,m){this.node_=d,this.fullyInitialized_=c,this.filtered_=m}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(d){if(lr(d))return this.isFullyInitialized()&&!this.filtered_;const c=Qt(d);return this.isCompleteForChild(c)}isCompleteForChild(d){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(d)}getNode(){return this.node_}}class Na{constructor(d){this.query_=d,this.index_=this.query_._queryParams.getIndex()}}function ia(h,d,c,m,I,M){const L=m.filter(ce=>ce.type===c);L.sort((ce,we)=>function zl(h,d,c){if(null==d.childName||null==c.childName)throw(0,G.g5)("Should only compare child_ events.");const m=new br(d.childName,d.snapshotNode),I=new br(c.childName,c.snapshotNode);return h.index_.compare(m,I)}(h,ce,we)),L.forEach(ce=>{const we=function Gl(h,d,c){return"value"===d.type||"child_removed"===d.type||(d.prevName=c.getPredecessorChildName(d.childName,d.snapshotNode,h.index_)),d}(h,ce,M);I.forEach(Ge=>{Ge.respondsTo(ce.type)&&d.push(Ge.createEvent(we,h.query_))})})}function Wl(h,d){return{eventCache:h,serverCache:d}}function Vi(h,d,c,m){return Wl(new xo(d,c,m),h.serverCache)}function ml(h,d,c,m){return Wl(h.eventCache,new xo(d,c,m))}function ho(h){return h.eventCache.isFullyInitialized()?h.eventCache.getNode():null}function Mo(h){return h.serverCache.isFullyInitialized()?h.serverCache.getNode():null}let sa;class Ei{constructor(d,c=(()=>(sa||(sa=new V(er)),sa))()){this.value=d,this.children=c}static fromObject(d){let c=new Ei(null);return Fe(d,(m,I)=>{c=c.set(new It(m),I)}),c}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(d,c){if(null!=this.value&&c(this.value))return{path:Ut(),value:this.value};if(lr(d))return null;{const m=Qt(d),I=this.children.get(m);if(null!==I){const M=I.findRootMostMatchingPathAndValue(Fn(d),c);return null!=M?{path:ti(new It(m),M.path),value:M.value}:null}return null}}findRootMostValueAndPath(d){return this.findRootMostMatchingPathAndValue(d,()=>!0)}subtree(d){if(lr(d))return this;{const c=Qt(d),m=this.children.get(c);return null!==m?m.subtree(Fn(d)):new Ei(null)}}set(d,c){if(lr(d))return new Ei(c,this.children);{const m=Qt(d),M=(this.children.get(m)||new Ei(null)).set(Fn(d),c),L=this.children.insert(m,M);return new Ei(this.value,L)}}remove(d){if(lr(d))return this.children.isEmpty()?new Ei(null):new Ei(null,this.children);{const c=Qt(d),m=this.children.get(c);if(m){const I=m.remove(Fn(d));let M;return M=I.isEmpty()?this.children.remove(c):this.children.insert(c,I),null===this.value&&M.isEmpty()?new Ei(null):new Ei(this.value,M)}return this}}get(d){if(lr(d))return this.value;{const c=Qt(d),m=this.children.get(c);return m?m.get(Fn(d)):null}}setTree(d,c){if(lr(d))return c;{const m=Qt(d),M=(this.children.get(m)||new Ei(null)).setTree(Fn(d),c);let L;return L=M.isEmpty()?this.children.remove(m):this.children.insert(m,M),new Ei(this.value,L)}}fold(d){return this.fold_(Ut(),d)}fold_(d,c){const m={};return this.children.inorderTraversal((I,M)=>{m[I]=M.fold_(ti(d,I),c)}),c(d,this.value,m)}findOnPath(d,c){return this.findOnPath_(d,Ut(),c)}findOnPath_(d,c,m){const I=!!this.value&&m(c,this.value);if(I)return I;if(lr(d))return null;{const M=Qt(d),L=this.children.get(M);return L?L.findOnPath_(Fn(d),ti(c,M),m):null}}foreachOnPath(d,c){return this.foreachOnPath_(d,Ut(),c)}foreachOnPath_(d,c,m){if(lr(d))return this;{this.value&&m(c,this.value);const I=Qt(d),M=this.children.get(I);return M?M.foreachOnPath_(Fn(d),ti(c,I),m):new Ei(null)}}foreach(d){this.foreach_(Ut(),d)}foreach_(d,c){this.children.inorderTraversal((m,I)=>{I.foreach_(ti(d,m),c)}),this.value&&c(d,this.value)}foreachChild(d){this.children.inorderTraversal((c,m)=>{m.value&&d(c,m.value)})}}class Gr{constructor(d){this.writeTree_=d}static empty(){return new Gr(new Ei(null))}}function Za(h,d,c){if(lr(d))return new Gr(new Ei(c));{const m=h.writeTree_.findRootMostValueAndPath(d);if(null!=m){const I=m.path;let M=m.value;const L=vi(I,d);return M=M.updateChild(L,c),new Gr(h.writeTree_.set(I,M))}{const I=new Ei(c),M=h.writeTree_.setTree(d,I);return new Gr(M)}}}function Es(h,d,c){let m=h;return Fe(c,(I,M)=>{m=Za(m,ti(d,I),M)}),m}function Xa(h,d){if(lr(d))return Gr.empty();{const c=h.writeTree_.setTree(d,new Ei(null));return new Gr(c)}}function Ro(h,d){return null!=Qa(h,d)}function Qa(h,d){const c=h.writeTree_.findRootMostValueAndPath(d);return null!=c?h.writeTree_.get(c.path).getChild(vi(c.path,d)):null}function ku(h){const d=[],c=h.writeTree_.value;return null!=c?c.isLeafNode()||c.forEachChild(Pr,(m,I)=>{d.push(new br(m,I))}):h.writeTree_.children.inorderTraversal((m,I)=>{null!=I.value&&d.push(new br(m,I.value))}),d}function Po(h,d){if(lr(d))return h;{const c=Qa(h,d);return new Gr(null!=c?new Ei(c):h.writeTree_.subtree(d))}}function ql(h){return h.writeTree_.isEmpty()}function Xs(h,d){return Ho(Ut(),h.writeTree_,d)}function Ho(h,d,c){if(null!=d.value)return c.updateChild(h,d.value);{let m=null;return d.children.inorderTraversal((I,M)=>{".priority"===I?((0,G.hu)(null!==M.value,"Priority writes must always be leaf nodes"),m=M.value):c=Ho(ti(h,I),M,c)}),!c.getChild(h).isEmpty()&&null!==m&&(c=c.updateChild(ti(h,".priority"),m)),c}}function ro(h,d){return so(d,h)}function ya(h,d){if(h.snap)return ni(h.path,d);for(const c in h.children)if(h.children.hasOwnProperty(c)&&ni(ti(h.path,c),d))return!0;return!1}function Ja(h){return h.visible}function _a(h,d,c){let m=Gr.empty();for(let I=0;I<h.length;++I){const M=h[I];if(d(M)){const L=M.path;let ce;if(M.snap)ni(c,L)?(ce=vi(c,L),m=Za(m,ce,M.snap)):ni(L,c)&&(ce=vi(L,c),m=Za(m,Ut(),M.snap.getChild(ce)));else{if(!M.children)throw(0,G.g5)("WriteRecord should have .snap or .children");if(ni(c,L))ce=vi(c,L),m=Es(m,ce,M.children);else if(ni(L,c))if(ce=vi(L,c),lr(ce))m=Es(m,Ut(),M.children);else{const we=(0,G.DV)(M.children,Qt(ce));if(we){const Ge=we.getChild(Fn(ce));m=Za(m,Ut(),Ge)}}}}}return m}function R(h,d,c,m,I){if(m||I){const M=Po(h.visibleWrites,d);return!I&&ql(M)?c:I||null!=c||Ro(M,Ut())?Xs(_a(h.allWrites,function(Ge){return(Ge.visible||I)&&(!m||!~m.indexOf(Ge.writeId))&&(ni(Ge.path,d)||ni(d,Ge.path))},d),c||v.EMPTY_NODE):null}{const M=Qa(h.visibleWrites,d);if(null!=M)return M;{const L=Po(h.visibleWrites,d);return ql(L)?c:null!=c||Ro(L,Ut())?Xs(L,c||v.EMPTY_NODE):null}}}function Ye(h,d,c,m){return R(h.writeTree,h.treePath,d,c,m)}function Vt(h,d){return function S(h,d,c){let m=v.EMPTY_NODE;const I=Qa(h.visibleWrites,d);if(I)return I.isLeafNode()||I.forEachChild(Pr,(M,L)=>{m=m.updateImmediateChild(M,L)}),m;if(c){const M=Po(h.visibleWrites,d);return c.forEachChild(Pr,(L,ce)=>{const we=Xs(Po(M,new It(L)),ce);m=m.updateImmediateChild(L,we)}),ku(M).forEach(L=>{m=m.updateImmediateChild(L.name,L.node)}),m}return ku(Po(h.visibleWrites,d)).forEach(L=>{m=m.updateImmediateChild(L.name,L.node)}),m}(h.writeTree,h.treePath,d)}function Sn(h,d,c,m){return function D(h,d,c,m,I){(0,G.hu)(m||I,"Either existingEventSnap or existingServerSnap must exist");const M=ti(d,c);if(Ro(h.visibleWrites,M))return null;{const L=Po(h.visibleWrites,M);return ql(L)?I.getChild(c):Xs(L,I.getChild(c))}}(h.writeTree,h.treePath,d,c,m)}function Vr(h,d){return function q(h,d){return Qa(h.visibleWrites,d)}(h.writeTree,ti(h.treePath,d))}function Xr(h,d,c){return function B(h,d,c,m){const I=ti(d,c),M=Qa(h.visibleWrites,I);return null!=M?M:m.isCompleteForChild(c)?Xs(Po(h.visibleWrites,I),m.getNode().getImmediateChild(c)):null}(h.writeTree,h.treePath,d,c)}function Nr(h,d){return so(ti(h.treePath,d),h.writeTree)}function so(h,d){return{treePath:h,writeTree:d}}class Go{constructor(){this.changeMap=new Map}trackChildChange(d){const c=d.type,m=d.childName;(0,G.hu)("child_added"===c||"child_changed"===c||"child_removed"===c,"Only child changes supported for tracking"),(0,G.hu)(".priority"!==m,"Only non-priority child changes can be tracked.");const I=this.changeMap.get(m);if(I){const M=I.type;if("child_added"===c&&"child_removed"===M)this.changeMap.set(m,Ps(m,d.snapshotNode,I.snapshotNode));else if("child_removed"===c&&"child_added"===M)this.changeMap.delete(m);else if("child_removed"===c&&"child_changed"===M)this.changeMap.set(m,Ys(m,I.oldSnap));else if("child_changed"===c&&"child_added"===M)this.changeMap.set(m,vo(m,d.snapshotNode));else{if("child_changed"!==c||"child_changed"!==M)throw(0,G.g5)("Illegal combination of changes: "+d+" occurred after "+I);this.changeMap.set(m,Ps(m,d.snapshotNode,I.oldSnap))}}else this.changeMap.set(m,d)}getChanges(){return Array.from(this.changeMap.values())}}const aa=new class oa{getCompleteChild(d){return null}getChildAfterChild(d,c,m){return null}};class Fa{constructor(d,c,m=null){this.writes_=d,this.viewCache_=c,this.optCompleteServerCache_=m}getCompleteChild(d){const c=this.viewCache_.eventCache;if(c.isCompleteForChild(d))return c.getNode().getImmediateChild(d);{const m=null!=this.optCompleteServerCache_?new xo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Xr(this.writes_,d,m)}}getChildAfterChild(d,c,m){const I=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Mo(this.viewCache_),M=function $n(h,d,c,m,I,M){return function se(h,d,c,m,I,M,L){let ce;const we=Po(h.visibleWrites,d),Ge=Qa(we,Ut());if(null!=Ge)ce=Ge;else{if(null==c)return[];ce=Xs(we,c)}if(ce=ce.withIndex(L),ce.isEmpty()||ce.isLeafNode())return[];{const Mt=[],gt=L.getCompare(),Zt=M?ce.getReverseIteratorFrom(m,L):ce.getIteratorFrom(m,L);let wn=Zt.getNext();for(;wn&&Mt.length<I;)0!==gt(wn,m)&&Mt.push(wn),wn=Zt.getNext();return Mt}}(h.writeTree,h.treePath,d,c,m,I,M)}(this.writes_,I,c,1,m,d);return 0===M.length?null:M[0]}}function zo(h,d,c,m,I,M){const L=d.eventCache;if(null!=Vr(m,c))return d;{let ce,we;if(lr(c))if((0,G.hu)(d.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),d.serverCache.isFiltered()){const Ge=Mo(d),gt=Vt(m,Ge instanceof v?Ge:v.EMPTY_NODE);ce=h.filter.updateFullNode(d.eventCache.getNode(),gt,M)}else{const Ge=Ye(m,Mo(d));ce=h.filter.updateFullNode(d.eventCache.getNode(),Ge,M)}else{const Ge=Qt(c);if(".priority"===Ge){(0,G.hu)(1===Ir(c),"Can't have a priority with additional path components");const Mt=L.getNode();we=d.serverCache.getNode();const gt=Sn(m,c,Mt,we);ce=null!=gt?h.filter.updatePriority(Mt,gt):L.getNode()}else{const Mt=Fn(c);let gt;if(L.isCompleteForChild(Ge)){we=d.serverCache.getNode();const Zt=Sn(m,c,L.getNode(),we);gt=null!=Zt?L.getNode().getImmediateChild(Ge).updateChild(Mt,Zt):L.getNode().getImmediateChild(Ge)}else gt=Xr(m,Ge,d.serverCache);ce=null!=gt?h.filter.updateChild(L.getNode(),Ge,gt,Mt,I,M):L.getNode()}}return Vi(d,ce,L.isFullyInitialized()||lr(c),h.filter.filtersNodes())}}function Bn(h,d,c,m,I,M,L,ce){const we=d.serverCache;let Ge;const Mt=L?h.filter:h.filter.getIndexedFilter();if(lr(c))Ge=Mt.updateFullNode(we.getNode(),m,null);else if(Mt.filtersNodes()&&!we.isFiltered()){const wn=we.getNode().updateChild(c,m);Ge=Mt.updateFullNode(we.getNode(),wn,null)}else{const wn=Qt(c);if(!we.isCompleteForPath(c)&&Ir(c)>1)return d;const ar=Fn(c),yi=we.getNode().getImmediateChild(wn).updateChild(ar,m);Ge=".priority"===wn?Mt.updatePriority(we.getNode(),yi):Mt.updateChild(we.getNode(),wn,yi,ar,aa,null)}const gt=ml(d,Ge,we.isFullyInitialized()||lr(c),Mt.filtersNodes());return zo(h,gt,c,I,new Fa(I,gt,M),ce)}function Nu(h,d,c,m,I,M,L){const ce=d.eventCache;let we,Ge;const Mt=new Fa(I,d,M);if(lr(c))Ge=h.filter.updateFullNode(d.eventCache.getNode(),m,L),we=Vi(d,Ge,!0,h.filter.filtersNodes());else{const gt=Qt(c);if(".priority"===gt)Ge=h.filter.updatePriority(d.eventCache.getNode(),m),we=Vi(d,Ge,ce.isFullyInitialized(),ce.isFiltered());else{const Zt=Fn(c),wn=ce.getNode().getImmediateChild(gt);let ar;if(lr(Zt))ar=m;else{const Oi=Mt.getCompleteChild(gt);ar=null!=Oi?".priority"===kr(Zt)&&Oi.getChild(Bs(Zt)).isEmpty()?Oi:Oi.updateChild(Zt,m):v.EMPTY_NODE}we=wn.equals(ar)?d:Vi(d,h.filter.updateChild(ce.getNode(),gt,ar,Zt,Mt,L),ce.isFullyInitialized(),h.filter.filtersNodes())}}return we}function Fr(h,d){return h.eventCache.isCompleteForChild(d)}function rc(h,d,c){return c.foreach((m,I)=>{d=d.updateChild(m,I)}),d}function Si(h,d,c,m,I,M,L,ce){if(d.serverCache.getNode().isEmpty()&&!d.serverCache.isFullyInitialized())return d;let Ge,we=d;Ge=lr(c)?m:new Ei(null).setTree(c,m);const Mt=d.serverCache.getNode();return Ge.children.inorderTraversal((gt,Zt)=>{if(Mt.hasChild(gt)){const ar=rc(0,d.serverCache.getNode().getImmediateChild(gt),Zt);we=Bn(h,we,new It(gt),ar,I,M,L,ce)}}),Ge.children.inorderTraversal((gt,Zt)=>{const wn=!d.serverCache.isCompleteForChild(gt)&&void 0===Zt.value;if(!Mt.hasChild(gt)&&!wn){const Oi=rc(0,d.serverCache.getNode().getImmediateChild(gt),Zt);we=Bn(h,we,new It(gt),Oi,I,M,L,ce)}}),we}class Zl{constructor(d,c){this.query_=d,this.eventRegistrations_=[];const m=this.query_._queryParams,I=new xa(m.getIndex()),M=function So(h){return h.loadsAllData()?new xa(h.getIndex()):h.hasLimit()?new Ya(h):new zi(h)}(m);this.processor_=function ss(h){return{filter:h}}(M);const L=c.serverCache,ce=c.eventCache,we=I.updateFullNode(v.EMPTY_NODE,L.getNode(),null),Ge=M.updateFullNode(v.EMPTY_NODE,ce.getNode(),null),Mt=new xo(we,L.isFullyInitialized(),I.filtersNodes()),gt=new xo(Ge,ce.isFullyInitialized(),M.filtersNodes());this.viewCache_=Wl(gt,Mt),this.eventGenerator_=new Na(this.query_)}get query(){return this.query_}}function el(h,d){const c=Mo(h.viewCache_);return c&&(h.query._queryParams.loadsAllData()||!lr(d)&&!c.getImmediateChild(Qt(d)).isEmpty())?c.getChild(d):null}function Ui(h){return 0===h.eventRegistrations_.length}function La(h,d,c){const m=[];if(c){(0,G.hu)(null==d,"A cancel should cancel all event registrations.");const I=h.query._path;h.eventRegistrations_.forEach(M=>{const L=M.createCancelEvent(c,I);L&&m.push(L)})}if(d){let I=[];for(let M=0;M<h.eventRegistrations_.length;++M){const L=h.eventRegistrations_[M];if(L.matches(d)){if(d.hasAnyCallback()){I=I.concat(h.eventRegistrations_.slice(M+1));break}}else I.push(L)}h.eventRegistrations_=I}else h.eventRegistrations_=[];return m}function sc(h,d,c,m){d.type===rs.MERGE&&null!==d.source.queryId&&((0,G.hu)(Mo(h.viewCache_),"We should always have a full cache before handling merges"),(0,G.hu)(ho(h.viewCache_),"Missing event cache, even though we have a server cache"));const I=h.viewCache_,M=function Kl(h,d,c,m,I){const M=new Go;let L,ce;if(c.type===rs.OVERWRITE){const Ge=c;Ge.source.fromUser?L=Nu(h,d,Ge.path,Ge.snap,m,I,M):((0,G.hu)(Ge.source.fromServer,"Unknown source."),ce=Ge.source.tagged||d.serverCache.isFiltered()&&!lr(Ge.path),L=Bn(h,d,Ge.path,Ge.snap,m,I,ce,M))}else if(c.type===rs.MERGE){const Ge=c;Ge.source.fromUser?L=function la(h,d,c,m,I,M,L){let ce=d;return m.foreach((we,Ge)=>{const Mt=ti(c,we);Fr(d,Qt(Mt))&&(ce=Nu(h,ce,Mt,Ge,I,M,L))}),m.foreach((we,Ge)=>{const Mt=ti(c,we);Fr(d,Qt(Mt))||(ce=Nu(h,ce,Mt,Ge,I,M,L))}),ce}(h,d,Ge.path,Ge.children,m,I,M):((0,G.hu)(Ge.source.fromServer,"Unknown source."),ce=Ge.source.tagged||d.serverCache.isFiltered(),L=Si(h,d,Ge.path,Ge.children,m,I,ce,M))}else if(c.type===rs.ACK_USER_WRITE){const Ge=c;L=Ge.revert?function jc(h,d,c,m,I,M){let L;if(null!=Vr(m,c))return d;{const ce=new Fa(m,d,I),we=d.eventCache.getNode();let Ge;if(lr(c)||".priority"===Qt(c)){let Mt;if(d.serverCache.isFullyInitialized())Mt=Ye(m,Mo(d));else{const gt=d.serverCache.getNode();(0,G.hu)(gt instanceof v,"serverChildren would be complete if leaf node"),Mt=Vt(m,gt)}Mt=Mt,Ge=h.filter.updateFullNode(we,Mt,M)}else{const Mt=Qt(c);let gt=Xr(m,Mt,d.serverCache);null==gt&&d.serverCache.isCompleteForChild(Mt)&&(gt=we.getImmediateChild(Mt)),Ge=null!=gt?h.filter.updateChild(we,Mt,gt,Fn(c),ce,M):d.eventCache.getNode().hasChild(Mt)?h.filter.updateChild(we,Mt,v.EMPTY_NODE,Fn(c),ce,M):we,Ge.isEmpty()&&d.serverCache.isFullyInitialized()&&(L=Ye(m,Mo(d)),L.isLeafNode()&&(Ge=h.filter.updateFullNode(Ge,L,M)))}return L=d.serverCache.isFullyInitialized()||null!=Vr(m,Ut()),Vi(d,Ge,L,h.filter.filtersNodes())}}(h,d,Ge.path,m,I,M):function ic(h,d,c,m,I,M,L){if(null!=Vr(I,c))return d;const ce=d.serverCache.isFiltered(),we=d.serverCache;if(null!=m.value){if(lr(c)&&we.isFullyInitialized()||we.isCompleteForPath(c))return Bn(h,d,c,we.getNode().getChild(c),I,M,ce,L);if(lr(c)){let Ge=new Ei(null);return we.getNode().forEachChild(ds,(Mt,gt)=>{Ge=Ge.set(new It(Mt),gt)}),Si(h,d,c,Ge,I,M,ce,L)}return d}{let Ge=new Ei(null);return m.foreach((Mt,gt)=>{const Zt=ti(c,Mt);we.isCompleteForPath(Zt)&&(Ge=Ge.set(Mt,we.getNode().getChild(Zt)))}),Si(h,d,c,Ge,I,M,ce,L)}}(h,d,Ge.path,Ge.affectedTree,m,I,M)}else{if(c.type!==rs.LISTEN_COMPLETE)throw(0,G.g5)("Unknown operation type: "+c.type);L=function va(h,d,c,m,I){const M=d.serverCache;return zo(h,ml(d,M.getNode(),M.isFullyInitialized()||lr(c),M.isFiltered()),c,m,aa,I)}(h,d,c.path,m,M)}const we=M.getChanges();return function Lh(h,d,c){const m=d.eventCache;if(m.isFullyInitialized()){const I=m.getNode().isLeafNode()||m.getNode().isEmpty(),M=ho(h);(c.length>0||!h.eventCache.isFullyInitialized()||I&&!m.getNode().equals(M)||!m.getNode().getPriority().equals(M.getPriority()))&&c.push(mi(ho(d)))}}(d,L,we),{viewCache:L,changes:we}}(h.processor_,I,d,c,m);return function Wf(h,d){(0,G.hu)(d.eventCache.getNode().isIndexed(h.filter.getIndex()),"Event snap not indexed"),(0,G.hu)(d.serverCache.getNode().isIndexed(h.filter.getIndex()),"Server snap not indexed")}(h.processor_,M.viewCache),(0,G.hu)(M.viewCache.serverCache.isFullyInitialized()||!I.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),h.viewCache_=M.viewCache,Hc(h,M.changes,M.viewCache.eventCache.getNode(),null)}function Hc(h,d,c,m){return function qi(h,d,c,m){const I=[],M=[];return d.forEach(L=>{"child_changed"===L.type&&h.index_.indexedValueChanged(L.oldSnap,L.snapshotNode)&&M.push(function Ul(h,d){return{type:"child_moved",snapshotNode:d,childName:h}}(L.childName,L.snapshotNode))}),ia(h,I,"child_removed",d,m,c),ia(h,I,"child_added",d,m,c),ia(h,I,"child_moved",M,m,c),ia(h,I,"child_changed",d,m,c),ia(h,I,"value",d,m,c),I}(h.eventGenerator_,d,c,m?[m]:h.eventRegistrations_)}let oc,W;class Wo{constructor(){this.views=new Map}}function Yi(h,d,c,m){const I=d.source.queryId;if(null!==I){const M=h.views.get(I);return(0,G.hu)(null!=M,"SyncTree gave us an op for an invalid query."),sc(M,d,c,m)}{let M=[];for(const L of h.views.values())M=M.concat(sc(L,d,c,m));return M}}function Xl(h,d,c,m,I){const L=h.views.get(d._queryIdentifier);if(!L){let ce=Ye(c,I?m:null),we=!1;ce?we=!0:m instanceof v?(ce=Vt(c,m),we=!1):(ce=v.EMPTY_NODE,we=!1);const Ge=Wl(new xo(ce,we,!1),new xo(m,I,!1));return new Zl(d,Ge)}return L}function Fu(h){const d=[];for(const c of h.views.values())c.query._queryParams.loadsAllData()||d.push(c);return d}function bo(h,d){let c=null;for(const m of h.views.values())c=c||el(m,d);return c}function ac(h,d){return d._queryParams.loadsAllData()?N(h):h.views.get(d._queryIdentifier)}function nl(h,d){return null!=ac(h,d)}function ua(h){return null!=N(h)}function N(h){for(const d of h.views.values())if(d.query._queryParams.loadsAllData())return d;return null}let yt=1;class St{constructor(d){this.listenProvider_=d,this.syncPointTree_=new Ei(null),this.pendingWriteTree_=function Pe(){return{visibleWrites:Gr.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function un(h,d,c,m,I){return function Qs(h,d,c,m,I){(0,G.hu)(m>h.lastWriteId,"Stacking an older write on top of newer ones"),void 0===I&&(I=!0),h.allWrites.push({path:d,snap:c,writeId:m,visible:I}),I&&(h.visibleWrites=Za(h.visibleWrites,d,c)),h.lastWriteId=m}(h.pendingWriteTree_,d,c,m,I),I?Ki(h,new ks({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},d,c)):[]}function pr(h,d,c=!1){const m=function Oo(h,d){for(let c=0;c<h.allWrites.length;c++){const m=h.allWrites[c];if(m.writeId===d)return m}return null}(h.pendingWriteTree_,d);if(function Yl(h,d){const c=h.allWrites.findIndex(ce=>ce.writeId===d);(0,G.hu)(c>=0,"removeWrite called with nonexistent writeId.");const m=h.allWrites[c];h.allWrites.splice(c,1);let I=m.visible,M=!1,L=h.allWrites.length-1;for(;I&&L>=0;){const ce=h.allWrites[L];ce.visible&&(L>=c&&ya(ce,m.path)?I=!1:ni(m.path,ce.path)&&(M=!0)),L--}return!!I&&(M?(function yl(h){h.visibleWrites=_a(h.allWrites,Ja,Ut()),h.lastWriteId=h.allWrites.length>0?h.allWrites[h.allWrites.length-1].writeId:-1}(h),!0):(m.snap?h.visibleWrites=Xa(h.visibleWrites,m.path):Fe(m.children,we=>{h.visibleWrites=Xa(h.visibleWrites,ti(m.path,we))}),!0))}(h.pendingWriteTree_,d)){let M=new Ei(null);return null!=m.snap?M=M.set(Ut(),!0):Fe(m.children,L=>{M=M.set(new It(L),!0)}),Ki(h,new Oa(m.path,M,c))}return[]}function dr(h,d,c){return Ki(h,new ks({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d,c))}function si(h,d,c,m){const I=d._path,M=h.syncPointTree_.get(I);let L=[];if(M&&("default"===d._queryIdentifier||nl(M,d))){const ce=function Gc(h,d,c,m){const I=d._queryIdentifier,M=[];let L=[];const ce=ua(h);if("default"===I)for(const[we,Ge]of h.views.entries())L=L.concat(La(Ge,c,m)),Ui(Ge)&&(h.views.delete(we),Ge.query._queryParams.loadsAllData()||M.push(Ge.query));else{const we=h.views.get(I);we&&(L=L.concat(La(we,c,m)),Ui(we)&&(h.views.delete(I),we.query._queryParams.loadsAllData()||M.push(we.query)))}return ce&&!ua(h)&&M.push(new(function _l(){return(0,G.hu)(oc,"Reference.ts has not been loaded"),oc}())(d._repo,d._path)),{removed:M,events:L}}(M,d,c,m);(function tl(h){return 0===h.views.size})(M)&&(h.syncPointTree_=h.syncPointTree_.remove(I));const we=ce.removed;L=ce.events;const Ge=-1!==we.findIndex(gt=>gt._queryParams.loadsAllData()),Mt=h.syncPointTree_.findOnPath(I,(gt,Zt)=>ua(Zt));if(Ge&&!Mt){const gt=h.syncPointTree_.subtree(I);if(!gt.isEmpty()){const Zt=function El(h){return h.fold((d,c,m)=>{if(c&&ua(c))return[N(c)];{let I=[];return c&&(I=Fu(c)),Fe(m,(M,L)=>{I=I.concat(L)}),I}})}(gt);for(let wn=0;wn<Zt.length;++wn){const ar=Zt[wn],Oi=ar.query,yi=Ba(h,ar);h.listenProvider_.startListening(bl(Oi),Lu(h,Oi),yi.hashFn,yi.onComplete)}}}!Mt&&we.length>0&&!m&&(Ge?h.listenProvider_.stopListening(bl(d),null):we.forEach(gt=>{const Zt=h.queryToTagMap.get(il(gt));h.listenProvider_.stopListening(bl(gt),Zt)})),function Bd(h,d){for(let c=0;c<d.length;++c){const m=d[c];if(!m._queryParams.loadsAllData()){const I=il(m),M=h.queryToTagMap.get(I);h.queryToTagMap.delete(I),h.tagToQueryMap.delete(M)}}}(h,we)}return L}function Ea(h,d,c){const m=d._path;let I=null,M=!1;h.syncPointTree_.foreachOnPath(m,(gt,Zt)=>{const wn=vi(gt,m);I=I||bo(Zt,wn),M=M||ua(Zt)});let ce,L=h.syncPointTree_.get(m);L?(M=M||ua(L),I=I||bo(L,Ut())):(L=new Wo,h.syncPointTree_=h.syncPointTree_.set(m,L)),null!=I?ce=!0:(ce=!1,I=v.EMPTY_NODE,h.syncPointTree_.subtree(m).foreachChild((Zt,wn)=>{const ar=bo(wn,Ut());ar&&(I=I.updateImmediateChild(Zt,ar))}));const we=nl(L,d);if(!we&&!d._queryParams.loadsAllData()){const gt=il(d);(0,G.hu)(!h.queryToTagMap.has(gt),"View does not exist, but we have a tag");const Zt=function Bh(){return yt++}();h.queryToTagMap.set(gt,Zt),h.tagToQueryMap.set(Zt,gt)}let Mt=function os(h,d,c,m,I,M){const L=Xl(h,d,m,I,M);return h.views.has(d._queryIdentifier)||h.views.set(d._queryIdentifier,L),function Ns(h,d){h.eventRegistrations_.push(d)}(L,c),function Ld(h,d){const c=h.viewCache_.eventCache,m=[];return c.getNode().isLeafNode()||c.getNode().forEachChild(Pr,(M,L)=>{m.push(vo(M,L))}),c.isFullyInitialized()&&m.push(mi(c.getNode())),Hc(h,m,c.getNode(),d)}(L,c)}(L,d,c,ro(h.pendingWriteTree_,m),I,ce);if(!we&&!M){const gt=ac(L,d);Mt=Mt.concat(function sl(h,d,c){const m=d._path,I=Lu(h,d),M=Ba(h,c),L=h.listenProvider_.startListening(bl(d),I,M.hashFn,M.onComplete),ce=h.syncPointTree_.subtree(m);if(I)(0,G.hu)(!ua(ce.value),"If we're adding a query, it shouldn't be shadowed");else{const we=ce.fold((Ge,Mt,gt)=>{if(!lr(Ge)&&Mt&&ua(Mt))return[N(Mt).query];{let Zt=[];return Mt&&(Zt=Zt.concat(Fu(Mt).map(wn=>wn.query))),Fe(gt,(wn,ar)=>{Zt=Zt.concat(ar)}),Zt}});for(let Ge=0;Ge<we.length;++Ge){const Mt=we[Ge];h.listenProvider_.stopListening(bl(Mt),Lu(h,Mt))}}return L}(h,d,gt))}return Mt}function eo(h,d,c){const I=h.pendingWriteTree_,M=h.syncPointTree_.findOnPath(d,(L,ce)=>{const Ge=bo(ce,vi(L,d));if(Ge)return Ge});return R(I,d,M,c,!0)}function Ki(h,d){return Jl(d,h.syncPointTree_,null,ro(h.pendingWriteTree_,Ut()))}function Jl(h,d,c,m){if(lr(h.path))return eu(h,d,c,m);{const I=d.get(Ut());null==c&&null!=I&&(c=bo(I,Ut()));let M=[];const L=Qt(h.path),ce=h.operationForChild(L),we=d.children.get(L);if(we&&ce){const Ge=c?c.getImmediateChild(L):null,Mt=Nr(m,L);M=M.concat(Jl(ce,we,Ge,Mt))}return I&&(M=M.concat(Yi(I,h,m,c))),M}}function eu(h,d,c,m){const I=d.get(Ut());null==c&&null!=I&&(c=bo(I,Ut()));let M=[];return d.children.inorderTraversal((L,ce)=>{const we=c?c.getImmediateChild(L):null,Ge=Nr(m,L),Mt=h.operationForChild(L);Mt&&(M=M.concat(eu(Mt,ce,we,Ge)))}),I&&(M=M.concat(Yi(I,h,m,c))),M}function Ba(h,d){const c=d.query,m=Lu(h,c);return{hashFn:()=>(function Us(h){return h.viewCache_.serverCache.getNode()}(d)||v.EMPTY_NODE).hash(),onComplete:I=>{if("ok"===I)return m?function Js(h,d,c){const m=tu(h,c);if(m){const I=nu(m),M=I.path,L=I.queryId,ce=vi(M,d);return vl(h,M,new ka(is(L),ce))}return[]}(h,c._path,m):function Lr(h,d){return Ki(h,new ka({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d))}(h,c._path);{const M=function Gt(h,d){let c="Unknown Error";"too_big"===h?c="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===h?c="Client doesn't have permission to access the desired data.":"unavailable"===h&&(c="The service is unavailable");const m=new Error(h+" at "+d._path.toString()+": "+c);return m.code=h.toUpperCase(),m}(I,c);return si(h,c,null,M)}}}}function Lu(h,d){const c=il(d);return h.queryToTagMap.get(c)}function il(h){return h._path.toString()+"$"+h._queryIdentifier}function tu(h,d){return h.tagToQueryMap.get(d)}function nu(h){const d=h.indexOf("$");return(0,G.hu)(-1!==d&&d<h.length-1,"Bad queryKey."),{queryId:h.substr(d+1),path:new It(h.substr(0,d))}}function vl(h,d,c){const m=h.syncPointTree_.get(d);return(0,G.hu)(m,"Missing sync point for query tag that we're tracking"),Yi(m,c,ro(h.pendingWriteTree_,d),null)}function bl(h){return h._queryParams.loadsAllData()&&!h._queryParams.isDefault()?new(function Ne(){return(0,G.hu)(W,"Reference.ts has not been loaded"),W}())(h._repo,h._path):h}class ru{constructor(d){this.node_=d}getImmediateChild(d){const c=this.node_.getImmediateChild(d);return new ru(c)}node(){return this.node_}}class zc{constructor(d,c){this.syncTree_=d,this.path_=c}getImmediateChild(d){const c=ti(this.path_,d);return new zc(this.syncTree_,c)}node(){return eo(this.syncTree_,this.path_)}}const lc=function(h,d,c){return h&&"object"==typeof h?((0,G.hu)(".sv"in h,"Unexpected leaf node or priority contents"),"string"==typeof h[".sv"]?uc(h[".sv"],d,c):"object"==typeof h[".sv"]?sg(h[".sv"],d):void(0,G.hu)(!1,"Unexpected server value: "+JSON.stringify(h,null,2))):h},uc=function(h,d,c){if("timestamp"===h)return c.timestamp;(0,G.hu)(!1,"Unexpected server value: "+h)},sg=function(h,d,c){h.hasOwnProperty("increment")||(0,G.hu)(!1,"Unexpected server value: "+JSON.stringify(h,null,2));const m=h.increment;"number"!=typeof m&&(0,G.hu)(!1,"Unexpected increment value: "+m);const I=d.node();if((0,G.hu)(null!=I,"Expected ChildrenNode.EMPTY_NODE for nulls"),!I.isLeafNode())return m;const L=I.getValue();return"number"!=typeof L?m:L+m},Wc=function(h,d,c,m){return dc(d,new zc(c,h),m)},cc=function(h,d,c){return dc(h,new ru(d),c)};function dc(h,d,c){const m=h.getPriority().val(),I=lc(m,d.getImmediateChild(".priority"),c);let M;if(h.isLeafNode()){const L=h,ce=lc(L.getValue(),d,c);return ce!==L.getValue()||I!==L.getPriority().val()?new ur(ce,J(I)):h}{const L=h;return M=L,I!==L.getPriority().val()&&(M=M.updatePriority(new ur(I))),L.forEachChild(Pr,(ce,we)=>{const Ge=dc(we,d.getImmediateChild(ce),c);Ge!==we&&(M=M.updateImmediateChild(ce,Ge))}),M}}class gs{constructor(d="",c=null,m={children:{},childCount:0}){this.name=d,this.parent=c,this.node=m}}function bs(h,d){let c=d instanceof It?d:new It(d),m=h,I=Qt(c);for(;null!==I;){const M=(0,G.DV)(m.node.children,I)||{children:{},childCount:0};m=new gs(I,m,M),c=Fn(c),I=Qt(c)}return m}function wo(h){return h.node.value}function hc(h,d){h.node.value=d,iu(h)}function qc(h){return h.node.childCount>0}function wl(h,d){Fe(h.node.children,(c,m)=>{d(new gs(c,h,m))})}function Yc(h,d,c,m){c&&!m&&d(h),wl(h,I=>{Yc(I,d,!0,m)}),c&&m&&d(h)}function Il(h){return new It(null===h.parent?h.name:Il(h.parent)+"/"+h.name)}function iu(h){null!==h.parent&&function $h(h,d,c){const m=function og(h){return void 0===wo(h)&&!qc(h)}(c),I=(0,G.r3)(h.node.children,d);m&&I?(delete h.node.children[d],h.node.childCount--,iu(h)):!m&&!I&&(h.node.children[d]=c.node,h.node.childCount++,iu(h))}(h.parent,h.name,h)}const Vd=/[\[\].#$\/\u0000-\u001F\u007F]/,jh=/[\[\].#$\u0000-\u001F\u007F]/,Ud=10485760,ol=function(h){return"string"==typeof h&&0!==h.length&&!Vd.test(h)},Kc=function(h){return"string"==typeof h&&0!==h.length&&!jh.test(h)},Va=function(h){return null===h||"string"==typeof h||"number"==typeof h&&!yr(h)||h&&"object"==typeof h&&(0,G.r3)(h,".sv")},wa=function(h,d,c,m){m&&void 0===d||Cl((0,G.gK)(h,"value"),d,c)},Cl=function(h,d,c){const m=c instanceof It?new Ni(c,h):c;if(void 0===d)throw new Error(h+"contains undefined "+Ds(m));if("function"==typeof d)throw new Error(h+"contains a function "+Ds(m)+" with contents = "+d.toString());if(yr(d))throw new Error(h+"contains "+d.toString()+" "+Ds(m));if("string"==typeof d&&d.length>Ud/3&&(0,G.ug)(d)>Ud)throw new Error(h+"contains a string greater than "+Ud+" utf8 bytes "+Ds(m)+" ('"+d.substring(0,50)+"...')");if(d&&"object"==typeof d){let I=!1,M=!1;if(Fe(d,(L,ce)=>{if(".value"===L)I=!0;else if(".priority"!==L&&".sv"!==L&&(M=!0,!ol(L)))throw new Error(h+" contains an invalid key ("+L+") "+Ds(m)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Vs(h,d){h.parts_.length>0&&(h.byteLength_+=1),h.parts_.push(d),h.byteLength_+=(0,G.ug)(d),co(h)})(m,L),Cl(h,ce,m),function us(h){const d=h.parts_.pop();h.byteLength_-=(0,G.ug)(d),h.parts_.length>0&&(h.byteLength_-=1)}(m)}),I&&M)throw new Error(h+' contains ".value" child '+Ds(m)+" in addition to actual children.")}},Hh=function(h,d,c,m){if(m&&void 0===d)return;const I=(0,G.gK)(h,"values");if(!d||"object"!=typeof d||Array.isArray(d))throw new Error(I+" must be an object containing the children to replace.");const M=[];Fe(d,(L,ce)=>{const we=new It(L);if(Cl(I,ce,ti(c,we)),".priority"===kr(we)&&!Va(ce))throw new Error(I+"contains an invalid value for '"+we.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");M.push(we)}),function(h,d){let c,m;for(c=0;c<d.length;c++){m=d[c];const M=Hi(m);for(let L=0;L<M.length;L++)if((".priority"!==M[L]||L!==M.length-1)&&!ol(M[L]))throw new Error(h+"contains an invalid key ("+M[L]+") in path "+m.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}d.sort(_o);let I=null;for(c=0;c<d.length;c++){if(m=d[c],null!==I&&ni(I,m))throw new Error(h+"contains a path "+I.toString()+" that is ancestor of another path "+m.toString());I=m}}(I,M)},Zc=function(h,d,c){if(!c||void 0!==d){if(yr(d))throw new Error((0,G.gK)(h,"priority")+"is "+d.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Va(d))throw new Error((0,G.gK)(h,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Dl=function(h,d,c,m){if(!(m&&void 0===c||ol(c)))throw new Error((0,G.gK)(h,d)+'was an invalid key = "'+c+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Bu=function(h,d,c,m){if(!(m&&void 0===c||Kc(c)))throw new Error((0,G.gK)(h,d)+'was an invalid path = "'+c+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},oo=function(h,d){if(".info"===Qt(d))throw new Error(h+" failed = Can't modify data under /.info/")},Yf=function(h,d){const c=d.path.toString();if("string"!=typeof d.repoInfo.host||0===d.repoInfo.host.length||!ol(d.repoInfo.namespace)&&"localhost"!==d.repoInfo.host.split(":")[0]||0!==c.length&&!function(h){return h&&(h=h.replace(/^\/*\.info(\/|$)/,"/")),Kc(h)}(c))throw new Error((0,G.gK)(h,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class su{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function al(h,d){let c=null;for(let m=0;m<d.length;m++){const I=d[m],M=I.getPath();null!==c&&!_s(M,c.path)&&(h.eventLists_.push(c),c=null),null===c&&(c={events:[],path:M}),c.events.push(I)}c&&h.eventLists_.push(c)}function Xc(h,d,c){al(h,c),Qc(h,m=>_s(m,d))}function Fs(h,d,c){al(h,c),Qc(h,m=>ni(m,d)||ni(d,m))}function Qc(h,d){h.recursionDepth_++;let c=!0;for(let m=0;m<h.eventLists_.length;m++){const I=h.eventLists_[m];I&&(d(I.path)?(fo(h.eventLists_[m]),h.eventLists_[m]=null):c=!1)}c&&(h.eventLists_=[]),h.recursionDepth_--}function fo(h){for(let d=0;d<h.events.length;d++){const c=h.events[d];if(null!==c){h.events[d]=null;const m=c.getEventRunner();Tt&&en("event: "+c.toString()),xn(m)}}}const ou="repo_interrupt";class fc{constructor(d,c,m,I){this.repoInfo_=d,this.forceRestClient_=c,this.authTokenProvider_=m,this.appCheckProvider_=I,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new su,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ga(),this.transactionQueueTree_=new gs,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Jc(h){const c=h.infoData_.getNode(new It(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+c}function au(h){return function(h){return(h=h||{}).timestamp=h.timestamp||(new Date).getTime(),h}({timestamp:Jc(h)})}function jd(h,d,c,m,I){h.dataUpdateCount++;const M=new It(d);c=h.interceptServerDataCallback_?h.interceptServerDataCallback_(d,c):c;let L=[];if(I)if(m){const we=(0,G.UI)(c,Ge=>J(Ge));L=function rl(h,d,c,m){const I=tu(h,m);if(I){const M=nu(I),L=M.path,ce=M.queryId,we=vi(L,d),Ge=Ei.fromObject(c);return vl(h,L,new Zs(is(ce),we,Ge))}return[]}(h.serverSyncTree_,M,we,I)}else{const we=J(c);L=function Ql(h,d,c,m){const I=tu(h,m);if(null!=I){const M=nu(I),L=M.path,ce=M.queryId,we=vi(L,d);return vl(h,L,new ks(is(ce),we,c))}return[]}(h.serverSyncTree_,M,we,I)}else if(m){const we=(0,G.UI)(c,Ge=>J(Ge));L=function Qr(h,d,c){const m=Ei.fromObject(c);return Ki(h,new Zs({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d,m))}(h.serverSyncTree_,M,we)}else{const we=J(c);L=dr(h.serverSyncTree_,M,we)}let ce=M;L.length>0&&(ce=xl(h,M)),Fs(h.eventQueue_,ce,L)}function pc(h,d){ll(h,"connected",d),!1===d&&function mc(h){Sl(h,"onDisconnectEvents");const d=au(h),c=ga();Wi(h.onDisconnect_,Ut(),(I,M)=>{const L=Wc(I,M,h.serverSyncTree_,d);ns(c,I,L)});let m=[];Wi(c,Ut(),(I,M)=>{m=m.concat(dr(h.serverSyncTree_,I,M));const L=js(h,I);xl(h,L)}),h.onDisconnect_=ga(),Fs(h.eventQueue_,Ut(),m)}(h)}function ll(h,d,c){const m=new It("/.info/"+d),I=J(c);h.infoData_.updateSnapshot(m,I);const M=dr(h.infoSyncTree_,m,I);Fs(h.eventQueue_,m,M)}function gc(h){return h.nextWriteId_++}function Tl(h,d,c,m,I){Sl(h,"set",{path:d.toString(),value:c,priority:m});const M=au(h),L=J(c,m),ce=eo(h.serverSyncTree_,d),we=cc(L,ce,M),Ge=gc(h),Mt=un(h.serverSyncTree_,d,we,Ge,!0);al(h.eventQueue_,Mt),h.server_.put(d.toString(),L.val(!0),(Zt,wn)=>{const ar="ok"===Zt;ar||An("set at "+d+" failed: "+Zt);const Oi=pr(h.serverSyncTree_,Ge,!ar);Fs(h.eventQueue_,d,Oi),da(0,I,Zt,wn)});const gt=js(h,d);xl(h,gt),Fs(h.eventQueue_,gt,[])}function nd(h,d,c){h.server_.onDisconnectCancel(d.toString(),(m,I)=>{"ok"===m&&ra(h.onDisconnect_,d),da(0,c,m,I)})}function rd(h,d,c,m){const I=J(c);h.server_.onDisconnectPut(d.toString(),I.val(!0),(M,L)=>{"ok"===M&&ns(h.onDisconnect_,d,I),da(0,m,M,L)})}function $u(h,d,c){let m;m=".info"===Qt(d._path)?si(h.infoSyncTree_,d,c):si(h.serverSyncTree_,d,c),Xc(h.eventQueue_,d._path,m)}function Gd(h){h.persistentConnection_&&h.persistentConnection_.interrupt(ou)}function Sl(h,...d){let c="";h.persistentConnection_&&(c=h.persistentConnection_.id+":"),en(c,...d)}function da(h,d,c,m){d&&xn(()=>{if("ok"===c)d(null);else{const I=(c||"error").toUpperCase();let M=I;m&&(M+=": "+m);const L=new Error(M);L.code=I,d(L)}})}function uu(h,d,c){return eo(h.serverSyncTree_,d,c)||v.EMPTY_NODE}function Al(h,d=h.transactionQueueTree_){if(d||ko(h,d),wo(d)){const c=ju(h,d);(0,G.hu)(c.length>0,"Sending zero length transaction queue"),c.every(I=>0===I.status)&&function Ua(h,d,c){const m=c.map(Ge=>Ge.currentWriteId),I=uu(h,d,m);let M=I;const L=I.hash();for(let Ge=0;Ge<c.length;Ge++){const Mt=c[Ge];(0,G.hu)(0===Mt.status,"tryToSendTransactionQueue_: items in queue should all be run."),Mt.status=1,Mt.retryCount++;const gt=vi(d,Mt.path);M=M.updateChild(gt,Mt.currentOutputSnapshotRaw)}const ce=M.val(!0),we=d;h.server_.put(we.toString(),ce,Ge=>{Sl(h,"transaction put response",{path:we.toString(),status:Ge});let Mt=[];if("ok"===Ge){const gt=[];for(let Zt=0;Zt<c.length;Zt++)c[Zt].status=2,Mt=Mt.concat(pr(h.serverSyncTree_,c[Zt].currentWriteId)),c[Zt].onComplete&&gt.push(()=>c[Zt].onComplete(null,!0,c[Zt].currentOutputSnapshotResolved)),c[Zt].unwatcher();ko(h,bs(h.transactionQueueTree_,d)),Al(h,h.transactionQueueTree_),Fs(h.eventQueue_,d,Mt);for(let Zt=0;Zt<gt.length;Zt++)xn(gt[Zt])}else{if("datastale"===Ge)for(let gt=0;gt<c.length;gt++)c[gt].status=3===c[gt].status?4:0;else{An("transaction at "+we.toString()+" failed: "+Ge);for(let gt=0;gt<c.length;gt++)c[gt].status=4,c[gt].abortReason=Ge}xl(h,d)}},L)}(h,Il(d),c)}else qc(d)&&wl(d,c=>{Al(h,c)})}function xl(h,d){const c=od(h,d),m=Il(c);return function Gh(h,d,c){if(0===d.length)return;const m=[];let I=[];const L=d.filter(ce=>0===ce.status).map(ce=>ce.currentWriteId);for(let ce=0;ce<d.length;ce++){const we=d[ce],Ge=vi(c,we.path);let gt,Mt=!1;if((0,G.hu)(null!==Ge,"rerunTransactionsUnderNode_: relativePath should not be null."),4===we.status)Mt=!0,gt=we.abortReason,I=I.concat(pr(h.serverSyncTree_,we.currentWriteId,!0));else if(0===we.status)if(we.retryCount>=25)Mt=!0,gt="maxretry",I=I.concat(pr(h.serverSyncTree_,we.currentWriteId,!0));else{const Zt=uu(h,we.path,L);we.currentInputSnapshot=Zt;const wn=d[ce].update(Zt.val());if(void 0!==wn){Cl("transaction failed: Data returned ",wn,we.path);let ar=J(wn);"object"==typeof wn&&null!=wn&&(0,G.r3)(wn,".priority")||(ar=ar.updatePriority(Zt.getPriority()));const yi=we.currentWriteId,Sc=au(h),Xo=cc(ar,Zt,Sc);we.currentOutputSnapshotRaw=ar,we.currentOutputSnapshotResolved=Xo,we.currentWriteId=gc(h),L.splice(L.indexOf(yi),1),I=I.concat(un(h.serverSyncTree_,we.path,Xo,we.currentWriteId,we.applyLocally)),I=I.concat(pr(h.serverSyncTree_,yi,!0))}else Mt=!0,gt="nodata",I=I.concat(pr(h.serverSyncTree_,we.currentWriteId,!0))}Fs(h.eventQueue_,c,I),I=[],Mt&&(d[ce].status=2,setTimeout(d[ce].unwatcher,Math.floor(0)),d[ce].onComplete&&m.push("nodata"===gt?()=>d[ce].onComplete(null,!1,d[ce].currentInputSnapshot):()=>d[ce].onComplete(new Error(gt),!1,null)))}ko(h,h.transactionQueueTree_);for(let ce=0;ce<m.length;ce++)xn(m[ce]);Al(h,h.transactionQueueTree_)}(h,ju(h,c),m),m}function od(h,d){let c,m=h.transactionQueueTree_;for(c=Qt(d);null!==c&&void 0===wo(m);)m=bs(m,c),c=Qt(d=Fn(d));return m}function ju(h,d){const c=[];return zd(h,d,c),c.sort((m,I)=>m.order-I.order),c}function zd(h,d,c){const m=wo(d);if(m)for(let I=0;I<m.length;I++)c.push(m[I]);wl(d,I=>{zd(h,I,c)})}function ko(h,d){const c=wo(d);if(c){let m=0;for(let I=0;I<c.length;I++)2!==c[I].status&&(c[m]=c[I],m++);c.length=m,hc(d,c.length>0?c:void 0)}wl(d,m=>{ko(h,m)})}function js(h,d){const c=Il(od(h,d)),m=bs(h.transactionQueueTree_,d);return function Uh(h,d,c){let m=c?h:h.parent;for(;null!==m;){if(d(m))return!0;m=m.parent}}(m,I=>{cu(h,I)}),cu(h,m),Yc(m,I=>{cu(h,I)}),c}function cu(h,d){const c=wo(d);if(c){const m=[];let I=[],M=-1;for(let L=0;L<c.length;L++)3===c[L].status||(1===c[L].status?((0,G.hu)(M===L-1,"All SENT items should be at beginning of queue."),M=L,c[L].status=3,c[L].abortReason="set"):((0,G.hu)(0===c[L].status,"Unexpected transaction status in abort"),c[L].unwatcher(),I=I.concat(pr(h.serverSyncTree_,c[L].currentWriteId,!0)),c[L].onComplete&&m.push(c[L].onComplete.bind(null,new Error("set"),!1,null))));-1===M?hc(d,void 0):c.length=M+1,Fs(h.eventQueue_,Il(d),I);for(let L=0;L<m.length;L++)xn(m[L])}}const xs=function(h,d){const c=ja(h),m=c.namespace;return"firebase.com"===c.domain&&Jt(c.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!m||"undefined"===m)&&"localhost"!==c.domain&&Jt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),c.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&An("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new sn(c.host,c.secure,m,"ws"===c.scheme||"wss"===c.scheme,d,"",m!==c.subdomain),path:new It(c.pathString)}},ja=function(h){let d="",c="",m="",I="",M="",L=!0,ce="https",we=443;if("string"==typeof h){let Ge=h.indexOf("//");Ge>=0&&(ce=h.substring(0,Ge-1),h=h.substring(Ge+2));let Mt=h.indexOf("/");-1===Mt&&(Mt=h.length);let gt=h.indexOf("?");-1===gt&&(gt=h.length),d=h.substring(0,Math.min(Mt,gt)),Mt<gt&&(I=function $a(h){let d="";const c=h.split("/");for(let m=0;m<c.length;m++)if(c[m].length>0){let I=c[m];try{I=decodeURIComponent(I.replace(/\+/g," "))}catch(M){}d+="/"+I}return d}(h.substring(Mt,gt)));const Zt=function Ia(h){const d={};"?"===h.charAt(0)&&(h=h.substring(1));for(const c of h.split("&")){if(0===c.length)continue;const m=c.split("=");2===m.length?d[decodeURIComponent(m[0])]=decodeURIComponent(m[1]):An(`Invalid query segment '${c}' in query '${h}'`)}return d}(h.substring(Math.min(h.length,gt)));Ge=d.indexOf(":"),Ge>=0?(L="https"===ce||"wss"===ce,we=parseInt(d.substring(Ge+1),10)):Ge=d.length;const wn=d.slice(0,Ge);if("localhost"===wn.toLowerCase())c="localhost";else if(wn.split(".").length<=2)c=wn;else{const ar=d.indexOf(".");m=d.substring(0,ar).toLowerCase(),c=d.substring(ar+1),M=m}"ns"in Zt&&(M=Zt.ns)}return{host:d,port:we,domain:c,subdomain:m,secure:L,scheme:ce,pathString:I,namespace:M}};class du{constructor(d,c,m,I){this.eventType=d,this.eventRegistration=c,this.snapshot=m,this.prevName=I}getPath(){const d=this.snapshot.ref;return"value"===this.eventType?d._path:d.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,G.Pz)(this.snapshot.exportVal())}}class Io{constructor(d,c,m){this.eventRegistration=d,this.error=c,this.path=m}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Pi{constructor(d,c){this.snapshotCallback=d,this.cancelCallback=c}onValue(d,c){this.snapshotCallback.call(null,d,c)}onCancel(d){return(0,G.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,d)}get hasCancelCallback(){return!!this.cancelCallback}matches(d){return this.snapshotCallback===d.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===d.snapshotCallback.userCallback&&this.snapshotCallback.context===d.snapshotCallback.context}}class hu{constructor(d,c){this._repo=d,this._path=c}cancel(){const d=new G.BH;return nd(this._repo,this._path,d.wrapCallback(()=>{})),d.promise}remove(){oo("OnDisconnect.remove",this._path);const d=new G.BH;return rd(this._repo,this._path,null,d.wrapCallback(()=>{})),d.promise}set(d){oo("OnDisconnect.set",this._path),wa("OnDisconnect.set",d,this._path,!1);const c=new G.BH;return rd(this._repo,this._path,d,c.wrapCallback(()=>{})),c.promise}setWithPriority(d,c){oo("OnDisconnect.setWithPriority",this._path),wa("OnDisconnect.setWithPriority",d,this._path,!1),Zc("OnDisconnect.setWithPriority",c,!1);const m=new G.BH;return function id(h,d,c,m,I){const M=J(c,m);h.server_.onDisconnectPut(d.toString(),M.val(!0),(L,ce)=>{"ok"===L&&ns(h.onDisconnect_,d,M),da(0,I,L,ce)})}(this._repo,this._path,d,c,m.wrapCallback(()=>{})),m.promise}update(d){oo("OnDisconnect.update",this._path),Hh("OnDisconnect.update",d,this._path,!1);const c=new G.BH;return function lu(h,d,c,m){if((0,G.xb)(c))return en("onDisconnect().update() called with empty data.  Don't do anything."),void da(0,m,"ok",void 0);h.server_.onDisconnectMerge(d.toString(),c,(I,M)=>{"ok"===I&&Fe(c,(L,ce)=>{const we=J(ce);ns(h.onDisconnect_,ti(d,L),we)}),da(0,m,I,M)})}(this._repo,this._path,d,c.wrapCallback(()=>{})),c.promise}}class No{constructor(d,c,m,I){this._repo=d,this._path=c,this._queryParams=m,this._orderByCalled=I}get key(){return lr(this._path)?null:kr(this._path)}get ref(){return new qo(this._repo,this._path)}get _queryIdentifier(){const d=Ra(this._queryParams),c=xr(d);return"{}"===c?"default":c}get _queryObject(){return Ra(this._queryParams)}isEqual(d){if(!((d=(0,G.m9)(d))instanceof No))return!1;const c=this._repo===d._repo,m=_s(this._path,d._path);return c&&m&&this._queryIdentifier===d._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function ys(h){let d="";for(let c=h.pieceNum_;c<h.pieces_.length;c++)""!==h.pieces_[c]&&(d+="/"+encodeURIComponent(String(h.pieces_[c])));return d||"/"}(this._path)}}function fu(h,d){if(!0===h._orderByCalled)throw new Error(d+": You can't combine multiple orderBy calls.")}function Fo(h){let d=null,c=null;if(h.hasStart()&&(d=h.getIndexStartValue()),h.hasEnd()&&(c=h.getIndexEndValue()),h.getIndex()===ds){const m="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",I="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(h.hasStart()){if(h.getIndexStartName()!==rn)throw new Error(m);if("string"!=typeof d)throw new Error(I)}if(h.hasEnd()){if(h.getIndexEndName()!==nr)throw new Error(m);if("string"!=typeof c)throw new Error(I)}}else if(h.getIndex()===Pr){if(null!=d&&!Va(d)||null!=c&&!Va(c))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,G.hu)(h.getIndex()instanceof wt||h.getIndex()===En,"unknown index type."),null!=d&&"object"==typeof d||null!=c&&"object"==typeof c)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function ul(h){if(h.hasStart()&&h.hasEnd()&&h.hasLimit()&&!h.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class qo extends No{constructor(d,c){super(d,c,new na,!1)}get parent(){const d=Bs(this._path);return null===d?null:new qo(this._repo,d)}get root(){let d=this;for(;null!==d.parent;)d=d.parent;return d}}class Ml{constructor(d,c,m){this._node=d,this.ref=c,this._index=m}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(d){const c=new It(d),m=pu(this.ref,d);return new Ml(this._node.getChild(c),m,Pr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(d){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(m,I)=>d(new Ml(I,pu(this.ref,m),Pr)))}hasChild(d){const c=new It(d);return!this._node.getChild(c).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ca(h,d){return(h=(0,G.m9)(h))._checkNotDeleted("ref"),void 0!==d?pu(h._root,d):h._root}function Wd(h,d){(h=(0,G.m9)(h))._checkNotDeleted("refFromURL");const c=xs(d,h._repo.repoInfo_.nodeAdmin);Yf("refFromURL",c);const m=c.repoInfo;return!h._repo.repoInfo_.isCustomHost()&&m.host!==h._repo.repoInfo_.host&&Jt("refFromURL: Host name does not match the current database: (found "+m.host+" but expected "+h._repo.repoInfo_.host+")"),Ca(h,c.path.toString())}function pu(h,d){return null===Qt((h=(0,G.m9)(h))._path)?(c=d,c&&(c=c.replace(/^\/*\.info(\/|$)/,"/")),Bu("child","path",c,!1)):Bu("child","path",d,!1),new qo(h._repo,ti(h._path,d));var c}function Ls(h,d){h=(0,G.m9)(h),oo("set",h._path),wa("set",d,h._path,!1);const c=new G.BH;return Tl(h._repo,h._path,d,null,c.wrapCallback(()=>{})),c.promise}function Hu(h,d){Hh("update",d,h._path,!1);const c=new G.BH;return function td(h,d,c,m){Sl(h,"update",{path:d.toString(),value:c});let I=!0;const M=au(h),L={};if(Fe(c,(ce,we)=>{I=!1,L[ce]=Wc(ti(d,ce),J(we),h.serverSyncTree_,M)}),I)en("update() called with empty data.  Don't do anything."),da(0,m,"ok",void 0);else{const ce=gc(h),we=function Hn(h,d,c,m){!function io(h,d,c,m){(0,G.hu)(m>h.lastWriteId,"Stacking an older merge on top of newer ones"),h.allWrites.push({path:d,children:c,writeId:m,visible:!0}),h.visibleWrites=Es(h.visibleWrites,d,c),h.lastWriteId=m}(h.pendingWriteTree_,d,c,m);const I=Ei.fromObject(c);return Ki(h,new Zs({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},d,I))}(h.serverSyncTree_,d,L,ce);al(h.eventQueue_,we),h.server_.merge(d.toString(),c,(Ge,Mt)=>{const gt="ok"===Ge;gt||An("update at "+d+" failed: "+Ge);const Zt=pr(h.serverSyncTree_,ce,!gt),wn=Zt.length>0?xl(h,d):d;Fs(h.eventQueue_,wn,Zt),da(0,m,Ge,Mt)}),Fe(c,Ge=>{const Mt=js(h,ti(d,Ge));xl(h,Mt)}),Fs(h.eventQueue_,d,[])}}(h._repo,h._path,d,c.wrapCallback(()=>{})),c.promise}function dl(h){return function Hd(h,d){const c=function ba(h,d){const c=d._path;let m=null;h.syncPointTree_.foreachOnPath(c,(Ge,Mt)=>{const gt=vi(Ge,c);m=m||bo(Mt,gt)});let I=h.syncPointTree_.get(c);I?m=m||bo(I,Ut()):(I=new Wo,h.syncPointTree_=h.syncPointTree_.set(c,I));const M=null!=m,L=M?new xo(m,!0,!1):null;return function bi(h){return ho(h.viewCache_)}(Xl(I,d,ro(h.pendingWriteTree_,d._path),M?L.getNode():v.EMPTY_NODE,M))}(h.serverSyncTree_,d);return null!=c?Promise.resolve(c):h.server_.get(d).then(m=>{const I=J(m).withIndex(d._queryParams.getIndex()),M=dr(h.serverSyncTree_,d._path,I);return Xc(h.eventQueue_,d._path,M),Promise.resolve(I)},m=>(Sl(h,"get for query "+(0,G.Pz)(d)+" failed: "+m),Promise.reject(new Error(m))))}((h=(0,G.m9)(h))._repo,h).then(d=>new Ml(d,new qo(h._repo,h._path),h._queryParams.getIndex()))}class Rl{constructor(d){this.callbackContext=d}respondsTo(d){return"value"===d}createEvent(d,c){const m=c._queryParams.getIndex();return new du("value",this,new Ml(d.snapshotNode,new qo(c._repo,c._path),m))}getEventRunner(d){return"cancel"===d.getEventType()?()=>this.callbackContext.onCancel(d.error):()=>this.callbackContext.onValue(d.snapshot,null)}createCancelEvent(d,c){return this.callbackContext.hasCancelCallback?new Io(this,d,c):null}matches(d){return d instanceof Rl&&(!d.callbackContext||!this.callbackContext||d.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class gu{constructor(d,c){this.eventType=d,this.callbackContext=c}respondsTo(d){let c="children_added"===d?"child_added":d;return c="children_removed"===c?"child_removed":c,this.eventType===c}createCancelEvent(d,c){return this.callbackContext.hasCancelCallback?new Io(this,d,c):null}createEvent(d,c){(0,G.hu)(null!=d.childName,"Child events should have a childName.");const m=pu(new qo(c._repo,c._path),d.childName),I=c._queryParams.getIndex();return new du(d.type,this,new Ml(d.snapshotNode,m,I),d.prevName)}getEventRunner(d){return"cancel"===d.getEventType()?()=>this.callbackContext.onCancel(d.error):()=>this.callbackContext.onValue(d.snapshot,d.prevName)}matches(d){return d instanceof gu&&this.eventType===d.eventType&&(!this.callbackContext||!d.callbackContext||this.callbackContext.matches(d.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Gu(h,d,c,m,I){let M;if("object"==typeof m&&(M=void 0,I=m),"function"==typeof m&&(M=m),I&&I.onlyOnce){const we=c,Ge=(Mt,gt)=>{$u(h._repo,h,ce),we(Mt,gt)};Ge.userCallback=c.userCallback,Ge.context=c.context,c=Ge}const L=new Pi(c,M||void 0),ce="value"===d?new Rl(L):new gu(d,L);return function Uu(h,d,c){let m;m=".info"===Qt(d._path)?Ea(h.infoSyncTree_,d,c):Ea(h.serverSyncTree_,d,c),Xc(h.eventQueue_,d._path,m)}(h._repo,h,ce),()=>$u(h._repo,h,ce)}function ud(h,d,c,m){return Gu(h,"value",d,c,m)}function _c(h,d,c,m){return Gu(h,"child_added",d,c,m)}function cd(h,d,c,m){return Gu(h,"child_changed",d,c,m)}function dd(h,d,c,m){return Gu(h,"child_moved",d,c,m)}function qd(h,d,c,m){return Gu(h,"child_removed",d,c,m)}function Yd(h,d,c){let m=null;const I=c?new Pi(c):null;"value"===d?m=new Rl(I):d&&(m=new gu(d,I)),$u(h._repo,h,m)}class w{}class g extends w{constructor(d,c){super(),this._value=d,this._key=c}_apply(d){wa("endAt",this._value,d._path,!0);const c=$o(d._queryParams,this._value,this._key);if(ul(c),Fo(c),d._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new No(d._repo,d._path,c,d._orderByCalled)}}class T extends w{constructor(d,c){super(),this._value=d,this._key=c}_apply(d){wa("endBefore",this._value,d._path,!1);const c=function Mu(h,d,c){let m,I;return h.index_===ds?("string"==typeof d&&(d=Ti(d)),I=$o(h,d,c)):(m=null==c?rn:Ti(c),I=$o(h,d,m)),I.endBeforeSet_=!0,I}(d._queryParams,this._value,this._key);if(ul(c),Fo(c),d._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new No(d._repo,d._path,c,d._orderByCalled)}}class fe extends w{constructor(d,c){super(),this._value=d,this._key=c}_apply(d){wa("startAt",this._value,d._path,!0);const c=Ka(d._queryParams,this._value,this._key);if(ul(c),Fo(c),d._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new No(d._repo,d._path,c,d._orderByCalled)}}class Ft extends w{constructor(d,c){super(),this._value=d,this._key=c}_apply(d){wa("startAfter",this._value,d._path,!1);const c=function Ks(h,d,c){let m;if(h.index_===ds)"string"==typeof d&&(d=hs(d)),m=Ka(h,d,c);else{let I;I=null==c?nr:hs(c),m=Ka(h,d,I)}return m.startAfterSet_=!0,m}(d._queryParams,this._value,this._key);if(ul(c),Fo(c),d._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new No(d._repo,d._path,c,d._orderByCalled)}}class Vn extends w{constructor(d){super(),this._limit=d}_apply(d){if(d._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new No(d._repo,d._path,function Ma(h,d){const c=h.copy();return c.limitSet_=!0,c.limit_=d,c.viewFrom_="l",c}(d._queryParams,this._limit),d._orderByCalled)}}class hr extends w{constructor(d){super(),this._limit=d}_apply(d){if(d._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new No(d._repo,d._path,function $l(h,d){const c=h.copy();return c.limitSet_=!0,c.limit_=d,c.viewFrom_="r",c}(d._queryParams,this._limit),d._orderByCalled)}}class Yo extends w{constructor(d){super(),this._path=d}_apply(d){fu(d,"orderByChild");const c=new It(this._path);if(lr(c))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const m=new wt(c),I=Eo(d._queryParams,m);return Fo(I),new No(d._repo,d._path,I,!0)}}class hd extends w{_apply(d){fu(d,"orderByKey");const c=Eo(d._queryParams,ds);return Fo(c),new No(d._repo,d._path,c,!0)}}class Kd extends w{_apply(d){fu(d,"orderByPriority");const c=Eo(d._queryParams,Pr);return Fo(c),new No(d._repo,d._path,c,!0)}}class hl extends w{_apply(d){fu(d,"orderByValue");const c=Eo(d._queryParams,En);return Fo(c),new No(d._repo,d._path,c,!0)}}class zu extends w{constructor(d,c){super(),this._value=d,this._key=c}_apply(d){if(wa("equalTo",this._value,d._path,!1),d._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(d._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new g(this._value,this._key)._apply(new fe(this._value,this._key)._apply(d))}}function ws(h,...d){let c=(0,G.m9)(h);for(const m of d)c=m._apply(c);return c}(function $s(h){(0,G.hu)(!oc,"__referenceConstructor has already been defined"),oc=h})(qo),function oe(h){(0,G.hu)(!W,"__referenceConstructor has already been defined"),W=h}(qo);const wc={};function Kf(h,d,c,m,I){let M=m||h.options.databaseURL;void 0===M&&(h.options.projectId||Jt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),en("Using default host for project ",h.options.projectId),M=`${h.options.projectId}-default-rtdb.firebaseio.com`);let we,Ge,L=xs(M,I),ce=L.repoInfo;"undefined"!=typeof process&&process.env&&(Ge=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Ge?(we=!0,M=`http://${Ge}?ns=${ce.namespace}`,L=xs(M,I),ce=L.repoInfo):we=!L.repoInfo.secure;const Mt=I&&we?new Wn(Wn.OWNER):new fr(h.name,h.options,d);Yf("Invalid Firebase Database URL",L),lr(L.path)||Jt("Database URL must point to the root of a Firebase Database (not including a child path).");const gt=function Xd(h,d,c,m){let I=wc[d.name];I||(I={},wc[d.name]=I);let M=I[h.toURLString()];return M&&Jt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),M=new fc(h,false,c,m),I[h.toURLString()]=M,M}(ce,h,Mt,new ln(h.name,c));return new Kh(gt,h)}class Kh{constructor(d,c){this._repoInternal=d,this.app=c,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Vu(h,d,c){if(h.stats_=zn(h.repoInfo_),h.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)h.server_=new Os(h.repoInfo_,(m,I,M,L)=>{jd(h,m,I,M,L)},h.authTokenProvider_,h.appCheckProvider_),setTimeout(()=>pc(h,!0),0);else{if(null!=c){if("object"!=typeof c)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,G.Pz)(c)}catch(m){throw new Error("Invalid authOverride provided: "+m)}}h.persistentConnection_=new Kr(h.repoInfo_,d,(m,I,M,L)=>{jd(h,m,I,M,L)},m=>{pc(h,m)},m=>{!function ed(h,d){Fe(d,(c,m)=>{ll(h,c,m)})}(h,m)},h.authTokenProvider_,h.appCheckProvider_,c),h.server_=h.persistentConnection_}h.authTokenProvider_.addTokenChangeListener(m=>{h.server_.refreshAuthToken(m)}),h.appCheckProvider_.addTokenChangeListener(m=>{h.server_.refreshAppCheckToken(m.token)}),h.statsReporter_=function Br(h,d){const c=h.toString();return $r[c]||($r[c]=d()),$r[c]}(h.repoInfo_,()=>new Hl(h.stats_,h.server_)),h.infoData_=new Ru,h.infoSyncTree_=new St({startListening:(m,I,M,L)=>{let ce=[];const we=h.infoData_.getNode(m._path);return we.isEmpty()||(ce=dr(h.infoSyncTree_,m._path,we),setTimeout(()=>{L("ok")},0)),ce},stopListening:()=>{}}),ll(h,"connected",!1),h.serverSyncTree_=new St({startListening:(m,I,M,L)=>(h.server_.listen(m,M,I,(ce,we)=>{const Ge=L(ce,we);Fs(h.eventQueue_,m._path,Ge)}),[]),stopListening:(m,I)=>{h.server_.unlisten(m,I)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new qo(this._repo,Ut())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Zf(h,d){const c=wc[d];(!c||c[h.key]!==h)&&Jt(`Database ${d}(${h.repoInfo_}) has already been deleted.`),Gd(h),delete c[h.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(d){null===this._rootInternal&&Jt("Cannot call "+d+" on a deleted database.")}}function Xf(h,d){Kt(h,d)}const Zh={".sv":"timestamp"};class Ic{constructor(d,c){this.committed=d,this.snapshot=c}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Kr.prototype.simpleListen=function(h,d){this.sendRequest("q",{p:h},d)},Kr.prototype.echo=function(h,d){this.sendRequest("echo",{d:h},d)},function Wu(h){et(Ue.SDK_VERSION),(0,Ue._registerComponent)(new Dt.wA("database",(d,{instanceIdentifier:c})=>Kf(d.getProvider("app").getImmediate(),d.getProvider("auth-internal"),d.getProvider("app-check-internal"),c),"PUBLIC").setMultipleInstances(!0)),(0,Ue.registerVersion)(Te,"0.12.8",h),(0,Ue.registerVersion)(Te,"0.12.8","esm2017")}();const Jf=new Re.Yd("@firebase/database-compat"),md=function(h){Jf.warn("FIREBASE WARNING: "+h)};class Jh{constructor(d){this._delegate=d}cancel(d){(0,G.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,G.Wj)("OnDisconnect.cancel","onComplete",d,!0);const c=this._delegate.cancel();return d&&c.then(()=>d(null),m=>d(m)),c}remove(d){(0,G.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,G.Wj)("OnDisconnect.remove","onComplete",d,!0);const c=this._delegate.remove();return d&&c.then(()=>d(null),m=>d(m)),c}set(d,c){(0,G.Dv)("OnDisconnect.set",1,2,arguments.length),(0,G.Wj)("OnDisconnect.set","onComplete",c,!0);const m=this._delegate.set(d);return c&&m.then(()=>c(null),I=>c(I)),m}setWithPriority(d,c,m){(0,G.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,G.Wj)("OnDisconnect.setWithPriority","onComplete",m,!0);const I=this._delegate.setWithPriority(d,c);return m&&I.then(()=>m(null),M=>m(M)),I}update(d,c){if((0,G.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(d)){const I={};for(let M=0;M<d.length;++M)I[""+M]=d[M];d=I,md("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,G.Wj)("OnDisconnect.update","onComplete",c,!0);const m=this._delegate.update(d);return c&&m.then(()=>c(null),I=>c(I)),m}}class ep{constructor(d,c){this.committed=d,this.snapshot=c}toJSON(){return(0,G.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Ko{constructor(d,c){this._database=d,this._delegate=c}val(){return(0,G.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,G.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,G.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,G.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(d){return(0,G.Dv)("DataSnapshot.child",0,1,arguments.length),d=String(d),Bu("DataSnapshot.child","path",d,!1),new Ko(this._database,this._delegate.child(d))}hasChild(d){return(0,G.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Bu("DataSnapshot.hasChild","path",d,!1),this._delegate.hasChild(d)}getPriority(){return(0,G.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(d){return(0,G.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,G.Wj)("DataSnapshot.forEach","action",d,!1),this._delegate.forEach(c=>d(new Ko(this._database,c)))}hasChildren(){return(0,G.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,G.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,G.Dv)("DataSnapshot.ref",0,0,arguments.length),new Da(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Hs{constructor(d,c){this.database=d,this._delegate=c}on(d,c,m,I){var M;(0,G.Dv)("Query.on",2,4,arguments.length),(0,G.Wj)("Query.on","callback",c,!1);const L=Hs.getCancelAndContextArgs_("Query.on",m,I),ce=(Ge,Mt)=>{c.call(L.context,new Ko(this.database,Ge),Mt)};ce.userCallback=c,ce.context=L.context;const we=null===(M=L.cancel)||void 0===M?void 0:M.bind(L.context);switch(d){case"value":return ud(this._delegate,ce,we),c;case"child_added":return _c(this._delegate,ce,we),c;case"child_removed":return qd(this._delegate,ce,we),c;case"child_changed":return cd(this._delegate,ce,we),c;case"child_moved":return dd(this._delegate,ce,we),c;default:throw new Error((0,G.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(d,c,m){if((0,G.Dv)("Query.off",0,3,arguments.length),function(h,d,c){if(void 0!==d)switch(d){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,G.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,d),(0,G.Wj)("Query.off","callback",c,!0),(0,G.lb)("Query.off","context",m,!0),c){const I=()=>{};I.userCallback=c,I.context=m,Yd(this._delegate,d,I)}else Yd(this._delegate,d)}get(){return dl(this._delegate).then(d=>new Ko(this.database,d))}once(d,c,m,I){(0,G.Dv)("Query.once",1,4,arguments.length),(0,G.Wj)("Query.once","callback",c,!0);const M=Hs.getCancelAndContextArgs_("Query.once",m,I),L=new G.BH,ce=(Ge,Mt)=>{const gt=new Ko(this.database,Ge);c&&c.call(M.context,gt,Mt),L.resolve(gt)};ce.userCallback=c,ce.context=M.context;const we=Ge=>{M.cancel&&M.cancel.call(M.context,Ge),L.reject(Ge)};switch(d){case"value":ud(this._delegate,ce,we,{onlyOnce:!0});break;case"child_added":_c(this._delegate,ce,we,{onlyOnce:!0});break;case"child_removed":qd(this._delegate,ce,we,{onlyOnce:!0});break;case"child_changed":cd(this._delegate,ce,we,{onlyOnce:!0});break;case"child_moved":dd(this._delegate,ce,we,{onlyOnce:!0});break;default:throw new Error((0,G.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return L.promise}limitToFirst(d){return(0,G.Dv)("Query.limitToFirst",1,1,arguments.length),new Hs(this.database,ws(this._delegate,function gr(h){if("number"!=typeof h||Math.floor(h)!==h||h<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Vn(h)}(d)))}limitToLast(d){return(0,G.Dv)("Query.limitToLast",1,1,arguments.length),new Hs(this.database,ws(this._delegate,function zr(h){if("number"!=typeof h||Math.floor(h)!==h||h<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new hr(h)}(d)))}orderByChild(d){return(0,G.Dv)("Query.orderByChild",1,1,arguments.length),new Hs(this.database,ws(this._delegate,function vc(h){if("$key"===h)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===h)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===h)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Bu("orderByChild","path",h,!1),new Yo(h)}(d)))}orderByKey(){return(0,G.Dv)("Query.orderByKey",0,0,arguments.length),new Hs(this.database,ws(this._delegate,function Ec(){return new hd}()))}orderByPriority(){return(0,G.Dv)("Query.orderByPriority",0,0,arguments.length),new Hs(this.database,ws(this._delegate,function Wh(){return new Kd}()))}orderByValue(){return(0,G.Dv)("Query.orderByValue",0,0,arguments.length),new Hs(this.database,ws(this._delegate,function bc(){return new hl}()))}startAt(d=null,c){return(0,G.Dv)("Query.startAt",0,2,arguments.length),new Hs(this.database,ws(this._delegate,function ht(h=null,d){return Dl("startAt","key",d,!0),new fe(h,d)}(d,c)))}startAfter(d=null,c){return(0,G.Dv)("Query.startAfter",0,2,arguments.length),new Hs(this.database,ws(this._delegate,function bn(h,d){return Dl("startAfter","key",d,!0),new Ft(h,d)}(d,c)))}endAt(d=null,c){return(0,G.Dv)("Query.endAt",0,2,arguments.length),new Hs(this.database,ws(this._delegate,function _(h,d){return Dl("endAt","key",d,!0),new g(h,d)}(d,c)))}endBefore(d=null,c){return(0,G.Dv)("Query.endBefore",0,2,arguments.length),new Hs(this.database,ws(this._delegate,function Y(h,d){return Dl("endBefore","key",d,!0),new T(h,d)}(d,c)))}equalTo(d,c){return(0,G.Dv)("Query.equalTo",1,2,arguments.length),new Hs(this.database,ws(this._delegate,function fd(h,d){return Dl("equalTo","key",d,!0),new zu(h,d)}(d,c)))}toString(){return(0,G.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,G.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(d){if((0,G.Dv)("Query.isEqual",1,1,arguments.length),!(d instanceof Hs))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(d._delegate)}static getCancelAndContextArgs_(d,c,m){const I={cancel:void 0,context:void 0};if(c&&m)I.cancel=c,(0,G.Wj)(d,"cancel",I.cancel,!0),I.context=m,(0,G.lb)(d,"context",I.context,!0);else if(c)if("object"==typeof c&&null!==c)I.context=c;else{if("function"!=typeof c)throw new Error((0,G.gK)(d,"cancelOrContext")+" must either be a cancel callback or a context object.");I.cancel=c}return I}get ref(){return new Da(this.database,new qo(this._delegate._repo,this._delegate._path))}}class Da extends Hs{constructor(d,c){super(d,new No(c._repo,c._path,new na,!1)),this.database=d,this._delegate=c}getKey(){return(0,G.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(d){return(0,G.Dv)("Reference.child",1,1,arguments.length),"number"==typeof d&&(d=String(d)),new Da(this.database,pu(this._delegate,d))}getParent(){(0,G.Dv)("Reference.parent",0,0,arguments.length);const d=this._delegate.parent;return d?new Da(this.database,d):null}getRoot(){return(0,G.Dv)("Reference.root",0,0,arguments.length),new Da(this.database,this._delegate.root)}set(d,c){(0,G.Dv)("Reference.set",1,2,arguments.length),(0,G.Wj)("Reference.set","onComplete",c,!0);const m=Ls(this._delegate,d);return c&&m.then(()=>c(null),I=>c(I)),m}update(d,c){if((0,G.Dv)("Reference.update",1,2,arguments.length),Array.isArray(d)){const I={};for(let M=0;M<d.length;++M)I[""+M]=d[M];d=I,md("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}oo("Reference.update",this._delegate._path),(0,G.Wj)("Reference.update","onComplete",c,!0);const m=Hu(this._delegate,d);return c&&m.then(()=>c(null),I=>c(I)),m}setWithPriority(d,c,m){(0,G.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,G.Wj)("Reference.setWithPriority","onComplete",m,!0);const I=function ld(h,d,c){if(oo("setWithPriority",h._path),wa("setWithPriority",d,h._path,!1),Zc("setWithPriority",c,!1),".length"===h.key||".keys"===h.key)throw"setWithPriority failed: "+h.key+" is a read-only object.";const m=new G.BH;return Tl(h._repo,h._path,d,c,m.wrapCallback(()=>{})),m.promise}(this._delegate,d,c);return m&&I.then(()=>m(null),M=>m(M)),I}remove(d){(0,G.Dv)("Reference.remove",0,1,arguments.length),(0,G.Wj)("Reference.remove","onComplete",d,!0);const c=function cl(h){return oo("remove",h._path),Ls(h,null)}(this._delegate);return d&&c.then(()=>d(null),m=>d(m)),c}transaction(d,c,m){(0,G.Dv)("Reference.transaction",1,3,arguments.length),(0,G.Wj)("Reference.transaction","transactionUpdate",d,!1),(0,G.Wj)("Reference.transaction","onComplete",c,!0),function(h,d,c,m){if(void 0!==c&&"boolean"!=typeof c)throw new Error((0,G.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,m);const I=function ug(h,d,c){var m;if(h=(0,G.m9)(h),oo("Reference.transaction",h._path),".length"===h.key||".keys"===h.key)throw"Reference.transaction failed: "+h.key+" is a read-only object.";const I=null===(m=null==c?void 0:c.applyLocally)||void 0===m||m,M=new G.BH,ce=ud(h,()=>{});return function sd(h,d,c,m,I,M){Sl(h,"transaction on "+d);const L={path:d,update:c,onComplete:m,status:null,order:lt(),applyLocally:M,retryCount:0,unwatcher:I,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},ce=uu(h,d,void 0);L.currentInputSnapshot=ce;const we=L.update(ce.val());if(void 0===we)L.unwatcher(),L.currentOutputSnapshotRaw=null,L.currentOutputSnapshotResolved=null,L.onComplete&&L.onComplete(null,!1,L.currentInputSnapshot);else{Cl("transaction failed: Data returned ",we,L.path),L.status=0;const Ge=bs(h.transactionQueueTree_,d),Mt=wo(Ge)||[];let gt;Mt.push(L),hc(Ge,Mt),"object"==typeof we&&null!==we&&(0,G.r3)(we,".priority")?(gt=(0,G.DV)(we,".priority"),(0,G.hu)(Va(gt),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):gt=(eo(h.serverSyncTree_,d)||v.EMPTY_NODE).getPriority().val();const Zt=au(h),wn=J(we,gt),ar=cc(wn,ce,Zt);L.currentOutputSnapshotRaw=wn,L.currentOutputSnapshotResolved=ar,L.currentWriteId=gc(h);const Oi=un(h.serverSyncTree_,d,ar,L.currentWriteId,L.applyLocally);Fs(h.eventQueue_,d,Oi),Al(h,h.transactionQueueTree_)}}(h._repo,h._path,d,(we,Ge,Mt)=>{let gt=null;we?M.reject(we):(gt=new Ml(Mt,new qo(h._repo,h._path),Pr),M.resolve(new Ic(Ge,gt)))},ce,I),M.promise}(this._delegate,d,{applyLocally:m}).then(M=>new ep(M.committed,new Ko(this.database,M.snapshot)));return c&&I.then(M=>c(null,M.committed,M.snapshot),M=>c(M,!1,null)),I}setPriority(d,c){(0,G.Dv)("Reference.setPriority",1,2,arguments.length),(0,G.Wj)("Reference.setPriority","onComplete",c,!0);const m=function ad(h,d){h=(0,G.m9)(h),oo("setPriority",h._path),Zc("setPriority",d,!1);const c=new G.BH;return Tl(h._repo,ti(h._path,".priority"),d,null,c.wrapCallback(()=>{})),c.promise}(this._delegate,d);return c&&m.then(()=>c(null),I=>c(I)),m}push(d,c){(0,G.Dv)("Reference.push",0,2,arguments.length),(0,G.Wj)("Reference.push","onComplete",c,!0);const m=function yc(h,d){h=(0,G.m9)(h),oo("push",h._path),wa("push",d,h._path,!0);const c=Jc(h._repo),m=ts(c),I=pu(h,m),M=pu(h,m);let L;return L=null!=d?Ls(M,d).then(()=>M):Promise.resolve(M),I.then=L.then.bind(L),I.catch=L.then.bind(L,void 0),I}(this._delegate,d),I=m.then(L=>new Da(this.database,L));c&&I.then(()=>c(null),L=>c(L));const M=new Da(this.database,m);return M.then=I.then.bind(I),M.catch=I.catch.bind(I,void 0),M}onDisconnect(){return oo("Reference.onDisconnect",this._delegate._path),new Jh(new hu(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class qu{constructor(d,c){this._delegate=d,this.app=c,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(d,c,m={}){!function Fm(h,d,c,m={}){(h=(0,G.m9)(h))._checkNotDeleted("useEmulator"),h._instanceStarted&&Jt("Cannot call useEmulator() after instance has already been initialized.");const I=h._repoInternal;let M;if(I.repoInfo_.nodeAdmin)m.mockUserToken&&Jt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),M=new Wn(Wn.OWNER);else if(m.mockUserToken){const L="string"==typeof m.mockUserToken?m.mockUserToken:(0,G.Sg)(m.mockUserToken,h.app.options.projectId);M=new Wn(L)}!function Zd(h,d,c,m){h.repoInfo_=new sn(`${d}:${c}`,!1,h.repoInfo_.namespace,h.repoInfo_.webSocketOnly,h.repoInfo_.nodeAdmin,h.repoInfo_.persistenceKey,h.repoInfo_.includeNamespaceInQueryParams),m&&(h.authTokenProvider_=m)}(I,d,c,M)}(this._delegate,d,c,m)}ref(d){if((0,G.Dv)("database.ref",0,1,arguments.length),d instanceof Da){const c=Wd(this._delegate,d.toString());return new Da(this,c)}{const c=Ca(this._delegate,d);return new Da(this,c)}}refFromURL(d){(0,G.Dv)("database.refFromURL",1,1,arguments.length);const m=Wd(this._delegate,d);return new Da(this,m)}goOffline(){return(0,G.Dv)("database.goOffline",0,0,arguments.length),function ag(h){(h=(0,G.m9)(h))._checkNotDeleted("goOffline"),Gd(h._repo)}(this._delegate)}goOnline(){return(0,G.Dv)("database.goOnline",0,0,arguments.length),function gd(h){(h=(0,G.m9)(h))._checkNotDeleted("goOnline"),function As(h){h.persistentConnection_&&h.persistentConnection_.resume(ou)}(h._repo)}(this._delegate)}}qu.ServerValue={TIMESTAMP:function Xh(){return Zh}(),increment:h=>function lg(h){return{".sv":{increment:h}}}(h)};var Bm=Object.freeze({__proto__:null,initStandalone:function Lm({app:h,url:d,version:c,customAuthImpl:m,namespace:I,nodeAdmin:M=!1}){et(c);const L=new Dt.zt("auth-internal",new Dt.H0("database-standalone"));return L.setComponent(new Dt.wA("auth-internal",()=>m,"PRIVATE")),{instance:new qu(Kf(h,L,void 0,d,M),h),namespace:I}}});const tp=qu.ServerValue;!function np(h){h.INTERNAL.registerComponent(new Dt.wA("database-compat",(d,{instanceIdentifier:c})=>{const m=d.getProvider("app-compat").getImmediate(),I=d.getProvider("database").getImmediate({identifier:c});return new qu(I,m)},"PUBLIC").setServiceProps({Reference:Da,Query:Hs,Database:qu,DataSnapshot:Ko,enableLogging:Xf,INTERNAL:Bm,ServerValue:tp}).setMultipleInstances(!0)),h.registerVersion("@firebase/database-compat","0.1.8")}(Ze.Z);var Ha=$(4941),tv=$(440),rp=$(127);function mu(h){return null==h}function ef(h){return"function"==typeof h.set}function Ga(h,d){return ef(d)?d:h.ref(d)}function mn(h,d){if(function Co(h){return"string"==typeof h}(h))return d.stringCase();if(ef(h))return d.firebaseCase();if(function Tc(h){return"function"==typeof h.exportVal}(h))return d.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof h)}function ms(h,d,c="on",m=X.z){return new Z.y(I=>{let M=null;return M=h[c](d,(L,ce)=>{m.schedule(()=>{I.next({snapshot:L,prevKey:ce})}),"once"===c&&m.schedule(()=>I.complete())},L=>{m.schedule(()=>I.error(L))}),"on"===c?{unsubscribe(){null!=M&&h.off(d,M)}}:{unsubscribe(){}}}).pipe((0,Oe.U)(I=>{const{snapshot:M,prevKey:L}=I;let ce=null;return M.exists()&&(ce=M.key),{type:d,payload:M,prevKey:L,key:ce}}),(0,_e.B)())}function tf(h,d){const c=h.length;for(let m=0;m<c;m++)if(h[m].payload.key===d)return m;return-1}function Ur(h,d){const{payload:c,prevKey:m,key:I}=d,M=tf(h,I),L=function Xn(h,d){if(mu(d))return 0;{const c=tf(h,d);return-1===c?h.length:c+1}}(h,m);switch(d.type){case"value":if(d.payload&&d.payload.exists()){let ce=null;d.payload.forEach(we=>{const Ge={payload:we,type:"value",prevKey:ce,key:we.key};return ce=we.key,h=[...h,Ge],!1})}return h;case"child_added":if(M>-1){const ce=h[M-1];(ce&&ce.key||null)!==m&&(h=h.filter(we=>we.payload.key!==c.key)).splice(L,0,d)}else{if(null==m)return[d,...h];(h=h.slice()).splice(L,0,d)}return h;case"child_removed":return h.filter(ce=>ce.payload.key!==c.key);case"child_changed":return h.map(ce=>ce.payload.key===I?d:ce);case"child_moved":if(M>-1){const ce=h.splice(M,1)[0];return(h=h.slice()).splice(L,0,ce),h}return h;default:return h}}function ip(h){return(mu(h)||0===h.length)&&(h=["child_added","child_removed","child_changed","child_moved"]),h}function On(h,d,c){return function Jd(h,d,c){return ms(h,"value","once",c).pipe((0,ke.w)(m=>{const I=[(0,Be.of)(m)];return d.forEach(M=>I.push(ms(h,M,"on",c))),(0,Se.T)(...I).pipe((0,Ve.R)(Ur,[]))}),(0,st.x)())}(h,d=ip(d),c)}function Bt(h,d,c){const m=(d=ip(d)).map(I=>ms(h,I,"on",c));return(0,Se.T)(...m)}function op(h,d){return function(m,I){return mn(m,{stringCase:()=>h.child(m)[d](I),firebaseCase:()=>m[d](I),snapshotCase:()=>m.ref[d](I)})}}function dg(h){return function(c){return c?mn(c,{stringCase:()=>h.child(c).remove(),firebaseCase:()=>c.remove(),snapshotCase:()=>c.ref.remove()}):h.remove()}}function za(h,d){return function(){return ms(h,"value","on",d)}}const fg=new l.OlP("angularfire2.realtimeDatabaseURL"),ap=new l.OlP("angularfire2.database.use-emulator");let yu=(()=>{class h{constructor(c,m,I,M,L,ce,we,Ge,Mt,gt,Zt,wn,ar,Oi,yi){this.schedulers=ce;const Sc=we,Xo=(0,qe.on)(c,L,m);Ge&&(0,Ha.nw)(Xo,L,Mt,Zt,wn,ar,gt,Oi),this.database=(0,qe.cc)(`${Xo.name}.database.${I}`,"AngularFireDatabase",Xo.name,()=>{const Zi=L.runOutsideAngular(()=>Xo.database(I||void 0));return Sc&&Zi.useEmulator(...Sc),Zi},[Sc])}list(c,m){const I=this.schedulers.ngZone.runOutsideAngular(()=>Ga(this.database,c));let M=I;return m&&(M=m(I)),function nf(h,d){const c=d.schedulers.outsideAngular,m=d.schedulers.ngZone.run(()=>h.ref);return{query:h,update:op(m,"update"),set:op(m,"set"),push:I=>m.push(I),remove:dg(m),snapshotChanges:I=>On(h,I,c).pipe(Le.iC),stateChanges:I=>Bt(h,I,c).pipe(Le.iC),auditTrail:I=>function an(h,d,c){return function sp(h,d,c){return function ir(h,d){return ms(h,"value","on",d).pipe((0,Oe.U)(c=>{let m;return c.payload.forEach(I=>(m=I.key,!1)),{data:c,lastKeyToLoad:m}}))}(h,c).pipe(function de(...h){return d=>{let c;return"function"==typeof h[h.length-1]&&(c=h.pop()),d.lift(new ge(h,c))}}(d),(0,Oe.U)(([I,M])=>{const L=I.lastKeyToLoad,ce=M.map(we=>we.key);return{actions:M,lastKeyToLoad:L,loadedKeys:ce}}),function ie(h){return d=>d.lift(new he(h))}(I=>-1===I.loadedKeys.indexOf(I.lastKeyToLoad)),(0,Oe.U)(I=>I.actions))}(h,Bt(h,d).pipe((0,Ve.R)((I,M)=>[...I,M],[])),c)}(h,I,c).pipe(Le.iC),valueChanges:(I,M)=>On(h,I,c).pipe((0,Oe.U)(ce=>ce.map(we=>M&&M.idField?Object.assign(Object.assign({},we.payload.val()),{[M.idField]:we.key}):we.payload.val())),Le.iC)}}(M,this)}object(c){return function hg(h,d){return{query:h,snapshotChanges:()=>za(h,d.schedulers.outsideAngular)().pipe(Le.iC),update:c=>h.ref.update(c),set:c=>h.ref.set(c),remove:()=>h.ref.remove(),valueChanges:()=>za(h,d.schedulers.outsideAngular)().pipe(Le.iC,(0,Oe.U)(m=>m.payload.exists()?m.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Ga(this.database,c)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return h.\u0275fac=function(c){return new(c||h)(l.LFG(qe.Dh),l.LFG(qe.xv,8),l.LFG(fg,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Le.HU),l.LFG(ap,8),l.LFG(Ha.zQ,8),l.LFG(Ha.Qv,8),l.LFG(Ha.L6,8),l.LFG(Ha._Q,8),l.LFG(Ha.rT,8),l.LFG(Ha.lh,8),l.LFG(Ha.f7,8),l.LFG(tv.nm,8))},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"any"}),h})(),Zo=(()=>{class h{constructor(){rp.Z.registerVersion("angularfire",Le.q4.full,"rtdb-compat")}}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=l.oAB({type:h}),h.\u0275inj=l.cJS({providers:[yu]}),h})()},2011:(hn,ft,$)=>{"use strict";$.d(ft,{hO:()=>he,xv:()=>ge,Dh:()=>de,GT:()=>ae,cc:()=>We,on:()=>le,pX:()=>Se});var l=$(5e3),X=$(127),Z=$(6351);hn=$.hmd(hn);const Be=["ngOnDestroy"],Se=(Ve,st,Le,qe={})=>new Proxy(Ve,{get:(Ae,Ze)=>Le.runOutsideAngular(()=>{var Dt;if(Ve[Ze])return(null===(Dt=null==qe?void 0:qe.spy)||void 0===Dt?void 0:Dt.get)&&qe.spy.get(Ze,Ve[Ze]),Ve[Ze];if(Be.indexOf(Ze)>-1)return()=>{};const Ct=st.toPromise().then(Ue=>{const G=Ue&&Ue[Ze];return"function"==typeof G?G.bind(Ue):G&&G.then?G.then(Re=>Le.run(()=>Re)):Le.run(()=>G)});return new Proxy(()=>{},{get:(Ue,G)=>Ct[G],apply:(Ue,G,Re)=>Ct.then(Te=>{var Ce;const rt=Te&&Te(...Re);return(null===(Ce=null==qe?void 0:qe.spy)||void 0===Ce?void 0:Ce.apply)&&qe.spy.apply(Ze,Re,rt),rt})})})}),ae=(Ve,st)=>{st.forEach(Le=>{Object.getOwnPropertyNames(Le.prototype||Le).forEach(qe=>{Object.defineProperty(Ve.prototype,qe,Object.getOwnPropertyDescriptor(Le.prototype||Le,qe))})})};class Ee{constructor(st){return st}}const de=new l.OlP("angularfire2.app.options"),ge=new l.OlP("angularfire2.app.name");function le(Ve,st,Le){const Ae="object"==typeof Le&&Le||{};Ae.name=Ae.name||"string"==typeof Le&&Le||"[DEFAULT]";const Dt=X.Z.apps.filter(Ct=>Ct&&Ct.name===Ae.name)[0]||st.runOutsideAngular(()=>X.Z.initializeApp(Ve,Ae));try{JSON.stringify(Ve)!==JSON.stringify(Dt.options)&&me("error",`${Dt.name} Firebase App already initialized with different options${hn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ct){}return new Ee(Dt)}const me=(Ve,...st)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[Ve](...st)},ie={provide:Ee,useFactory:le,deps:[de,l.R0b,[new l.FiY,ge]]};let he=(()=>{class Ve{constructor(Le){X.Z.registerVersion("angularfire",Z.q4.full,"core"),X.Z.registerVersion("angularfire",Z.q4.full,"app-compat"),X.Z.registerVersion("angular",l.q4F.full,Le.toString())}static initializeApp(Le,qe){return{ngModule:Ve,providers:[{provide:de,useValue:Le},{provide:ge,useValue:qe}]}}}return Ve.\u0275fac=function(Le){return new(Le||Ve)(l.LFG(l.Lbi))},Ve.\u0275mod=l.oAB({type:Ve}),Ve.\u0275inj=l.cJS({providers:[ie]}),Ve})();function We(Ve,st,Le,qe,Ae){const[,Ze,Dt]=globalThis.\u0275AngularfireInstanceCache.find(Ct=>Ct[0]===Ve)||[];if(Ze)return function Oe(Ve,st){try{return Ve.toString()===st.toString()}catch(Le){return Ve===st}}(Ae,Dt)||(ke("error",`${st} was already initialized on the ${Le} Firebase App with different settings.${_e?" You may need to reload as Firebase is not HMR aware.":""}`),ke("warn",{is:Ae,was:Dt})),Ze;{const Ct=qe();return globalThis.\u0275AngularfireInstanceCache.push([Ve,Ct,Ae]),Ct}}const _e=!!hn.hot,ke=(Ve,...st)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[Ve](...st)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(hn,ft,$)=>{"use strict";$.d(ft,{q4:()=>va,iC:()=>bo,fc:()=>Gc,HU:()=>tl,vb:()=>oc,JM:()=>Hc});var l=$(5e3),X=$(5867),Z=$(5861),Be=$(9681),Se=$(2090),ae=$(4859),Ee=$(1877);const de="@firebase/installations",me="w:0.5.8",ie="FIS_v2",Ve=new Se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function st(N){return N instanceof Se.ZR&&N.code.includes("request-failed")}function Le({projectId:N}){return`https://firebaseinstallations.googleapis.com/v1/projects/${N}/installations`}function qe(N){return{token:N.token,requestStatus:2,expiresIn:Re(N.expiresIn),creationTime:Date.now()}}function Ae(N,W){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,Z.Z)(function*(N,W){const Ne=(yield W.json()).error;return Ve.create("request-failed",{requestName:N,serverCode:Ne.code,serverMessage:Ne.message,serverStatus:Ne.status})})).apply(this,arguments)}function Dt({apiKey:N}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":N})}function Ct(N,{refreshToken:W}){const oe=Dt(N);return oe.append("Authorization",function Te(N){return`${ie} ${N}`}(W)),oe}function Ue(N){return G.apply(this,arguments)}function G(){return(G=(0,Z.Z)(function*(N){const W=yield N();return W.status>=500&&W.status<600?N():W})).apply(this,arguments)}function Re(N){return Number(N.replace("s","000"))}function Ce(N,W){return rt.apply(this,arguments)}function rt(){return(rt=(0,Z.Z)(function*({appConfig:N,heartbeatServiceProvider:W},{fid:oe}){const Ne=Le(N),yt=Dt(N),St=W.getImmediate({optional:!0});if(St){const dr=yield St.getHeartbeatsHeader();dr&&yt.append("x-firebase-client",dr)}const Hn={method:"POST",headers:yt,body:JSON.stringify({fid:oe,authVersion:ie,appId:N.appId,sdkVersion:me})},pr=yield Ue(()=>fetch(Ne,Hn));if(pr.ok){const dr=yield pr.json();return{fid:dr.fid||oe,registrationStatus:2,refreshToken:dr.refreshToken,authToken:qe(dr.authToken)}}throw yield Ae("Create Installation",pr)})).apply(this,arguments)}function et(N){return new Promise(W=>{setTimeout(W,N)})}const on=/^[cdef][\w-]{21}$/;function it(){try{const N=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(N),N[0]=112+N[0]%16;const oe=function Qe(N){return function Xt(N){return btoa(String.fromCharCode(...N)).replace(/\+/g,"-").replace(/\//g,"_")}(N).substr(0,22)}(N);return on.test(oe)?oe:""}catch(N){return""}}function at(N){return`${N.appName}!${N.appId}`}const lt=new Map;function Me(N,W){const oe=at(N);dt(oe,W),function Kt(N,W){const oe=function _n(){return!en&&"BroadcastChannel"in self&&(en=new BroadcastChannel("[Firebase] FID Change"),en.onmessage=N=>{dt(N.data.key,N.data.fid)}),en}();oe&&oe.postMessage({key:N,fid:W}),function fn(){0===lt.size&&en&&(en.close(),en=null)}()}(oe,W)}function dt(N,W){const oe=lt.get(N);if(oe)for(const Ne of oe)Ne(W)}let en=null;const Cr="firebase-installations-store";let yr=null;function Jn(){return yr||(yr=(0,Se.X3)("firebase-installations-database",1,(N,W)=>{0===W&&N.createObjectStore(Cr)})),yr}function rn(N,W){return nr.apply(this,arguments)}function nr(){return(nr=(0,Z.Z)(function*(N,W){const oe=at(N),yt=(yield Jn()).transaction(Cr,"readwrite"),St=yt.objectStore(Cr),un=yield St.get(oe);return yield St.put(W,oe),yield yt.complete,(!un||un.fid!==W.fid)&&Me(N,W.fid),W})).apply(this,arguments)}function Nn(N){return er.apply(this,arguments)}function er(){return(er=(0,Z.Z)(function*(N){const W=at(N),Ne=(yield Jn()).transaction(Cr,"readwrite");yield Ne.objectStore(Cr).delete(W),yield Ne.complete})).apply(this,arguments)}function Tn(N,W){return xr.apply(this,arguments)}function xr(){return(xr=(0,Z.Z)(function*(N,W){const oe=at(N),yt=(yield Jn()).transaction(Cr,"readwrite"),St=yt.objectStore(Cr),un=yield St.get(oe),Hn=W(un);return void 0===Hn?yield St.delete(oe):yield St.put(Hn,oe),yield yt.complete,Hn&&(!un||un.fid!==Hn.fid)&&Me(N,Hn.fid),Hn})).apply(this,arguments)}function ot(N){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,Z.Z)(function*(N){let W;const oe=yield Tn(N.appConfig,Ne=>{const yt=ve(Ne),St=Ht(N,yt);return W=St.registrationPromise,St.installationEntry});return""===oe.fid?{installationEntry:yield W}:{installationEntry:oe,registrationPromise:W}})).apply(this,arguments)}function ve(N){return Cn(N||{fid:it(),registrationStatus:0})}function Ht(N,W){if(0===W.registrationStatus){if(!navigator.onLine)return{installationEntry:W,registrationPromise:Promise.reject(Ve.create("app-offline"))};const oe={fid:W.fid,registrationStatus:1,registrationTime:Date.now()},Ne=function At(N,W){return Gt.apply(this,arguments)}(N,oe);return{installationEntry:oe,registrationPromise:Ne}}return 1===W.registrationStatus?{installationEntry:W,registrationPromise:gn(N)}:{installationEntry:W}}function Gt(){return(Gt=(0,Z.Z)(function*(N,W){try{const oe=yield Ce(N,W);return rn(N.appConfig,oe)}catch(oe){throw st(oe)&&409===oe.customData.serverCode?yield Nn(N.appConfig):yield rn(N.appConfig,{fid:W.fid,registrationStatus:0}),oe}})).apply(this,arguments)}function gn(N){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,Z.Z)(function*(N){let W=yield Gn(N.appConfig);for(;1===W.registrationStatus;)yield et(100),W=yield Gn(N.appConfig);if(0===W.registrationStatus){const{installationEntry:oe,registrationPromise:Ne}=yield ot(N);return Ne||oe}return W})).apply(this,arguments)}function Gn(N){return Tn(N,W=>{if(!W)throw Ve.create("installation-not-found");return Cn(W)})}function Cn(N){return function xn(N){return 1===N.registrationStatus&&N.registrationTime+1e4<Date.now()}(N)?{fid:N.fid,registrationStatus:0}:N}function ei(N,W){return _r.apply(this,arguments)}function _r(){return(_r=(0,Z.Z)(function*({appConfig:N,heartbeatServiceProvider:W},oe){const Ne=ln(N,oe),yt=Ct(N,oe),St=W.getImmediate({optional:!0});if(St){const dr=yield St.getHeartbeatsHeader();dr&&yt.append("x-firebase-client",dr)}const Hn={method:"POST",headers:yt,body:JSON.stringify({installation:{sdkVersion:me,appId:N.appId}})},pr=yield Ue(()=>fetch(Ne,Hn));if(pr.ok)return qe(yield pr.json());throw yield Ae("Generate Auth Token",pr)})).apply(this,arguments)}function ln(N,{fid:W}){return`${Le(N)}/${W}/authTokens:generate`}function fr(N){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,Z.Z)(function*(N,W=!1){let oe;const Ne=yield Tn(N.appConfig,St=>{if(!Yn(St))throw Ve.create("not-registered");const un=St.authToken;if(!W&&$e(un))return St;if(1===un.requestStatus)return oe=pn(N,W),St;{if(!navigator.onLine)throw Ve.create("app-offline");const Hn=je(St);return oe=Pn(N,Hn),Hn}});return oe?yield oe:Ne.authToken})).apply(this,arguments)}function pn(N,W){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,Z.Z)(function*(N,W){let oe=yield cn(N.appConfig);for(;1===oe.authToken.requestStatus;)yield et(100),oe=yield cn(N.appConfig);const Ne=oe.authToken;return 0===Ne.requestStatus?fr(N,W):Ne})).apply(this,arguments)}function cn(N){return Tn(N,W=>{if(!Yn(W))throw Ve.create("not-registered");return function bt(N){return 1===N.requestStatus&&N.requestTime+1e4<Date.now()}(W.authToken)?Object.assign(Object.assign({},W),{authToken:{requestStatus:0}}):W})}function Pn(N,W){return sr.apply(this,arguments)}function sr(){return(sr=(0,Z.Z)(function*(N,W){try{const oe=yield ei(N,W),Ne=Object.assign(Object.assign({},W),{authToken:oe});return yield rn(N.appConfig,Ne),oe}catch(oe){if(!st(oe)||401!==oe.customData.serverCode&&404!==oe.customData.serverCode){const Ne=Object.assign(Object.assign({},W),{authToken:{requestStatus:0}});yield rn(N.appConfig,Ne)}else yield Nn(N.appConfig);throw oe}})).apply(this,arguments)}function Yn(N){return void 0!==N&&2===N.registrationStatus}function $e(N){return 2===N.requestStatus&&!function Ie(N){const W=Date.now();return W<N.creationTime||N.creationTime+N.expiresIn<W+36e5}(N)}function je(N){const W={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},N),{authToken:W})}function sn(){return(sn=(0,Z.Z)(function*(N){const W=N,{installationEntry:oe,registrationPromise:Ne}=yield ot(W);return Ne?Ne.catch(console.error):fr(W).catch(console.error),oe.fid})).apply(this,arguments)}function vr(){return(vr=(0,Z.Z)(function*(N,W=!1){const oe=N;return yield ui(oe),(yield fr(oe,W)).token})).apply(this,arguments)}function ui(N){return Er.apply(this,arguments)}function Er(){return(Er=(0,Z.Z)(function*(N){const{registrationPromise:W}=yield ot(N);W&&(yield W)})).apply(this,arguments)}function Mr(N){return Ve.create("missing-app-config-values",{valueName:N})}const Hr="installations",qt=N=>{const W=N.getProvider("app").getImmediate(),oe=function ci(N){if(!N||!N.options)throw Mr("App Configuration");if(!N.name)throw Mr("App Name");const W=["projectId","apiKey","appId"];for(const oe of W)if(!N.options[oe])throw Mr(oe);return{appName:N.name,projectId:N.options.projectId,apiKey:N.options.apiKey,appId:N.options.appId}}(W);return{app:W,appConfig:oe,heartbeatServiceProvider:(0,Be._getProvider)(W,"heartbeat"),_delete:()=>Promise.resolve()}},jn=N=>{const W=N.getProvider("app").getImmediate(),oe=(0,Be._getProvider)(W,Hr).getImmediate();return{getId:()=>function pt(N){return sn.apply(this,arguments)}(oe),getToken:yt=>function Un(N){return vr.apply(this,arguments)}(oe,yt)}};(function mr(){(0,Be._registerComponent)(new ae.wA(Hr,qt,"PUBLIC")),(0,Be._registerComponent)(new ae.wA("installations-internal",jn,"PRIVATE"))})(),(0,Be.registerVersion)(de,"0.5.8"),(0,Be.registerVersion)(de,"0.5.8","esm2017");const ri="@firebase/remote-config",Ar=new Se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class yn{constructor(W,oe,Ne,yt){this.client=W,this.storage=oe,this.storageCache=Ne,this.logger=yt}isCachedDataFresh(W,oe){if(!oe)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ne=Date.now()-oe,yt=Ne<=W;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ne}. Cache max age millis (minimumFetchIntervalMillis setting): ${W}. Is cache hit: ${yt}.`),yt}fetch(W){var oe=this;return(0,Z.Z)(function*(){const[Ne,yt]=yield Promise.all([oe.storage.getLastSuccessfulFetchTimestampMillis(),oe.storage.getLastSuccessfulFetchResponse()]);if(yt&&oe.isCachedDataFresh(W.cacheMaxAgeMillis,Ne))return yt;W.eTag=yt&&yt.eTag;const St=yield oe.client.fetch(W),un=[oe.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===St.status&&un.push(oe.storage.setLastSuccessfulFetchResponse(St)),yield Promise.all(un),St})()}}function Ln(N=navigator){return N.languages&&N.languages[0]||N.language}class rr{constructor(W,oe,Ne,yt,St,un){this.firebaseInstallations=W,this.sdkVersion=oe,this.namespace=Ne,this.projectId=yt,this.apiKey=St,this.appId=un}fetch(W){var oe=this;return(0,Z.Z)(function*(){const[Ne,yt]=yield Promise.all([oe.firebaseInstallations.getId(),oe.firebaseInstallations.getToken()]),un=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${oe.projectId}/namespaces/${oe.namespace}:fetch?key=${oe.apiKey}`,Hn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":W.eTag||"*"},pr={sdk_version:oe.sdkVersion,app_instance_id:Ne,app_instance_id_token:yt,app_id:oe.appId,language_code:Ln()},dr={method:"POST",headers:Hn,body:JSON.stringify(pr)},Qr=fetch(un,dr),Lr=new Promise((eo,ba)=>{W.signal.addEventListener(()=>{const Ki=new Error("The operation was aborted.");Ki.name="AbortError",ba(Ki)})});let Js;try{yield Promise.race([Qr,Lr]),Js=yield Qr}catch(eo){let ba="fetch-client-network";throw"AbortError"===eo.name&&(ba="fetch-timeout"),Ar.create(ba,{originalErrorMessage:eo.message})}let si=Js.status;const Ql=Js.headers.get("ETag")||void 0;let rl,Ea;if(200===Js.status){let eo;try{eo=yield Js.json()}catch(ba){throw Ar.create("fetch-client-parse",{originalErrorMessage:ba.message})}rl=eo.entries,Ea=eo.state}if("INSTANCE_STATE_UNSPECIFIED"===Ea?si=500:"NO_CHANGE"===Ea?si=304:("NO_TEMPLATE"===Ea||"EMPTY_CONFIG"===Ea)&&(rl={}),304!==si&&200!==si)throw Ar.create("fetch-status",{httpStatus:si});return{status:si,eTag:Ql,config:rl}})()}}class ji{constructor(W,oe){this.client=W,this.storage=oe}fetch(W){var oe=this;return(0,Z.Z)(function*(){const Ne=(yield oe.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return oe.attemptFetch(W,Ne)})()}attemptFetch(W,{throttleEndTimeMillis:oe,backoffCount:Ne}){var yt=this;return(0,Z.Z)(function*(){yield function cr(N,W){return new Promise((oe,Ne)=>{const yt=Math.max(W-Date.now(),0),St=setTimeout(oe,yt);N.addEventListener(()=>{clearTimeout(St),Ne(Ar.create("fetch-throttle",{throttleEndTimeMillis:W}))})})}(W.signal,oe);try{const St=yield yt.client.fetch(W);return yield yt.storage.deleteThrottleMetadata(),St}catch(St){if(!function Ri(N){if(!(N instanceof Se.ZR&&N.customData))return!1;const W=Number(N.customData.httpStatus);return 429===W||500===W||503===W||504===W}(St))throw St;const un={throttleEndTimeMillis:Date.now()+(0,Se.$s)(Ne),backoffCount:Ne+1};return yield yt.storage.setThrottleMetadata(un),yt.attemptFetch(W,un)}})()}}class _t{constructor(W,oe,Ne,yt,St){this.app=W,this._client=oe,this._storageCache=Ne,this._storage=yt,this._logger=St,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function It(N,W){const oe=N.target.error||void 0;return Ar.create(W,{originalErrorMessage:oe&&oe.message})}const Ut="app_namespace_store";class kr{constructor(W,oe,Ne,yt=function Fn(){return new Promise((N,W)=>{try{const oe=indexedDB.open("firebase_remote_config",1);oe.onerror=Ne=>{W(It(Ne,"storage-open"))},oe.onsuccess=Ne=>{N(Ne.target.result)},oe.onupgradeneeded=Ne=>{0===Ne.oldVersion&&Ne.target.result.createObjectStore(Ut,{keyPath:"compositeKey"})}}catch(oe){W(Ar.create("storage-open",{originalErrorMessage:oe}))}})}()){this.appId=W,this.appName=oe,this.namespace=Ne,this.openDbPromise=yt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(W){return this.set("last_fetch_status",W)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(W){return this.set("last_successful_fetch_timestamp_millis",W)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(W){return this.set("last_successful_fetch_response",W)}getActiveConfig(){return this.get("active_config")}setActiveConfig(W){return this.set("active_config",W)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(W){return this.set("active_config_etag",W)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(W){return this.set("throttle_metadata",W)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(W){var oe=this;return(0,Z.Z)(function*(){const Ne=yield oe.openDbPromise;return new Promise((yt,St)=>{const Hn=Ne.transaction([Ut],"readonly").objectStore(Ut),pr=oe.createCompositeKey(W);try{const dr=Hn.get(pr);dr.onerror=Qr=>{St(It(Qr,"storage-get"))},dr.onsuccess=Qr=>{const Lr=Qr.target.result;yt(Lr?Lr.value:void 0)}}catch(dr){St(Ar.create("storage-get",{originalErrorMessage:dr&&dr.message}))}})})()}set(W,oe){var Ne=this;return(0,Z.Z)(function*(){const yt=yield Ne.openDbPromise;return new Promise((St,un)=>{const pr=yt.transaction([Ut],"readwrite").objectStore(Ut),dr=Ne.createCompositeKey(W);try{const Qr=pr.put({compositeKey:dr,value:oe});Qr.onerror=Lr=>{un(It(Lr,"storage-set"))},Qr.onsuccess=()=>{St()}}catch(Qr){un(Ar.create("storage-set",{originalErrorMessage:Qr&&Qr.message}))}})})()}delete(W){var oe=this;return(0,Z.Z)(function*(){const Ne=yield oe.openDbPromise;return new Promise((yt,St)=>{const Hn=Ne.transaction([Ut],"readwrite").objectStore(Ut),pr=oe.createCompositeKey(W);try{const dr=Hn.delete(pr);dr.onerror=Qr=>{St(It(Qr,"storage-delete"))},dr.onsuccess=()=>{yt()}}catch(dr){St(Ar.create("storage-delete",{originalErrorMessage:dr&&dr.message}))}})})()}createCompositeKey(W){return[this.appId,this.appName,this.namespace,W].join()}}class ys{constructor(W){this.storage=W}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var W=this;return(0,Z.Z)(function*(){const oe=W.storage.getLastFetchStatus(),Ne=W.storage.getLastSuccessfulFetchTimestampMillis(),yt=W.storage.getActiveConfig(),St=yield oe;St&&(W.lastFetchStatus=St);const un=yield Ne;un&&(W.lastSuccessfulFetchTimestampMillis=un);const Hn=yield yt;Hn&&(W.activeConfig=Hn)})()}setLastFetchStatus(W){return this.lastFetchStatus=W,this.storage.setLastFetchStatus(W)}setLastSuccessfulFetchTimestampMillis(W){return this.lastSuccessfulFetchTimestampMillis=W,this.storage.setLastSuccessfulFetchTimestampMillis(W)}setActiveConfig(W){return this.activeConfig=W,this.storage.setActiveConfig(W)}}function lr(){return vi.apply(this,arguments)}function vi(){return(vi=(0,Z.Z)(function*(){if(!(0,Se.hl)())return!1;try{return yield(0,Se.eu)()}catch(N){return!1}})).apply(this,arguments)}!function Hi(){(0,Be._registerComponent)(new ae.wA("remote-config",function N(W,{instanceIdentifier:oe}){const Ne=W.getProvider("app").getImmediate(),yt=W.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ar.create("registration-window");if(!(0,Se.hl)())throw Ar.create("indexed-db-unavailable");const{projectId:St,apiKey:un,appId:Hn}=Ne.options;if(!St)throw Ar.create("registration-project-id");if(!un)throw Ar.create("registration-api-key");if(!Hn)throw Ar.create("registration-app-id");const pr=new kr(Hn,Ne.name,oe=oe||"firebase"),dr=new ys(pr),Qr=new Ee.Yd(ri);Qr.logLevel=Ee.in.ERROR;const Lr=new rr(yt,Be.SDK_VERSION,oe,St,un,Hn),Js=new ji(Lr,pr),si=new yn(Js,pr,dr,Qr),Ql=new _t(Ne,si,dr,pr,Qr);return function ee(N){const W=(0,Se.m9)(N);W._initializePromise||(W._initializePromise=W._storageCache.loadFromStorage().then(()=>{W._isInitializationComplete=!0}))}(Ql),Ql},"PUBLIC").setMultipleInstances(!0)),(0,Be.registerVersion)(ri,"0.3.7"),(0,Be.registerVersion)(ri,"0.3.7","esm2017")}();const _o="/firebase-messaging-sw.js",_s="/firebase-cloud-messaging-push-scope",ni="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Vs="google.c.a.c_id",us="google.c.a.c_l",co="google.c.a.ts",Ds="google.c.a.e";var es=(()=>{return(N=es||(es={})).PUSH_RECEIVED="push-received",N.NOTIFICATION_CLICKED="notification-clicked",es;var N})();function vs(N){const W=new Uint8Array(N);return btoa(String.fromCharCode(...W)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Uo(N){const oe=(N+"=".repeat((4-N.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ne=atob(oe),yt=new Uint8Array(Ne.length);for(let St=0;St<Ne.length;++St)yt[St]=Ne.charCodeAt(St);return yt}const cs="fcm_token_details_db",Gi="fcm_token_object_Store";function Ws(N){return to.apply(this,arguments)}function to(){return to=(0,Z.Z)(function*(N){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(St=>St.name).includes(cs))return null;let W=null;return(yield(0,Se.X3)(cs,5,function(){var Ne=(0,Z.Z)(function*(yt,St,un,Hn){var pr;if(St<2||!yt.objectStoreNames.contains(Gi))return;const dr=Hn.objectStore(Gi),Qr=yield dr.index("fcmSenderId").get(N);if(yield dr.clear(),Qr)if(2===St){const Lr=Qr;if(!Lr.auth||!Lr.p256dh||!Lr.endpoint)return;W={token:Lr.fcmToken,createTime:null!==(pr=Lr.createTime)&&void 0!==pr?pr:Date.now(),subscriptionOptions:{auth:Lr.auth,p256dh:Lr.p256dh,endpoint:Lr.endpoint,swScope:Lr.swScope,vapidKey:"string"==typeof Lr.vapidKey?Lr.vapidKey:vs(Lr.vapidKey)}}}else if(3===St){const Lr=Qr;W={token:Lr.fcmToken,createTime:Lr.createTime,subscriptionOptions:{auth:vs(Lr.auth),p256dh:vs(Lr.p256dh),endpoint:Lr.endpoint,swScope:Lr.swScope,vapidKey:vs(Lr.vapidKey)}}}else if(4===St){const Lr=Qr;W={token:Lr.fcmToken,createTime:Lr.createTime,subscriptionOptions:{auth:vs(Lr.auth),p256dh:vs(Lr.p256dh),endpoint:Lr.endpoint,swScope:Lr.swScope,vapidKey:vs(Lr.vapidKey)}}}});return function(yt,St,un,Hn){return Ne.apply(this,arguments)}}())).close(),yield(0,Se.Lj)(cs),yield(0,Se.Lj)("fcm_vapid_details_db"),yield(0,Se.Lj)("undefined"),Kr(W)?W:null}),to.apply(this,arguments)}function Kr(N){if(!N||!N.subscriptionOptions)return!1;const{subscriptionOptions:W}=N;return"number"==typeof N.createTime&&N.createTime>0&&"string"==typeof N.token&&N.token.length>0&&"string"==typeof W.auth&&W.auth.length>0&&"string"==typeof W.p256dh&&W.p256dh.length>0&&"string"==typeof W.endpoint&&W.endpoint.length>0&&"string"==typeof W.swScope&&W.swScope.length>0&&"string"==typeof W.vapidKey&&W.vapidKey.length>0}const Fi="firebase-messaging-store";let Ss=null;function ds(){return Ss||(Ss=(0,Se.X3)("firebase-messaging-database",1,(N,W)=>{0===W&&N.createObjectStore(Fi)})),Ss}function jr(N){return U.apply(this,arguments)}function U(){return(U=(0,Z.Z)(function*(N){const W=Ot(N),Ne=yield(yield ds()).transaction(Fi).objectStore(Fi).get(W);if(Ne)return Ne;{const yt=yield Ws(N.appConfig.senderId);if(yt)return yield ne(N,yt),yt}})).apply(this,arguments)}function ne(N,W){return V.apply(this,arguments)}function V(){return(V=(0,Z.Z)(function*(N,W){const oe=Ot(N),yt=(yield ds()).transaction(Fi,"readwrite");return yield yt.objectStore(Fi).put(W,oe),yield yt.complete,W})).apply(this,arguments)}function ue(N){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,Z.Z)(function*(N){const W=Ot(N),Ne=(yield ds()).transaction(Fi,"readwrite");yield Ne.objectStore(Fi).delete(W),yield Ne.complete})).apply(this,arguments)}function Ot({appConfig:N}){return N.appId}const nn=new Se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Zr(N,W){return or.apply(this,arguments)}function or(){return(or=(0,Z.Z)(function*(N,W){const oe=yield qs(N),Ne=qn(W),yt={method:"POST",headers:oe,body:JSON.stringify(Ne)};let St;try{St=yield(yield fetch(li(N.appConfig),yt)).json()}catch(un){throw nn.create("token-subscribe-failed",{errorInfo:un})}if(St.error)throw nn.create("token-subscribe-failed",{errorInfo:St.error.message});if(!St.token)throw nn.create("token-subscribe-no-token");return St.token})).apply(this,arguments)}function ur(N,W){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,Z.Z)(function*(N,W){const oe=yield qs(N),Ne=qn(W.subscriptionOptions),yt={method:"PATCH",headers:oe,body:JSON.stringify(Ne)};let St;try{St=yield(yield fetch(`${li(N.appConfig)}/${W.token}`,yt)).json()}catch(un){throw nn.create("token-update-failed",{errorInfo:un})}if(St.error)throw nn.create("token-update-failed",{errorInfo:St.error.message});if(!St.token)throw nn.create("token-update-no-token");return St.token})).apply(this,arguments)}function pi(N,W){return ai.apply(this,arguments)}function ai(){return(ai=(0,Z.Z)(function*(N,W){const Ne={method:"DELETE",headers:yield qs(N)};try{const St=yield(yield fetch(`${li(N.appConfig)}/${W}`,Ne)).json();if(St.error)throw nn.create("token-unsubscribe-failed",{errorInfo:St.error.message})}catch(yt){throw nn.create("token-unsubscribe-failed",{errorInfo:yt})}})).apply(this,arguments)}function li({projectId:N}){return`https://fcmregistrations.googleapis.com/v1/projects/${N}/registrations`}function qs(N){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,Z.Z)(function*({appConfig:N,installations:W}){const oe=yield W.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":N.apiKey,"x-goog-firebase-installations-auth":`FIS ${oe}`})})).apply(this,arguments)}function qn({p256dh:N,auth:W,endpoint:oe,vapidKey:Ne}){const yt={web:{endpoint:oe,auth:W,p256dh:N}};return Ne!==ni&&(yt.web.applicationPubKey=Ne),yt}const no=6048e5;function z(N){return F.apply(this,arguments)}function F(){return(F=(0,Z.Z)(function*(N){const W=yield j(N.swRegistration,N.vapidKey),oe={vapidKey:N.vapidKey,swScope:N.swRegistration.scope,endpoint:W.endpoint,auth:vs(W.getKey("auth")),p256dh:vs(W.getKey("p256dh"))},Ne=yield jr(N.firebaseDependencies);if(Ne){if(wt(Ne.subscriptionOptions,oe))return Date.now()>=Ne.createTime+no?xt(N,{token:Ne.token,createTime:Date.now(),subscriptionOptions:oe}):Ne.token;try{yield pi(N.firebaseDependencies,Ne.token)}catch(yt){console.warn(yt)}return P(N.firebaseDependencies,oe)}return P(N.firebaseDependencies,oe)})).apply(this,arguments)}function k(N){return re.apply(this,arguments)}function re(){return(re=(0,Z.Z)(function*(N){const W=yield jr(N.firebaseDependencies);W&&(yield pi(N.firebaseDependencies,W.token),yield ue(N.firebaseDependencies));const oe=yield N.swRegistration.pushManager.getSubscription();return!oe||oe.unsubscribe()})).apply(this,arguments)}function xt(N,W){return v.apply(this,arguments)}function v(){return(v=(0,Z.Z)(function*(N,W){try{const oe=yield ur(N.firebaseDependencies,W),Ne=Object.assign(Object.assign({},W),{token:oe,createTime:Date.now()});return yield ne(N.firebaseDependencies,Ne),oe}catch(oe){throw yield k(N),oe}})).apply(this,arguments)}function P(N,W){return b.apply(this,arguments)}function b(){return(b=(0,Z.Z)(function*(N,W){const Ne={token:yield Zr(N,W),createTime:Date.now(),subscriptionOptions:W};return yield ne(N,Ne),Ne.token})).apply(this,arguments)}function j(N,W){return J.apply(this,arguments)}function J(){return(J=(0,Z.Z)(function*(N,W){return(yield N.pushManager.getSubscription())||N.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Uo(W)})})).apply(this,arguments)}function wt(N,W){return W.vapidKey===N.vapidKey&&W.endpoint===N.endpoint&&W.auth===N.auth&&W.p256dh===N.p256dh}function dn(N){const W={from:N.from,collapseKey:N.collapse_key,messageId:N.fcmMessageId};return function En(N,W){if(!W.notification)return;N.notification={};const oe=W.notification.title;oe&&(N.notification.title=oe);const Ne=W.notification.body;Ne&&(N.notification.body=Ne);const yt=W.notification.image;yt&&(N.notification.image=yt)}(W,N),function wr(N,W){!W.data||(N.data=W.data)}(W,N),function ii(N,W){if(!W.fcmOptions)return;N.fcmOptions={};const oe=W.fcmOptions.link;oe&&(N.fcmOptions.link=oe);const Ne=W.fcmOptions.analytics_label;Ne&&(N.fcmOptions.analyticsLabel=Ne)}(W,N),W}function Ii(N){return"object"==typeof N&&!!N&&Vs in N}function Bi(N,W){const oe=[];for(let Ne=0;Ne<N.length;Ne++)oe.push(N.charAt(Ne)),Ne<W.length&&oe.push(W.charAt(Ne));return oe.join("")}function hs(N){return nn.create("missing-app-config-values",{valueName:N})}Bi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Bi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ti{constructor(W,oe,Ne){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const yt=function ts(N){if(!N||!N.options)throw hs("App Configuration Object");if(!N.name)throw hs("App Name");const W=["projectId","apiKey","appId","messagingSenderId"],{options:oe}=N;for(const Ne of W)if(!oe[Ne])throw hs(Ne);return{appName:N.name,projectId:oe.projectId,apiKey:oe.apiKey,appId:oe.appId,senderId:oe.messagingSenderId}}(W);this.firebaseDependencies={app:W,appConfig:yt,installations:oe,analyticsProvider:Ne}}_delete(){return Promise.resolve()}}function mi(N){return vo.apply(this,arguments)}function vo(){return(vo=(0,Z.Z)(function*(N){try{N.swRegistration=yield navigator.serviceWorker.register(_o,{scope:_s}),N.swRegistration.update().catch(()=>{})}catch(W){throw nn.create("failed-service-worker-registration",{browserErrorMessage:W.message})}})).apply(this,arguments)}function Ys(N,W){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,Z.Z)(function*(N,W){if(!W&&!N.swRegistration&&(yield mi(N)),W||!N.swRegistration){if(!(W instanceof ServiceWorkerRegistration))throw nn.create("invalid-sw-registration");N.swRegistration=W}})).apply(this,arguments)}function Ul(N,W){return xa.apply(this,arguments)}function xa(){return(xa=(0,Z.Z)(function*(N,W){W?N.vapidKey=W:N.vapidKey||(N.vapidKey=ni)})).apply(this,arguments)}function Ya(){return(Ya=(0,Z.Z)(function*(N,W){if(!navigator)throw nn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw nn.create("permission-blocked");return yield Ul(N,null==W?void 0:W.vapidKey),yield Ys(N,null==W?void 0:W.serviceWorkerRegistration),z(N)})).apply(this,arguments)}function na(N,W,oe){return So.apply(this,arguments)}function So(){return(So=(0,Z.Z)(function*(N,W,oe){const Ne=Ma(W);(yield N.firebaseDependencies.analyticsProvider.get()).logEvent(Ne,{message_id:oe[Vs],message_name:oe[us],message_time:oe[co],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ma(N){switch(N){case es.NOTIFICATION_CLICKED:return"notification_open";case es.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ka(){return(Ka=(0,Z.Z)(function*(N,W){const oe=W.data;if(!oe.isFirebaseMessaging)return;N.onMessageHandler&&oe.messageType===es.PUSH_RECEIVED&&("function"==typeof N.onMessageHandler?N.onMessageHandler(dn(oe)):N.onMessageHandler.next(dn(oe)));const Ne=oe.data;Ii(Ne)&&"1"===Ne[Ds]&&(yield na(N,oe.messageType,Ne))})).apply(this,arguments)}const Ks="@firebase/messaging",Mu=N=>{const W=new Ti(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),N.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",oe=>function $l(N,W){return Ka.apply(this,arguments)}(W,oe)),W},Eo=N=>{const W=N.getProvider("messaging").getImmediate();return{getToken:Ne=>function zi(N,W){return Ya.apply(this,arguments)}(W,Ne)}};function Ra(){return Os.apply(this,arguments)}function Os(){return(Os=(0,Z.Z)(function*(){try{yield(0,Se.eu)()}catch(N){return!1}return"undefined"!=typeof window&&(0,Se.hl)()&&(0,Se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function jl(){(0,Be._registerComponent)(new ae.wA("messaging",Mu,"PUBLIC")),(0,Be._registerComponent)(new ae.wA("messaging-internal",Eo,"PRIVATE")),(0,Be.registerVersion)(Ks,"0.9.12"),(0,Be.registerVersion)(Ks,"0.9.12","esm2017")}();const Pa="analytics",nc="firebase_id",Ao="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jo="https://www.googletagmanager.com/gtag/js",is=new Ee.Yd("@firebase/analytics");function Oa(N){return Promise.all(N.map(W=>W.catch(oe=>oe)))}function ka(N,W){const oe=document.createElement("script");oe.src=`${jo}?l=${N}&id=${W}`,oe.async=!0,document.head.appendChild(oe)}function Zs(N,W,oe,Ne,yt,St){return xo.apply(this,arguments)}function xo(){return(xo=(0,Z.Z)(function*(N,W,oe,Ne,yt,St){const un=Ne[yt];try{if(un)yield W[un];else{const pr=(yield Oa(oe)).find(dr=>dr.measurementId===yt);pr&&(yield W[pr.appId])}}catch(Hn){is.error(Hn)}N("config",yt,St)})).apply(this,arguments)}function Na(N,W,oe,Ne,yt){return qi.apply(this,arguments)}function qi(){return(qi=(0,Z.Z)(function*(N,W,oe,Ne,yt){try{let St=[];if(yt&&yt.send_to){let un=yt.send_to;Array.isArray(un)||(un=[un]);const Hn=yield Oa(oe);for(const pr of un){const dr=Hn.find(Lr=>Lr.measurementId===pr),Qr=dr&&W[dr.appId];if(!Qr){St=[];break}St.push(Qr)}}0===St.length&&(St=Object.values(W)),yield Promise.all(St),N("event",Ne,yt||{})}catch(St){is.error(St)}})).apply(this,arguments)}function zl(){const N=window.document.getElementsByTagName("script");for(const W of Object.values(N))if(W.src&&W.src.includes(jo))return W;return null}const Vi=new Se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),sa=new class Mo{constructor(W={},oe=1e3){this.throttleMetadata=W,this.intervalMillis=oe}getThrottleMetadata(W){return this.throttleMetadata[W]}setThrottleMetadata(W,oe){this.throttleMetadata[W]=oe}deleteThrottleMetadata(W){delete this.throttleMetadata[W]}};function ma(N){return new Headers({Accept:"application/json","x-goog-api-key":N})}function Ei(N){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,Z.Z)(function*(N){var W;const{appId:oe,apiKey:Ne}=N,yt={method:"GET",headers:ma(Ne)},St=Ao.replace("{app-id}",oe),un=yield fetch(St,yt);if(200!==un.status&&304!==un.status){let Hn="";try{const pr=yield un.json();(null===(W=pr.error)||void 0===W?void 0:W.message)&&(Hn=pr.error.message)}catch(pr){}throw Vi.create("config-fetch-failed",{httpStatus:un.status,responseMessage:Hn})}return un.json()})).apply(this,arguments)}function Za(N){return Es.apply(this,arguments)}function Es(){return(Es=(0,Z.Z)(function*(N,W=sa,oe){const{appId:Ne,apiKey:yt,measurementId:St}=N.options;if(!Ne)throw Vi.create("no-app-id");if(!yt){if(St)return{measurementId:St,appId:Ne};throw Vi.create("no-api-key")}const un=W.getThrottleMetadata(Ne)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Hn=new Po;return setTimeout((0,Z.Z)(function*(){Hn.abort()}),void 0!==oe?oe:6e4),Xa({appId:Ne,apiKey:yt,measurementId:St},un,Hn,W)})).apply(this,arguments)}function Xa(N,W,oe){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,Z.Z)(function*(N,{throttleEndTimeMillis:W,backoffCount:oe},Ne,yt=sa){const{appId:St,measurementId:un}=N;try{yield Qa(Ne,W)}catch(Hn){if(un)return is.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${un} provided in the "measurementId" field in the local Firebase config. [${Hn.message}]`),{appId:St,measurementId:un};throw Hn}try{const Hn=yield Ei(N);return yt.deleteThrottleMetadata(St),Hn}catch(Hn){if(!ku(Hn)){if(yt.deleteThrottleMetadata(St),un)return is.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${un} provided in the "measurementId" field in the local Firebase config. [${Hn.message}]`),{appId:St,measurementId:un};throw Hn}const pr=503===Number(Hn.customData.httpStatus)?(0,Se.$s)(oe,yt.intervalMillis,30):(0,Se.$s)(oe,yt.intervalMillis),dr={throttleEndTimeMillis:Date.now()+pr,backoffCount:oe+1};return yt.setThrottleMetadata(St,dr),is.debug(`Calling attemptFetch again in ${pr} millis`),Xa(N,dr,Ne,yt)}})).apply(this,arguments)}function Qa(N,W){return new Promise((oe,Ne)=>{const yt=Math.max(W-Date.now(),0),St=setTimeout(oe,yt);N.addEventListener(()=>{clearTimeout(St),Ne(Vi.create("fetch-throttle",{throttleEndTimeMillis:W}))})})}function ku(N){if(!(N instanceof Se.ZR&&N.customData))return!1;const W=Number(N.customData.httpStatus);return 429===W||500===W||503===W||504===W}class Po{constructor(){this.listeners=[]}addEventListener(W){this.listeners.push(W)}abort(){this.listeners.forEach(W=>W())}}function ql(){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,Z.Z)(function*(){if(!(0,Se.hl)())return is.warn(Vi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Se.eu)()}catch(N){return is.warn(Vi.create("indexeddb-unavailable",{errorInfo:N}).message),!1}return!0})).apply(this,arguments)}function ro(){return(ro=(0,Z.Z)(function*(N,W,oe,Ne,yt,St,un){var Hn;const pr=Za(N);pr.then(si=>{oe[si.measurementId]=si.appId,N.options.measurementId&&si.measurementId!==N.options.measurementId&&is.warn(`The measurement ID in the local Firebase config (${N.options.measurementId}) does not match the measurement ID fetched from the server (${si.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(si=>is.error(si)),W.push(pr);const dr=ql().then(si=>{if(si)return Ne.getId()}),[Qr,Lr]=yield Promise.all([pr,dr]);zl()||ka(St,Qr.measurementId),yt("js",new Date);const Js=null!==(Hn=null==un?void 0:un.config)&&void 0!==Hn?Hn:{};return Js.origin="firebase",Js.update=!0,null!=Lr&&(Js[nc]=Lr),yt("config",Qr.measurementId,Js),Qr.measurementId})).apply(this,arguments)}class Qs{constructor(W){this.app=W}_delete(){return delete io[this.app.options.appId],Promise.resolve()}}let io={},Oo=[];const Yl={};let Ja,_a,ya="dataLayer",R=!1;function B(N,W,oe){!function D(){const N=[];if((0,Se.ru)()&&N.push("This is a browser extension environment."),(0,Se.zI)()||N.push("Cookies are not available."),N.length>0){const W=N.map((Ne,yt)=>`(${yt+1}) ${Ne}`).join(" "),oe=Vi.create("invalid-analytics-context",{errorInfo:W});is.warn(oe.message)}}();const Ne=N.options.appId;if(!Ne)throw Vi.create("no-app-id");if(!N.options.apiKey){if(!N.options.measurementId)throw Vi.create("no-api-key");is.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${N.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=io[Ne])throw Vi.create("already-exists",{id:Ne});if(!R){!function ks(N){let W=[];Array.isArray(window[N])?W=window[N]:window[N]=W}(ya);const{wrappedGtag:St,gtagCore:un}=function Gl(N,W,oe,Ne,yt){let St=function(...un){window[Ne].push(arguments)};return window[yt]&&"function"==typeof window[yt]&&(St=window[yt]),window[yt]=function ia(N,W,oe,Ne){function St(){return(St=(0,Z.Z)(function*(un,Hn,pr){try{"event"===un?yield Na(N,W,oe,Hn,pr):"config"===un?yield Zs(N,W,oe,Ne,Hn,pr):N("set",Hn)}catch(dr){is.error(dr)}})).apply(this,arguments)}return function yt(un,Hn,pr){return St.apply(this,arguments)}}(St,N,W,oe),{gtagCore:St,wrappedGtag:window[yt]}}(io,Oo,Yl,ya,"gtag");_a=St,Ja=un,R=!0}return io[Ne]=function Ho(N,W,oe,Ne,yt,St,un){return ro.apply(this,arguments)}(N,Oo,Yl,W,Ja,ya,oe),new Qs(N)}function se(){return(se=(0,Z.Z)(function*(N,W,oe,Ne,yt){if(yt&&yt.global)N("event",oe,Ne);else{const St=yield W;N("event",oe,Object.assign(Object.assign({},Ne),{send_to:St}))}})).apply(this,arguments)}function oa(){return aa.apply(this,arguments)}function aa(){return(aa=(0,Z.Z)(function*(){if((0,Se.ru)()||!(0,Se.zI)()||!(0,Se.hl)())return!1;try{return yield(0,Se.eu)()}catch(N){return!1}})).apply(this,arguments)}const zo="@firebase/analytics";!function Nu(){(0,Be._registerComponent)(new ae.wA(Pa,(W,{options:oe})=>B(W.getProvider("app").getImmediate(),W.getProvider("installations-internal").getImmediate(),oe),"PUBLIC")),(0,Be._registerComponent)(new ae.wA("analytics-internal",function N(W){try{const oe=W.getProvider(Pa).getImmediate();return{logEvent:(Ne,yt,St)=>function Lh(N,W,oe,Ne){N=(0,Se.m9)(N),function q(N,W,oe,Ne,yt){return se.apply(this,arguments)}(_a,io[N.app.options.appId],W,oe,Ne).catch(yt=>is.error(yt))}(oe,Ne,yt,St)}}catch(oe){throw Vi.create("interop-component-reg-failed",{reason:oe})}},"PRIVATE")),(0,Be.registerVersion)(zo,"0.7.8"),(0,Be.registerVersion)(zo,"0.7.8","esm2017")}();var Fr=$(341),la=$(353),rc=$(2868),Si=$(2102),ic=$(8915);const va=new l.GfV("7.3.0"),jc="__angularfire_symbol__analyticsIsSupportedValue",Zl="__angularfire_symbol__analyticsIsSupported",Us="__angularfire_symbol__remoteConfigIsSupportedValue",bi="__angularfire_symbol__remoteConfigIsSupported",el="__angularfire_symbol__messagingIsSupportedValue",Ui="__angularfire_symbol__messagingIsSupported";function Hc(N,W,oe){if(W){if(1===W.length)return W[0];const St=W.filter(un=>un.app===oe);if(1===St.length)return St[0]}return oe.container.getProvider(N).getImmediate({optional:!0})}globalThis[Zl]||(globalThis[Zl]=oa().then(N=>globalThis[jc]=N).catch(()=>globalThis[jc]=!1)),globalThis[Ui]||(globalThis[Ui]=Ra().then(N=>globalThis[el]=N).catch(()=>globalThis[el]=!1)),globalThis[bi]||(globalThis[bi]=lr().then(N=>globalThis[Us]=N).catch(()=>globalThis[Us]=!1));const oc=(N,W)=>{const oe=W?[W]:(0,X.C6)(),Ne=[];return oe.forEach(yt=>{yt.container.getProvider(N).instances.forEach(un=>{Ne.includes(un)||Ne.push(un)})}),Ne};function Wo(){}class $s{constructor(W,oe=Fr.N){this.zone=W,this.delegate=oe}now(){return this.delegate.now()}schedule(W,oe,Ne){const yt=this.zone;return this.delegate.schedule(function(un){yt.runGuarded(()=>{W.apply(this,[un])})},oe,Ne)}}class _l{constructor(W){this.zone=W,this.task=null}call(W,oe){const Ne=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wo,{},Wo,Wo)),oe.pipe((0,rc.b)({next:Ne,complete:Ne,error:Ne})).subscribe(W).add(Ne)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let tl=(()=>{class N{constructor(oe){this.ngZone=oe,this.outsideAngular=oe.runOutsideAngular(()=>new $s(Zone.current)),this.insideAngular=oe.run(()=>new $s(Zone.current,la.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return N.\u0275fac=function(oe){return new(oe||N)(l.LFG(l.R0b))},N.\u0275prov=l.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})();function Yi(){const N=globalThis.\u0275AngularFireScheduler;if(!N)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return N}function Gc(N){return N.pipe((0,Si.QV)(Yi().outsideAngular))}function bo(N){return Yi(),function ac(N){return function(oe){return(oe=oe.lift(new _l(N.ngZone))).pipe((0,ic.R)(N.outsideAngular),(0,Si.QV)(N.insideAngular))}}(Yi())(N)}},7423:(hn,ft,$)=>{"use strict";$.d(ft,{Uw:()=>ke,fo:()=>We});var l=$(5861);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global&&global;var de=(()=>{return(st=de||(de={})).Unimplemented="UNIMPLEMENTED",st.Unavailable="UNAVAILABLE",de;var st})();class ge extends Error{constructor(Le,qe){super(Le),this.message=Le,this.code=qe}}const me=st=>{var Le,qe,Ae,Ze,Dt;const Ct=st.CapacitorCustomPlatform||null,Ue=st.Capacitor||{},G=Ue.Plugins=Ue.Plugins||{},Re=st.CapacitorPlatforms,Ce=(null===(Le=null==Re?void 0:Re.currentPlatform)||void 0===Le?void 0:Le.getPlatform)||(()=>null!==Ct?Ct.name:(st=>{var Le,qe;return(null==st?void 0:st.androidBridge)?"android":(null===(qe=null===(Le=null==st?void 0:st.webkit)||void 0===Le?void 0:Le.messageHandlers)||void 0===qe?void 0:qe.bridge)?"ios":"web"})(st)),et=(null===(qe=null==Re?void 0:Re.currentPlatform)||void 0===qe?void 0:qe.isNativePlatform)||(()=>"web"!==Ce()),on=(null===(Ae=null==Re?void 0:Re.currentPlatform)||void 0===Ae?void 0:Ae.isPluginAvailable)||(Tt=>{const dt=lt.get(Tt);return!(!(null==dt?void 0:dt.platforms.has(Ce()))&&!it(Tt))}),it=(null===(Ze=null==Re?void 0:Re.currentPlatform)||void 0===Ze?void 0:Ze.getPluginHeader)||(Tt=>{var dt;return null===(dt=Ue.PluginHeaders)||void 0===dt?void 0:dt.find(Kt=>Kt.name===Tt)}),lt=new Map,Je=(null===(Dt=null==Re?void 0:Re.currentPlatform)||void 0===Dt?void 0:Dt.registerPlugin)||((Tt,dt={})=>{const Kt=lt.get(Tt);if(Kt)return console.warn(`Capacitor plugin "${Tt}" already registered. Cannot register plugins twice.`),Kt.proxy;const en=Ce(),_n=it(Tt);let fn;const Jt=function(){var Nn=(0,l.Z)(function*(){return!fn&&en in dt?fn=fn="function"==typeof dt[en]?yield dt[en]():dt[en]:null!==Ct&&!fn&&"web"in dt&&(fn=fn="function"==typeof dt.web?yield dt.web():dt.web),fn});return function(){return Nn.apply(this,arguments)}}(),Cr=Nn=>{let er;const Tn=(...xr)=>{const ot=Jt().then(Fe=>{const ve=((Nn,er)=>{var Tn,xr;if(!_n){if(Nn)return null===(xr=Nn[er])||void 0===xr?void 0:xr.bind(Nn);throw new ge(`"${Tt}" plugin is not implemented on ${en}`,de.Unimplemented)}{const ot=null==_n?void 0:_n.methods.find(Fe=>er===Fe.name);if(ot)return"promise"===ot.rtype?Fe=>Ue.nativePromise(Tt,er.toString(),Fe):(Fe,ve)=>Ue.nativeCallback(Tt,er.toString(),Fe,ve);if(Nn)return null===(Tn=Nn[er])||void 0===Tn?void 0:Tn.bind(Nn)}})(Fe,Nn);if(ve){const Ht=ve(...xr);return er=null==Ht?void 0:Ht.remove,Ht}throw new ge(`"${Tt}.${Nn}()" is not implemented on ${en}`,de.Unimplemented)});return"addListener"===Nn&&(ot.remove=(0,l.Z)(function*(){return er()})),ot};return Tn.toString=()=>`${Nn.toString()}() { [capacitor code] }`,Object.defineProperty(Tn,"name",{value:Nn,writable:!1,configurable:!1}),Tn},yr=Cr("addListener"),Jn=Cr("removeListener"),rn=(Nn,er)=>{const Tn=yr({eventName:Nn},er),xr=function(){var Fe=(0,l.Z)(function*(){const ve=yield Tn;Jn({eventName:Nn,callbackId:ve},er)});return function(){return Fe.apply(this,arguments)}}(),ot=new Promise(Fe=>Tn.then(()=>Fe({remove:xr})));return ot.remove=(0,l.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield xr()}),ot},nr=new Proxy({},{get(Nn,er){switch(er){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return _n?rn:yr;case"removeListener":return Jn;default:return Cr(er)}}});return G[Tt]=nr,lt.set(Tt,{name:Tt,proxy:nr,platforms:new Set([...Object.keys(dt),..._n?[en]:[]])}),nr});return Ue.convertFileSrc||(Ue.convertFileSrc=Tt=>Tt),Ue.getPlatform=Ce,Ue.handleError=Tt=>st.console.error(Tt),Ue.isNativePlatform=et,Ue.isPluginAvailable=on,Ue.pluginMethodNoop=(Tt,dt,Kt)=>Promise.reject(`${Kt} does not have an implementation of "${dt}".`),Ue.registerPlugin=Je,Ue.Exception=ge,Ue.DEBUG=!!Ue.DEBUG,Ue.isLoggingEnabled=!!Ue.isLoggingEnabled,Ue.platform=Ue.getPlatform(),Ue.isNative=Ue.isNativePlatform(),Ue},he=(st=>st.Capacitor=me(st))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}),We=he.registerPlugin;class ke{constructor(Le){this.listeners={},this.windowListeners={},Le&&(console.warn(`Capacitor WebPlugin "${Le.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=Le)}addListener(Le,qe){var Ae=this;this.listeners[Le]||(this.listeners[Le]=[]),this.listeners[Le].push(qe);const Dt=this.windowListeners[Le];Dt&&!Dt.registered&&this.addWindowListener(Dt);const Ct=function(){var G=(0,l.Z)(function*(){return Ae.removeListener(Le,qe)});return function(){return G.apply(this,arguments)}}(),Ue=Promise.resolve({remove:Ct});return Object.defineProperty(Ue,"remove",{value:(G=(0,l.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Ct()}),function(){return G.apply(this,arguments)})}),Ue;var G}removeAllListeners(){var Le=this;return(0,l.Z)(function*(){Le.listeners={};for(const qe in Le.windowListeners)Le.removeWindowListener(Le.windowListeners[qe]);Le.windowListeners={}})()}notifyListeners(Le,qe){const Ae=this.listeners[Le];Ae&&Ae.forEach(Ze=>Ze(qe))}hasListeners(Le){return!!this.listeners[Le].length}registerWindowListener(Le,qe){this.windowListeners[qe]={registered:!1,windowEventName:Le,pluginEventName:qe,handler:Ae=>{this.notifyListeners(qe,Ae)}}}unimplemented(Le="not implemented"){return new he.Exception(Le,de.Unimplemented)}unavailable(Le="not available"){return new he.Exception(Le,de.Unavailable)}removeListener(Le,qe){var Ae=this;return(0,l.Z)(function*(){const Ze=Ae.listeners[Le];if(!Ze)return;const Dt=Ze.indexOf(qe);Ae.listeners[Le].splice(Dt,1),Ae.listeners[Le].length||Ae.removeWindowListener(Ae.windowListeners[Le])})()}addWindowListener(Le){window.addEventListener(Le.windowEventName,Le.handler),Le.registered=!0}removeWindowListener(Le){!Le||(window.removeEventListener(Le.windowEventName,Le.handler),Le.registered=!1)}}},9113:(hn,ft,$)=>{"use strict";$.d(ft,{e:()=>X});const X=(0,$(7423).fo)("GoogleAuth",{web:()=>$.e(7733).then($.bind($,7733)).then(Z=>new Z.GoogleAuthWeb)})},2090:(hn,ft,$)=>{"use strict";$.d(ft,{BH:()=>We,LL:()=>Xt,ZR:()=>et,gQ:()=>Jn,zI:()=>Te,hu:()=>Z,g5:()=>Be,US:()=>Ee,tV:()=>le,h$:()=>de,L:()=>ge,$s:()=>xn,r3:()=>dt,Sg:()=>Oe,ne:()=>rn,p$:()=>me,vZ:()=>fn,ZB:()=>ie,Lj:()=>sr,gK:()=>ot,pd:()=>yr,m9:()=>ln,z$:()=>_e,GJ:()=>Tt,jU:()=>st,ru:()=>Le,d:()=>Ae,xb:()=>en,w1:()=>Ze,hl:()=>G,uI:()=>ke,UG:()=>Ve,Yr:()=>Ct,b$:()=>qe,G6:()=>Ue,Mn:()=>Dt,w9:()=>Je,cI:()=>it,UI:()=>_n,X3:()=>Pn,xO:()=>An,zd:()=>Cr,DV:()=>Kt,ug:()=>Gt,dS:()=>At,Pz:()=>Qe,Dv:()=>xr,Wj:()=>ve,lb:()=>Ht,eu:()=>Re});var l=$(5861);const Z=function($e,Ie){if(!$e)throw Be(Ie)},Be=function($e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+$e)},Se=function($e){const Ie=[];let je=0;for(let bt=0;bt<$e.length;bt++){let pt=$e.charCodeAt(bt);pt<128?Ie[je++]=pt:pt<2048?(Ie[je++]=pt>>6|192,Ie[je++]=63&pt|128):55296==(64512&pt)&&bt+1<$e.length&&56320==(64512&$e.charCodeAt(bt+1))?(pt=65536+((1023&pt)<<10)+(1023&$e.charCodeAt(++bt)),Ie[je++]=pt>>18|240,Ie[je++]=pt>>12&63|128,Ie[je++]=pt>>6&63|128,Ie[je++]=63&pt|128):(Ie[je++]=pt>>12|224,Ie[je++]=pt>>6&63|128,Ie[je++]=63&pt|128)}return Ie},Ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($e,Ie){if(!Array.isArray($e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const je=Ie?this.byteToCharMapWebSafe_:this.byteToCharMap_,bt=[];for(let pt=0;pt<$e.length;pt+=3){const sn=$e[pt],Un=pt+1<$e.length,vr=Un?$e[pt+1]:0,ui=pt+2<$e.length,Er=ui?$e[pt+2]:0;let Br=(15&vr)<<2|Er>>6,Wr=63&Er;ui||(Wr=64,Un||(Br=64)),bt.push(je[sn>>2],je[(3&sn)<<4|vr>>4],je[Br],je[Wr])}return bt.join("")},encodeString($e,Ie){return this.HAS_NATIVE_SUPPORT&&!Ie?btoa($e):this.encodeByteArray(Se($e),Ie)},decodeString($e,Ie){return this.HAS_NATIVE_SUPPORT&&!Ie?atob($e):function($e){const Ie=[];let je=0,bt=0;for(;je<$e.length;){const pt=$e[je++];if(pt<128)Ie[bt++]=String.fromCharCode(pt);else if(pt>191&&pt<224){const sn=$e[je++];Ie[bt++]=String.fromCharCode((31&pt)<<6|63&sn)}else if(pt>239&&pt<365){const ui=((7&pt)<<18|(63&$e[je++])<<12|(63&$e[je++])<<6|63&$e[je++])-65536;Ie[bt++]=String.fromCharCode(55296+(ui>>10)),Ie[bt++]=String.fromCharCode(56320+(1023&ui))}else{const sn=$e[je++],Un=$e[je++];Ie[bt++]=String.fromCharCode((15&pt)<<12|(63&sn)<<6|63&Un)}}return Ie.join("")}(this.decodeStringToByteArray($e,Ie))},decodeStringToByteArray($e,Ie){this.init_();const je=Ie?this.charToByteMapWebSafe_:this.charToByteMap_,bt=[];for(let pt=0;pt<$e.length;){const sn=je[$e.charAt(pt++)],vr=pt<$e.length?je[$e.charAt(pt)]:0;++pt;const Er=pt<$e.length?je[$e.charAt(pt)]:64;++pt;const zn=pt<$e.length?je[$e.charAt(pt)]:64;if(++pt,null==sn||null==vr||null==Er||null==zn)throw Error();bt.push(sn<<2|vr>>4),64!==Er&&(bt.push(vr<<4&240|Er>>2),64!==zn&&bt.push(Er<<6&192|zn))}return bt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $e=0;$e<this.ENCODED_VALS.length;$e++)this.byteToCharMap_[$e]=this.ENCODED_VALS.charAt($e),this.charToByteMap_[this.byteToCharMap_[$e]]=$e,this.byteToCharMapWebSafe_[$e]=this.ENCODED_VALS_WEBSAFE.charAt($e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$e]]=$e,$e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($e)]=$e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($e)]=$e)}}},de=function($e){const Ie=Se($e);return Ee.encodeByteArray(Ie,!0)},ge=function($e){return de($e).replace(/\./g,"")},le=function($e){try{return Ee.decodeString($e,!0)}catch(Ie){console.error("base64Decode failed: ",Ie)}return null};function me($e){return ie(void 0,$e)}function ie($e,Ie){if(!(Ie instanceof Object))return Ie;switch(Ie.constructor){case Date:return new Date(Ie.getTime());case Object:void 0===$e&&($e={});break;case Array:$e=[];break;default:return Ie}for(const je in Ie)!Ie.hasOwnProperty(je)||!he(je)||($e[je]=ie($e[je],Ie[je]));return $e}function he($e){return"__proto__"!==$e}class We{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ie,je)=>{this.resolve=Ie,this.reject=je})}wrapCallback(Ie){return(je,bt)=>{je?this.reject(je):this.resolve(bt),"function"==typeof Ie&&(this.promise.catch(()=>{}),1===Ie.length?Ie(je):Ie(je,bt))}}}function Oe($e,Ie){if($e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const bt=Ie||"demo-project",pt=$e.iat||0,sn=$e.sub||$e.user_id;if(!sn)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Un=Object.assign({iss:`https://securetoken.google.com/${bt}`,aud:bt,iat:pt,exp:pt+3600,auth_time:pt,sub:sn,user_id:sn,firebase:{sign_in_provider:"custom",identities:{}}},$e);return[ge(JSON.stringify({alg:"none",type:"JWT"})),ge(JSON.stringify(Un)),""].join(".")}function _e(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ke(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_e())}function Ve(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch($e){return!1}}function st(){return"object"==typeof self&&self.self===self}function Le(){const $e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $e&&void 0!==$e.id}function qe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ae(){return _e().indexOf("Electron/")>=0}function Ze(){const $e=_e();return $e.indexOf("MSIE ")>=0||$e.indexOf("Trident/")>=0}function Dt(){return _e().indexOf("MSAppHost/")>=0}function Ct(){return!1}function Ue(){return!Ve()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function G(){return"object"==typeof indexedDB}function Re(){return new Promise(($e,Ie)=>{try{let je=!0;const bt="validate-browser-context-for-indexeddb-analytics-module",pt=self.indexedDB.open(bt);pt.onsuccess=()=>{pt.result.close(),je||self.indexedDB.deleteDatabase(bt),$e(!0)},pt.onupgradeneeded=()=>{je=!1},pt.onerror=()=>{var sn;Ie((null===(sn=pt.error)||void 0===sn?void 0:sn.message)||"")}}catch(je){Ie(je)}})}function Te(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class et extends Error{constructor(Ie,je,bt){super(je),this.code=Ie,this.customData=bt,this.name="FirebaseError",Object.setPrototypeOf(this,et.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xt.prototype.create)}}class Xt{constructor(Ie,je,bt){this.service=Ie,this.serviceName=je,this.errors=bt}create(Ie,...je){const bt=je[0]||{},pt=`${this.service}/${Ie}`,sn=this.errors[Ie],Un=sn?function on($e,Ie){return $e.replace(mt,(je,bt)=>{const pt=Ie[bt];return null!=pt?String(pt):`<${bt}?>`})}(sn,bt):"Error";return new et(pt,`${this.serviceName}: ${Un} (${pt}).`,bt)}}const mt=/\{\$([^}]+)}/g;function it($e){return JSON.parse($e)}function Qe($e){return JSON.stringify($e)}const at=function($e){let Ie={},je={},bt={},pt="";try{const sn=$e.split(".");Ie=it(le(sn[0])||""),je=it(le(sn[1])||""),pt=sn[2],bt=je.d||{},delete je.d}catch(sn){}return{header:Ie,claims:je,data:bt,signature:pt}},Je=function($e){const je=at($e).claims;return!!je&&"object"==typeof je&&je.hasOwnProperty("iat")},Tt=function($e){const Ie=at($e).claims;return"object"==typeof Ie&&!0===Ie.admin};function dt($e,Ie){return Object.prototype.hasOwnProperty.call($e,Ie)}function Kt($e,Ie){if(Object.prototype.hasOwnProperty.call($e,Ie))return $e[Ie]}function en($e){for(const Ie in $e)if(Object.prototype.hasOwnProperty.call($e,Ie))return!1;return!0}function _n($e,Ie,je){const bt={};for(const pt in $e)Object.prototype.hasOwnProperty.call($e,pt)&&(bt[pt]=Ie.call(je,$e[pt],pt,$e));return bt}function fn($e,Ie){if($e===Ie)return!0;const je=Object.keys($e),bt=Object.keys(Ie);for(const pt of je){if(!bt.includes(pt))return!1;const sn=$e[pt],Un=Ie[pt];if(Jt(sn)&&Jt(Un)){if(!fn(sn,Un))return!1}else if(sn!==Un)return!1}for(const pt of bt)if(!je.includes(pt))return!1;return!0}function Jt($e){return null!==$e&&"object"==typeof $e}function An($e){const Ie=[];for(const[je,bt]of Object.entries($e))Array.isArray(bt)?bt.forEach(pt=>{Ie.push(encodeURIComponent(je)+"="+encodeURIComponent(pt))}):Ie.push(encodeURIComponent(je)+"="+encodeURIComponent(bt));return Ie.length?"&"+Ie.join("&"):""}function Cr($e){const Ie={};return $e.replace(/^\?/,"").split("&").forEach(bt=>{if(bt){const[pt,sn]=bt.split("=");Ie[decodeURIComponent(pt)]=decodeURIComponent(sn)}}),Ie}function yr($e){const Ie=$e.indexOf("?");if(!Ie)return"";const je=$e.indexOf("#",Ie);return $e.substring(Ie,je>0?je:void 0)}class Jn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Ie=1;Ie<this.blockSize;++Ie)this.pad_[Ie]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Ie,je){je||(je=0);const bt=this.W_;if("string"==typeof Ie)for(let zn=0;zn<16;zn++)bt[zn]=Ie.charCodeAt(je)<<24|Ie.charCodeAt(je+1)<<16|Ie.charCodeAt(je+2)<<8|Ie.charCodeAt(je+3),je+=4;else for(let zn=0;zn<16;zn++)bt[zn]=Ie[je]<<24|Ie[je+1]<<16|Ie[je+2]<<8|Ie[je+3],je+=4;for(let zn=16;zn<80;zn++){const Br=bt[zn-3]^bt[zn-8]^bt[zn-14]^bt[zn-16];bt[zn]=4294967295&(Br<<1|Br>>>31)}let Er,$r,pt=this.chain_[0],sn=this.chain_[1],Un=this.chain_[2],vr=this.chain_[3],ui=this.chain_[4];for(let zn=0;zn<80;zn++){zn<40?zn<20?(Er=vr^sn&(Un^vr),$r=1518500249):(Er=sn^Un^vr,$r=1859775393):zn<60?(Er=sn&Un|vr&(sn|Un),$r=2400959708):(Er=sn^Un^vr,$r=3395469782);const Br=(pt<<5|pt>>>27)+Er+ui+$r+bt[zn]&4294967295;ui=vr,vr=Un,Un=4294967295&(sn<<30|sn>>>2),sn=pt,pt=Br}this.chain_[0]=this.chain_[0]+pt&4294967295,this.chain_[1]=this.chain_[1]+sn&4294967295,this.chain_[2]=this.chain_[2]+Un&4294967295,this.chain_[3]=this.chain_[3]+vr&4294967295,this.chain_[4]=this.chain_[4]+ui&4294967295}update(Ie,je){if(null==Ie)return;void 0===je&&(je=Ie.length);const bt=je-this.blockSize;let pt=0;const sn=this.buf_;let Un=this.inbuf_;for(;pt<je;){if(0===Un)for(;pt<=bt;)this.compress_(Ie,pt),pt+=this.blockSize;if("string"==typeof Ie){for(;pt<je;)if(sn[Un]=Ie.charCodeAt(pt),++Un,++pt,Un===this.blockSize){this.compress_(sn),Un=0;break}}else for(;pt<je;)if(sn[Un]=Ie[pt],++Un,++pt,Un===this.blockSize){this.compress_(sn),Un=0;break}}this.inbuf_=Un,this.total_+=je}digest(){const Ie=[];let je=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let pt=this.blockSize-1;pt>=56;pt--)this.buf_[pt]=255&je,je/=256;this.compress_(this.buf_);let bt=0;for(let pt=0;pt<5;pt++)for(let sn=24;sn>=0;sn-=8)Ie[bt]=this.chain_[pt]>>sn&255,++bt;return Ie}}function rn($e,Ie){const je=new nr($e,Ie);return je.subscribe.bind(je)}class nr{constructor(Ie,je){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=je,this.task.then(()=>{Ie(this)}).catch(bt=>{this.error(bt)})}next(Ie){this.forEachObserver(je=>{je.next(Ie)})}error(Ie){this.forEachObserver(je=>{je.error(Ie)}),this.close(Ie)}complete(){this.forEachObserver(Ie=>{Ie.complete()}),this.close()}subscribe(Ie,je,bt){let pt;if(void 0===Ie&&void 0===je&&void 0===bt)throw new Error("Missing Observer.");pt=function er($e,Ie){if("object"!=typeof $e||null===$e)return!1;for(const je of Ie)if(je in $e&&"function"==typeof $e[je])return!0;return!1}(Ie,["next","error","complete"])?Ie:{next:Ie,error:je,complete:bt},void 0===pt.next&&(pt.next=Tn),void 0===pt.error&&(pt.error=Tn),void 0===pt.complete&&(pt.complete=Tn);const sn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?pt.error(this.finalError):pt.complete()}catch(Un){}}),this.observers.push(pt),sn}unsubscribeOne(Ie){void 0===this.observers||void 0===this.observers[Ie]||(delete this.observers[Ie],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ie){if(!this.finalized)for(let je=0;je<this.observers.length;je++)this.sendOne(je,Ie)}sendOne(Ie,je){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ie])try{je(this.observers[Ie])}catch(bt){"undefined"!=typeof console&&console.error&&console.error(bt)}})}close(Ie){this.finalized||(this.finalized=!0,void 0!==Ie&&(this.finalError=Ie),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tn(){}const xr=function($e,Ie,je,bt){let pt;if(bt<Ie?pt="at least "+Ie:bt>je&&(pt=0===je?"none":"no more than "+je),pt)throw new Error($e+" failed: Was called with "+bt+(1===bt?" argument.":" arguments.")+" Expects "+pt+".")};function ot($e,Ie){return`${$e} failed: ${Ie} argument `}function ve($e,Ie,je,bt){if((!bt||je)&&"function"!=typeof je)throw new Error(ot($e,Ie)+"must be a valid function.")}function Ht($e,Ie,je,bt){if((!bt||je)&&("object"!=typeof je||null===je))throw new Error(ot($e,Ie)+"must be a valid context object.")}const At=function($e){const Ie=[];let je=0;for(let bt=0;bt<$e.length;bt++){let pt=$e.charCodeAt(bt);if(pt>=55296&&pt<=56319){const sn=pt-55296;bt++,Z(bt<$e.length,"Surrogate pair missing trail surrogate."),pt=65536+(sn<<10)+($e.charCodeAt(bt)-56320)}pt<128?Ie[je++]=pt:pt<2048?(Ie[je++]=pt>>6|192,Ie[je++]=63&pt|128):pt<65536?(Ie[je++]=pt>>12|224,Ie[je++]=pt>>6&63|128,Ie[je++]=63&pt|128):(Ie[je++]=pt>>18|240,Ie[je++]=pt>>12&63|128,Ie[je++]=pt>>6&63|128,Ie[je++]=63&pt|128)}return Ie},Gt=function($e){let Ie=0;for(let je=0;je<$e.length;je++){const bt=$e.charCodeAt(je);bt<128?Ie++:bt<2048?Ie+=2:bt>=55296&&bt<=56319?(Ie+=4,je++):Ie+=3}return Ie};function xn($e,Ie=1e3,je=2){const bt=Ie*Math.pow(je,$e),pt=Math.round(.5*bt*(Math.random()-.5)*2);return Math.min(144e5,bt+pt)}function ln($e){return $e&&$e._delegate?$e._delegate:$e}function fr($e,Ie){return new Promise((je,bt)=>{$e.onsuccess=pt=>{je(pt.target.result)},$e.onerror=pt=>{var sn;bt(`${Ie}: ${null===(sn=pt.target.error)||void 0===sn?void 0:sn.message}`)}})}class Wn{constructor(Ie){this._db=Ie,this.objectStoreNames=this._db.objectStoreNames}transaction(Ie,je="readonly"){return new pn(this._db.transaction.call(this._db,Ie,je))}createObjectStore(Ie,je){return new Nt(this._db.createObjectStore(Ie,je))}close(){this._db.close()}}class pn{constructor(Ie){this._transaction=Ie,this.complete=new Promise((je,bt)=>{this._transaction.oncomplete=function(){je()},this._transaction.onerror=()=>{bt(this._transaction.error)},this._transaction.onabort=()=>{bt(this._transaction.error)}})}objectStore(Ie){return new Nt(this._transaction.objectStore(Ie))}}class Nt{constructor(Ie){this._store=Ie}index(Ie){return new cn(this._store.index(Ie))}createIndex(Ie,je,bt){return new cn(this._store.createIndex(Ie,je,bt))}get(Ie){return fr(this._store.get(Ie),"Error reading from IndexedDB")}put(Ie,je){return fr(this._store.put(Ie,je),"Error writing to IndexedDB")}delete(Ie){return fr(this._store.delete(Ie),"Error deleting from IndexedDB")}clear(){return fr(this._store.clear(),"Error clearing IndexedDB object store")}}class cn{constructor(Ie){this._index=Ie}get(Ie){return fr(this._index.get(Ie),"Error reading from IndexedDB")}}function Pn($e,Ie,je){return new Promise((bt,pt)=>{try{const sn=indexedDB.open($e,Ie);sn.onsuccess=Un=>{bt(new Wn(Un.target.result))},sn.onerror=Un=>{var vr;pt(`Error opening indexedDB: ${null===(vr=Un.target.error)||void 0===vr?void 0:vr.message}`)},sn.onupgradeneeded=Un=>{je(new Wn(sn.result),Un.oldVersion,Un.newVersion,new pn(sn.transaction))}}catch(sn){pt(`Error opening indexedDB: ${sn.message}`)}})}function sr($e){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,l.Z)(function*($e){return new Promise((Ie,je)=>{try{const bt=indexedDB.deleteDatabase($e);bt.onsuccess=()=>{Ie()},bt.onerror=pt=>{var sn;je(`Error deleting indexedDB database "${$e}": ${null===(sn=pt.target.error)||void 0===sn?void 0:sn.message}`)}}catch(bt){je(`Error deleting indexedDB database "${$e}": ${bt.message}`)}})})).apply(this,arguments)}},4433:(hn,ft,$)=>{"use strict";$.d(ft,{BX:()=>Zr,dr:()=>Gt,oU:()=>Qn,cs:()=>Fi,YG:()=>_r,Sm:()=>ln,W2:()=>$e,fr:()=>sn,Gu:()=>vr,gu:()=>ui,Ie:()=>Wr,rH:()=>Kn,Ub:()=>Li,u8:()=>ls,IK:()=>ci,td:()=>Mr,Q$:()=>Hr,q_:()=>Yr,d8:()=>Wt,jP:()=>Kr,Hr:()=>ut,PQ:()=>Pt,yq:()=>kt,ZU:()=>yn,UN:()=>Ts,yW:()=>Ln,g2:()=>rr,wd:()=>Ri,sr:()=>Xe,Pc:()=>xt,r4:()=>F,_q:()=>Rr,IN:()=>ai,YI:()=>ds,j9:()=>er,yF:()=>qs});var l=$(5e3),X=$(4182),Z=$(655),Be=$(2916),Se=$(6688),ae=$(7043),Ee=$(4850);function ge(v,P,b,j){return(0,ae.m)(b)&&(j=b,b=void 0),j?ge(v,P,b).pipe((0,Ee.U)(J=>(0,Se.k)(J)?j(...J):j(J))):new Be.y(J=>{le(v,P,function wt(dn){J.next(arguments.length>1?Array.prototype.slice.call(arguments):dn)},J,b)})}function le(v,P,b,j,J){let wt;if(function he(v){return v&&"function"==typeof v.addEventListener&&"function"==typeof v.removeEventListener}(v)){const dn=v;v.addEventListener(P,b,J),wt=()=>dn.removeEventListener(P,b,J)}else if(function ie(v){return v&&"function"==typeof v.on&&"function"==typeof v.off}(v)){const dn=v;v.on(P,b),wt=()=>dn.off(P,b)}else if(function me(v){return v&&"function"==typeof v.addListener&&"function"==typeof v.removeListener}(v)){const dn=v;v.addListener(P,b),wt=()=>dn.removeListener(P,b)}else{if(!v||!v.length)throw new TypeError("Invalid event target");for(let dn=0,En=v.length;dn<En;dn++)le(v[dn],P,b,j,J)}j.add(wt)}var We=$(8929),Oe=$(591),_e=$(3442),Le=($(936),$(8447),$(3139),$(6254)),qe=$(1643),Ae=$(7249),Ze=$(6708),Dt=$(1450),Ue=($(3509),$(2361)),et=$(2198),Xt=$(7545),on=$(5778),mt=$(9808);const Qe=Le.i,Me=["*"],Je=["outlet"],Tt=[[["","slot","top"]],"*"],dt=["[slot=top]","*"];function en(v,P){if(1&v&&l.GkF(0,1),2&v){const b=l.oxw();l.Q6J("ngTemplateOutlet",b.template)}}const _n=v=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(v):"function"==typeof requestAnimationFrame?requestAnimationFrame(v):setTimeout(v);let fn=(()=>{class v{constructor(b,j){this.injector=b,this.el=j,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(b){this.el.nativeElement.value=this.lastValue=null==b?"":b,Jt(this.el)}handleChangeEvent(b,j){b===this.el.nativeElement&&(j!==this.lastValue&&(this.lastValue=j,this.onChange(j)),Jt(this.el))}_handleBlurEvent(b){b===this.el.nativeElement&&(this.onTouched(),Jt(this.el))}registerOnChange(b){this.onChange=b}registerOnTouched(b){this.onTouched=b}setDisabledState(b){this.el.nativeElement.disabled=b}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let b;try{b=this.injector.get(X.a5)}catch(J){}if(!b)return;b.statusChanges&&(this.statusChanges=b.statusChanges.subscribe(()=>Jt(this.el)));const j=b.control;j&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(wt=>{if(void 0!==j[wt]){const dn=j[wt].bind(j);j[wt]=(...En)=>{dn(...En),Jt(this.el)}}})}}return v.\u0275fac=function(b){return new(b||v)(l.Y36(l.zs3),l.Y36(l.SBq))},v.\u0275dir=l.lG2({type:v,hostBindings:function(b,j){1&b&&l.NdJ("ionBlur",function(wt){return j._handleBlurEvent(wt.target)})}}),v})();const Jt=v=>{_n(()=>{const P=v.nativeElement,b=null!=P.value&&P.value.toString().length>0,j=An(P);Cr(P,j);const J=P.closest("ion-item");J&&Cr(J,b?[...j,"item-has-value"]:j)})},An=v=>{const P=v.classList,b=[];for(let j=0;j<P.length;j++){const J=P.item(j);null!==J&&yr(J,"ng-")&&b.push(`ion-${J.substring(3)}`)}return b},Cr=(v,P)=>{const b=v.classList;b.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),b.add(...P)},yr=(v,P)=>v.substring(0,P.length)===P;let er=(()=>{class v extends fn{constructor(b,j){super(b,j)}_handleInputEvent(b){this.handleChangeEvent(b,b.value)}}return v.\u0275fac=function(b){return new(b||v)(l.Y36(l.zs3),l.Y36(l.SBq))},v.\u0275dir=l.lG2({type:v,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(b,j){1&b&&l.NdJ("ionChange",function(wt){return j._handleInputEvent(wt.target)})},features:[l._Bn([{provide:X.JU,useExisting:v,multi:!0}]),l.qOj]}),v})();const Tn=(v,P)=>{const b=v.prototype;P.forEach(j=>{Object.defineProperty(b,j,{get(){return this.el[j]},set(J){this.z.runOutsideAngular(()=>this.el[j]=J)}})})},xr=(v,P)=>{const b=v.prototype;P.forEach(j=>{b[j]=function(){const J=arguments;return this.z.runOutsideAngular(()=>this.el[j].apply(this.el,J))}})},ot=(v,P,b)=>{b.forEach(j=>v[j]=ge(P,j))};function ve(v){return function(b){const{defineCustomElementFn:j,inputs:J,methods:wt}=v;return void 0!==j&&j(),J&&Tn(b,J),wt&&xr(b,wt),b}}let Gt=(()=>{let v=class{constructor(b,j,J){this.z=J,b.detach(),this.el=j.nativeElement}};return v.\u0275fac=function(b){return new(b||v)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},v.\u0275cmp=l.Xpm({type:v,selectors:[["ion-app"]],ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,Z.gn)([ve({defineCustomElementFn:void 0})],v),v})(),Qn=(()=>{let v=class{constructor(b,j,J){this.z=J,b.detach(),this.el=j.nativeElement}};return v.\u0275fac=function(b){return new(b||v)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},v.\u0275cmp=l.Xpm({type:v,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,Z.gn)([ve({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],v),v})(),_r=(()=>{let v=class{constructor(b,j,J){this.z=J,b.detach(),this.el=j.nativeElement,ot(this,this.el,["ionFocus","ionBlur"])}};return v.\u0275fac=function(b){return new(b||v)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},v.\u0275cmp=l.Xpm({type:v,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,Z.gn)([ve({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],v),v})(),ln=(()=>{let v=class{constructor(b,j,J){this.z=J,b.detach(),this.el=j.nativeElement}};return v.\u0275fac=function(b){return new(b||v)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},v.\u0275cmp=l.Xpm({type:v,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,Z.gn)([ve({defineCustomElementFn:void 0,inputs:["collapse"]})],v),v})(),$e=(()=>{let v=class{constructor(b,j,J){this.z=J,b.detach(),this.el=j.nativeElement,ot(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return v.\u0275fac=function(b){return new(b||v)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},v.\u0275cmp=l.Xpm({type:v,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,Z.gn)([ve({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],v),v})(),sn=(()=>{let v=class{constructor(b,j,J){this.z=J,b.detach(),this.el=j.nativeElement}};return v.\u0275fac=function(b){return new(b||v)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},v.\u0275cmp=l.Xpm({type:v,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,Z.gn)([ve({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],v),v})(),vr=(()=>{let v=class{constructor(b,j,J){this.z=J,b.detach(),this.el=j.nativeElement}};return v.\u0275fac=function(b){return new(b||v)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},v.\u0275cmp=l.Xpm({type:v,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,Z.gn)([ve({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],v),v})(),ui=(()=>{let v=class{constructor(b,j,J){this.z=J,b.detach(),this.el=j.nativeElement}};return v.\u0275fac=function(b){return new(b||v)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},v.\u0275cmp=l.Xpm({type:v,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,Z.gn)([ve({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],v),v})(),Wr=(()=>{let v=class{constructor(b,j,J){this.z=J,b.detach(),this.el=j.nativeElement}};return v.\u0275fac=function(b){return new(b||v)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},v.\u0275cmp=l.Xpm({type:v,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,Z.gn)([ve({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],v),v})(),Kn=(()=>{let v=class{constructor(b,j,J){this.z=J,b.detach(),this.el=j.nativeElement}};return v.\u0275fac=function(b){return new(b||v)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},v.\u0275cmp=l.Xpm({type:v,selectors:[["ion-item-divider"]],inputs:{color:"color",mode:"mode",sticky:"sticky"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,Z.gn)([ve({defineCustomElementFn:void 0,inputs:["color","mode","sticky"]})],v),v})(),Li=(()=>{let v=class{constructor(b,j,J){this.z=J,b.detach(),this.el=j.nativeElement}};return v.\u0275fac=function(b){return new(b||v)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},v.\u0275cmp=l.Xpm({type:v,selectors:[["ion-item-group"]],ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,Z.gn)([ve({defineCustomElementFn:void 0})],v),v})(),ls=(()=>{let v=class{constructor(b,j,J){this.z=J,b.detach(),this.el=j.nativeElement}};return v.\u0275fac=function(b){return new(b||v)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},v.\u0275cmp=l.Xpm({type:v,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,Z.gn)([ve({defineCustomElementFn:void 0,inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],v),v})(),ci=(()=>{let v=class{constructor(b,j,J){this.z=J,b.detach(),this.el=j.nativeElement,ot(this,this.el,["ionSwipe"])}};return v.\u0275fac=function(b){return new(b||v)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},v.\u0275cmp=l.Xpm({type:v,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,Z.gn)([ve({defineCustomElementFn:void 0,inputs:["side"]})],v),v})(),Mr=(()=>{let v=class{constructor(b,j,J){this.z=J,b.detach(),this.el=j.nativeElement,ot(this,this.el,["ionDrag"])}};return v.\u0275fac=function(b){return new(b||v)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},v.\u0275cmp=l.Xpm({type:v,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,Z.gn)([ve({defineCustomElementFn:void 0,inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],v),v})(),Hr=(()=>{let v=class{constructor(b,j,J){this.z=J,b.detach(),this.el=j.nativeElement}};return v.\u0275fac=function(b){return new(b||v)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},v.\u0275cmp=l.Xpm({type:v,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,Z.gn)([ve({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],v),v})(),Yr=(()=>{let v=class{constructor(b,j,J){this.z=J,b.detach(),this.el=j.nativeElement}};return v.\u0275fac=function(b){return new(b||v)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},v.\u0275cmp=l.Xpm({type:v,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,Z.gn)([ve({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],v),v})(),ut=(()=>{let v=class{constructor(b,j,J){this.z=J,b.detach(),this.el=j.nativeElement,ot(this,this.el,["ionSlidesDidLoad","ionSlideTap","ionSlideDoubleTap","ionSlideWillChange","ionSlideDidChange","ionSlideNextStart","ionSlidePrevStart","ionSlideNextEnd","ionSlidePrevEnd","ionSlideTransitionStart","ionSlideTransitionEnd","ionSlideDrag","ionSlideReachStart","ionSlideReachEnd","ionSlideTouchStart","ionSlideTouchEnd"])}};return v.\u0275fac=function(b){return new(b||v)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},v.\u0275cmp=l.Xpm({type:v,selectors:[["ion-slides"]],inputs:{mode:"mode",options:"options",pager:"pager",scrollbar:"scrollbar"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,Z.gn)([ve({defineCustomElementFn:void 0,inputs:["mode","options","pager","scrollbar"],methods:["update","updateAutoHeight","slideTo","slideNext","slidePrev","getActiveIndex","getPreviousIndex","length","isEnd","isBeginning","startAutoplay","stopAutoplay","lockSwipeToNext","lockSwipeToPrev","lockSwipes","getSwiper"]})],v),v})(),Pt=(()=>{let v=class{constructor(b,j,J){this.z=J,b.detach(),this.el=j.nativeElement}};return v.\u0275fac=function(b){return new(b||v)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},v.\u0275cmp=l.Xpm({type:v,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,Z.gn)([ve({defineCustomElementFn:void 0,inputs:["color","duration","name","paused"]})],v),v})(),kt=(()=>{let v=class{constructor(b,j,J){this.z=J,b.detach(),this.el=j.nativeElement}};return v.\u0275fac=function(b){return new(b||v)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},v.\u0275cmp=l.Xpm({type:v,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,Z.gn)([ve({defineCustomElementFn:void 0,inputs:["color","mode","selectedTab","translucent"]})],v),v})(),yn=(()=>{let v=class{constructor(b,j,J){this.z=J,b.detach(),this.el=j.nativeElement}};return v.\u0275fac=function(b){return new(b||v)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},v.\u0275cmp=l.Xpm({type:v,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,Z.gn)([ve({defineCustomElementFn:void 0,inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],v),v})(),Ln=(()=>{let v=class{constructor(b,j,J){this.z=J,b.detach(),this.el=j.nativeElement}};return v.\u0275fac=function(b){return new(b||v)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},v.\u0275cmp=l.Xpm({type:v,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,Z.gn)([ve({defineCustomElementFn:void 0,inputs:["color","mode"]})],v),v})(),rr=(()=>{let v=class{constructor(b,j,J){this.z=J,b.detach(),this.el=j.nativeElement,ot(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}};return v.\u0275fac=function(b){return new(b||v)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},v.\u0275cmp=l.Xpm({type:v,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,Z.gn)([ve({defineCustomElementFn:void 0,inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","debounce","disabled","enterkeyhint","inputmode","maxlength","minlength","mode","name","placeholder","readonly","required","rows","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],v),v})(),Ri=(()=>{let v=class{constructor(b,j,J){this.z=J,b.detach(),this.el=j.nativeElement}};return v.\u0275fac=function(b){return new(b||v)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},v.\u0275cmp=l.Xpm({type:v,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,Z.gn)([ve({defineCustomElementFn:void 0,inputs:["color","size"]})],v),v})(),Xe=(()=>{let v=class{constructor(b,j,J){this.z=J,b.detach(),this.el=j.nativeElement}};return v.\u0275fac=function(b){return new(b||v)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},v.\u0275cmp=l.Xpm({type:v,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Me,decls:1,vars:0,template:function(b,j){1&b&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,Z.gn)([ve({defineCustomElementFn:void 0,inputs:["color","mode"]})],v),v})();class tt{constructor(P={}){this.data=P}get(P){return this.data[P]}}let _t=(()=>{class v{constructor(b,j){this.zone=b,this.appRef=j}create(b,j,J){return new It(b,j,J,this.appRef,this.zone)}}return v.\u0275fac=function(b){return new(b||v)(l.LFG(l.R0b),l.LFG(l.z2F))},v.\u0275prov=l.Yz7({token:v,factory:v.\u0275fac}),v})();class It{constructor(P,b,j,J,wt){this.resolver=P,this.injector=b,this.location=j,this.appRef=J,this.zone=wt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(P,b,j,J){return this.zone.run(()=>new Promise(wt=>{wt(Ut(this.zone,this.resolver,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,P,b,j,J))}))}removeViewFromDom(P,b){return this.zone.run(()=>new Promise(j=>{const J=this.elRefMap.get(b);if(J){J.destroy(),this.elRefMap.delete(b);const wt=this.elEventsMap.get(b);wt&&(wt(),this.elEventsMap.delete(b))}j()}))}}const Ut=(v,P,b,j,J,wt,dn,En,wr,ii,Ii)=>{const Bi=P.resolveComponentFactory(wr),ts=l.zs3.create({providers:kr(ii),parent:b}),hs=j?j.createComponent(Bi,j.length,ts):Bi.create(ts),Ti=hs.instance,mi=hs.location.nativeElement;if(ii&&Object.assign(Ti,ii),Ii)for(const Ys of Ii)mi.classList.add(Ys);const vo=Ir(v,Ti,mi);return En.appendChild(mi),j||J.attachView(hs.hostView),hs.changeDetectorRef.reattach(),wt.set(mi,hs),dn.set(mi,vo),mi},Qt=[Ae.L,Ae.a,Ae.b,Ae.c,Ae.d],Ir=(v,P,b)=>v.run(()=>{const j=Qt.filter(J=>"function"==typeof P[J]).map(J=>{const wt=dn=>P[J](dn.detail);return b.addEventListener(J,wt),()=>b.removeEventListener(J,wt)});return()=>j.forEach(J=>J())}),Fn=new l.OlP("NavParamsToken"),kr=v=>[{provide:Fn,useValue:v},{provide:tt,useFactory:ys,deps:[Fn]}],ys=v=>new tt(v),Bs=(v,P)=>((v=v.filter(b=>b.stackId!==P.stackId)).push(P),v),vi=(v,P)=>{const b=v.createUrlTree(["."],{relativeTo:P});return v.serializeUrl(b)},_s=(v,P)=>{if(!v)return;const b=ni(P);for(let j=0;j<b.length;j++){if(j>=v.length)return b[j];if(b[j]!==v[j])return}},ni=v=>v.split("/").map(P=>P.trim()).filter(P=>""!==P),Ni=v=>{v&&(v.ref.destroy(),v.unlistenEvents())};class Vs{constructor(P,b,j,J,wt,dn){this.containerEl=b,this.router=j,this.navCtrl=J,this.zone=wt,this.location=dn,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==P?ni(P):void 0}createView(P,b){var j;const J=vi(this.router,b),wt=null===(j=null==P?void 0:P.location)||void 0===j?void 0:j.nativeElement,dn=Ir(this.zone,P.instance,wt);return{id:this.nextId++,stackId:_s(this.tabsPrefix,J),unlistenEvents:dn,element:wt,ref:P,url:J}}getExistingView(P){const b=vi(this.router,P),j=this.views.find(J=>J.url===b);return j&&j.ref.changeDetectorRef.reattach(),j}setActive(P){var b,j;const J=this.navCtrl.consumeTransition();let{direction:wt,animation:dn,animationBuilder:En}=J;const wr=this.activeView,ii=((v,P)=>!P||v.stackId!==P.stackId)(P,wr);ii&&(wt="back",dn=void 0);const Ii=this.views.slice();let Bi;const ts=this.router;ts.getCurrentNavigation?Bi=ts.getCurrentNavigation():(null===(b=ts.navigations)||void 0===b?void 0:b.value)&&(Bi=ts.navigations.value),(null===(j=null==Bi?void 0:Bi.extras)||void 0===j?void 0:j.replaceUrl)&&this.views.length>0&&this.views.splice(-1,1);const hs=this.views.includes(P),Ti=this.insertView(P,wt);hs||P.ref.changeDetectorRef.detectChanges();const mi=P.animationBuilder;return void 0===En&&"back"===wt&&!ii&&void 0!==mi&&(En=mi),wr&&(wr.animationBuilder=En),this.zone.runOutsideAngular(()=>this.wait(()=>(wr&&wr.ref.changeDetectorRef.detach(),P.ref.changeDetectorRef.reattach(),this.transition(P,wr,dn,this.canGoBack(1),!1,En).then(()=>us(P,Ti,Ii,this.location,this.zone)).then(()=>({enteringView:P,direction:wt,animation:dn,tabSwitch:ii})))))}canGoBack(P,b=this.getActiveStackId()){return this.getStack(b).length>P}pop(P,b=this.getActiveStackId()){return this.zone.run(()=>{var j,J;const wt=this.getStack(b);if(wt.length<=P)return Promise.resolve(!1);const dn=wt[wt.length-P-1];let En=dn.url;const wr=dn.savedData;if(wr){const Ii=wr.get("primary");(null===(J=null===(j=null==Ii?void 0:Ii.route)||void 0===j?void 0:j._routerState)||void 0===J?void 0:J.snapshot.url)&&(En=Ii.route._routerState.snapshot.url)}const{animationBuilder:ii}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(En,Object.assign(Object.assign({},dn.savedExtras),{animation:ii})).then(()=>!0)})}startBackTransition(){const P=this.activeView;if(P){const b=this.getStack(P.stackId),j=b[b.length-2],J=j.animationBuilder;return this.wait(()=>this.transition(j,P,"back",this.canGoBack(2),!0,J))}return Promise.resolve()}endBackTransition(P){P?(this.skipTransition=!0,this.pop(1)):this.activeView&&co(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(P){const b=this.getStack(P);return b.length>0?b[b.length-1]:void 0}getRootUrl(P){const b=this.getStack(P);return b.length>0?b[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Ni),this.activeView=void 0,this.views=[]}getStack(P){return this.views.filter(b=>b.stackId===P)}insertView(P,b){return this.activeView=P,this.views=((v,P,b)=>"root"===b?Bs(v,P):"forward"===b?((v,P)=>(v.indexOf(P)>=0?v=v.filter(j=>j.stackId!==P.stackId||j.id<=P.id):v.push(P),v))(v,P):((v,P)=>v.indexOf(P)>=0?v.filter(j=>j.stackId!==P.stackId||j.id<=P.id):Bs(v,P))(v,P))(this.views,P,b),this.views.slice()}transition(P,b,j,J,wt,dn){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(b===P)return Promise.resolve(!1);const En=P?P.element:void 0,wr=b?b.element:void 0,ii=this.containerEl;return En&&En!==wr&&(En.classList.add("ion-page"),En.classList.add("ion-page-invisible"),En.parentElement!==ii&&ii.appendChild(En),ii.commit)?ii.commit(En,wr,{deepWait:!0,duration:void 0===j?0:void 0,direction:j,showGoBack:J,progressAnimation:wt,animationBuilder:dn}):Promise.resolve(!1)}wait(P){return(0,Z.mG)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const b=this.runningTask=P();return b.finally(()=>this.runningTask=void 0),b})}}const us=(v,P,b,j,J)=>"function"==typeof requestAnimationFrame?new Promise(wt=>{requestAnimationFrame(()=>{co(v,P,b,j,J),wt()})}):Promise.resolve(),co=(v,P,b,j,J)=>{J.run(()=>b.filter(wt=>!P.includes(wt)).forEach(Ni)),P.forEach(wt=>{const En=j.path().split("?")[0].split("#")[0];if(wt!==v&&wt.url!==En){const wr=wt.element;wr.setAttribute("aria-hidden","true"),wr.classList.add("ion-page-hidden"),wt.ref.changeDetectorRef.detach()}})};let Ds=(()=>{class v{get(b,j){const J=es();return J?J.get(b,j):null}getBoolean(b,j){const J=es();return!!J&&J.getBoolean(b,j)}getNumber(b,j){const J=es();return J?J.getNumber(b,j):0}}return v.\u0275fac=function(b){return new(b||v)},v.\u0275prov=l.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const Rs=new l.OlP("USERCONFIG"),es=()=>{if("undefined"!=typeof window){const v=window.Ionic;if(null==v?void 0:v.config)return v.config}return null};let vs=(()=>{class v{constructor(b,j){this.doc=b,this.backButton=new We.xQ,this.keyboardDidShow=new We.xQ,this.keyboardDidHide=new We.xQ,this.pause=new We.xQ,this.resume=new We.xQ,this.resize=new We.xQ,j.run(()=>{var J;let wt;this.win=b.defaultView,this.backButton.subscribeWithPriority=function(dn,En){return this.subscribe(wr=>wr.register(dn,ii=>j.run(()=>En(ii))))},cs(this.pause,b,"pause"),cs(this.resume,b,"resume"),cs(this.backButton,b,"ionBackButton"),cs(this.resize,this.win,"resize"),cs(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),cs(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(dn=>{wt=dn}),(null===(J=this.win)||void 0===J?void 0:J.cordova)?b.addEventListener("deviceready",()=>{wt("cordova")},{once:!0}):wt("dom")})}is(b){return(0,Le.a)(this.win,b)}platforms(){return(0,Le.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(b){return Uo(this.win.location.href,b)}isLandscape(){return!this.isPortrait()}isPortrait(){var b,j;return null===(j=(b=this.win).matchMedia)||void 0===j?void 0:j.call(b,"(orientation: portrait)").matches}testUserAgent(b){const j=this.win.navigator;return!!((null==j?void 0:j.userAgent)&&j.userAgent.indexOf(b)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return v.\u0275fac=function(b){return new(b||v)(l.LFG(mt.K0),l.LFG(l.R0b))},v.\u0275prov=l.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const Uo=(v,P)=>{P=P.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");const j=new RegExp("[\\?&]"+P+"=([^&#]*)").exec(v);return j?decodeURIComponent(j[1].replace(/\+/g," ")):null},cs=(v,P,b)=>{P&&P.addEventListener(b,j=>{v.next(null!=j?j.detail:void 0)})};let fi=(()=>{class v{constructor(b,j,J,wt){this.location=j,this.serializer=J,this.router=wt,this.direction=Ws,this.animated=to,this.guessDirection="forward",this.lastNavId=-1,wt&&wt.events.subscribe(dn=>{if(dn instanceof _e.OD){const En=dn.restoredState?dn.restoredState.navigationId:dn.id;this.guessDirection=En<this.lastNavId?"back":"forward",this.guessAnimation=dn.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?dn.id:En}}),b.backButton.subscribeWithPriority(0,dn=>{this.pop(),dn()})}navigateForward(b,j={}){return this.setDirection("forward",j.animated,j.animationDirection,j.animation),this.navigate(b,j)}navigateBack(b,j={}){return this.setDirection("back",j.animated,j.animationDirection,j.animation),this.navigate(b,j)}navigateRoot(b,j={}){return this.setDirection("root",j.animated,j.animationDirection,j.animation),this.navigate(b,j)}back(b={animated:!0,animationDirection:"back"}){return this.setDirection("back",b.animated,b.animationDirection,b.animation),this.location.back()}pop(){return(0,Z.mG)(this,void 0,void 0,function*(){let b=this.topOutlet;for(;b&&!(yield b.pop());)b=b.parentOutlet})}setDirection(b,j,J,wt){this.direction=b,this.animated=Gi(b,j,J),this.animationBuilder=wt}setTopOutlet(b){this.topOutlet=b}consumeTransition(){let j,b="root";const J=this.animationBuilder;return"auto"===this.direction?(b=this.guessDirection,j=this.guessAnimation):(j=this.animated,b=this.direction),this.direction=Ws,this.animated=to,this.animationBuilder=void 0,{direction:b,animation:j,animationBuilder:J}}navigate(b,j){if(Array.isArray(b))return this.router.navigate(b,j);{const J=this.serializer.parse(b.toString());return void 0!==j.queryParams&&(J.queryParams=Object.assign({},j.queryParams)),void 0!==j.fragment&&(J.fragment=j.fragment),this.router.navigateByUrl(J,j)}}}return v.\u0275fac=function(b){return new(b||v)(l.LFG(vs),l.LFG(mt.Ye),l.LFG(_e.Hx),l.LFG(_e.F0,8))},v.\u0275prov=l.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const Gi=(v,P,b)=>{if(!1!==P){if(void 0!==b)return b;if("forward"===v||"back"===v)return v;if("root"===v&&!0===P)return"forward"}},Ws="auto",to=void 0;let Kr=(()=>{class v{constructor(b,j,J,wt,dn,En,wr,ii,Ii,Bi,ts,hs,Ti){this.parentContexts=b,this.location=j,this.resolver=J,this.config=En,this.navCtrl=wr,this.parentOutlet=Ti,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Oe.X(null),this.stackEvents=new l.vpe,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.nativeEl=Ii.nativeElement,this.name=wt||_e.eC,this.tabsPrefix="true"===dn?vi(Bi,hs):void 0,this.stackCtrl=new Vs(this.tabsPrefix,this.nativeEl,Bi,wr,ts,ii),b.onChildOutletCreated(this.name,this)}set animation(b){this.nativeEl.animation=b}set animated(b){this.nativeEl.animated=b}set swipeGesture(b){this._swipeGesture=b,this.nativeEl.swipeHandler=b?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:j=>this.stackCtrl.endBackTransition(j)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const b=this.getContext();(null==b?void 0:b.route)&&this.activateWith(b.route,b.resolver||null)}new Promise(b=>(0,qe.c)(this.nativeEl,b)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(b,j){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const j=this.getContext();this.activatedView.savedData=new Map(j.children.contexts);const J=this.activatedView.savedData.get("primary");if(J&&j.route&&(J.route=Object.assign({},j.route)),this.activatedView.savedExtras={},j.route){const wt=j.route.snapshot;this.activatedView.savedExtras.queryParams=wt.queryParams,this.activatedView.savedExtras.fragment=wt.fragment}}const b=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,j){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=b;let J,wt=this.stackCtrl.getExistingView(b);if(wt){J=this.activated=wt.ref;const dn=wt.savedData;dn&&(this.getContext().children.contexts=dn),this.updateActivatedRouteProxy(J.instance,b)}else{const wr=(j=j||this.resolver).resolveComponentFactory(b._futureSnapshot.routeConfig.component),ii=this.parentContexts.getOrCreateContext(this.name).children,Ii=new Oe.X(null),Bi=this.createActivatedRouteProxy(Ii,b),ts=new br(Bi,ii,this.location.injector);J=this.activated=this.location.createComponent(wr,this.location.length,ts),Ii.next(J.instance),wt=this.stackCtrl.createView(this.activated,b),this.proxyMap.set(J.instance,Bi),this.currentActivatedRoute$.next({component:J.instance,activatedRoute:b})}this.activatedView=wt,this.stackCtrl.setActive(wt).then(dn=>{this.navCtrl.setTopOutlet(this),this.activateEvents.emit(J.instance),this.stackEvents.emit(dn)})}canGoBack(b=1,j){return this.stackCtrl.canGoBack(b,j)}pop(b=1,j){return this.stackCtrl.pop(b,j)}getLastUrl(b){const j=this.stackCtrl.getLastUrl(b);return j?j.url:void 0}getLastRouteView(b){return this.stackCtrl.getLastUrl(b)}getRootView(b){return this.stackCtrl.getRootUrl(b)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(b,j){const J=new _e.gz;return J._futureSnapshot=j._futureSnapshot,J._routerState=j._routerState,J.snapshot=j.snapshot,J.outlet=j.outlet,J.component=j.component,J._paramMap=this.proxyObservable(b,"paramMap"),J._queryParamMap=this.proxyObservable(b,"queryParamMap"),J.url=this.proxyObservable(b,"url"),J.params=this.proxyObservable(b,"params"),J.queryParams=this.proxyObservable(b,"queryParams"),J.fragment=this.proxyObservable(b,"fragment"),J.data=this.proxyObservable(b,"data"),J}proxyObservable(b,j){return b.pipe((0,et.h)(J=>!!J),(0,Xt.w)(J=>this.currentActivatedRoute$.pipe((0,et.h)(wt=>null!==wt&&wt.component===J),(0,Xt.w)(wt=>wt&&wt.activatedRoute[j]),(0,on.x)())))}updateActivatedRouteProxy(b,j){const J=this.proxyMap.get(b);if(!J)throw new Error("Could not find activated route proxy for view");J._futureSnapshot=j._futureSnapshot,J._routerState=j._routerState,J.snapshot=j.snapshot,J.outlet=j.outlet,J.component=j.component,this.currentActivatedRoute$.next({component:b,activatedRoute:j})}}return v.\u0275fac=function(b){return new(b||v)(l.Y36(_e.y6),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.$8M("tabs"),l.Y36(Ds),l.Y36(fi),l.Y36(mt.Ye),l.Y36(l.SBq),l.Y36(_e.F0),l.Y36(l.R0b),l.Y36(_e.gz),l.Y36(v,12))},v.\u0275dir=l.lG2({type:v,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),v})();class br{constructor(P,b,j){this.route=P,this.childContexts=b,this.parent=j}get(P,b){return P===_e.gz?this.route:P===_e.y6?this.childContexts:this.parent.get(P,b)}}let Ts=(()=>{class v{constructor(b){this.navCtrl=b,this.ionTabsWillChange=new l.vpe,this.ionTabsDidChange=new l.vpe}onPageSelected(b){const j=b.enteringView.stackId;b.tabSwitch&&void 0!==j&&(this.ionTabsWillChange.emit({tab:j}),this.tabBar&&(this.tabBar.selectedTab=j),this.ionTabsDidChange.emit({tab:j}))}select(b){const j="string"==typeof b,J=j?b:b.detail.tab,wt=this.outlet.getActiveStackId()===J,dn=`${this.outlet.tabsPrefix}/${J}`;if(j||b.stopPropagation(),wt){const En=this.outlet.getActiveStackId(),wr=this.outlet.getLastRouteView(En);if((null==wr?void 0:wr.url)===dn)return;const ii=this.outlet.getRootView(J);return this.navCtrl.navigateRoot(dn,Object.assign(Object.assign({},ii&&dn===ii.url&&ii.savedExtras),{animated:!0,animationDirection:"back"}))}{const En=this.outlet.getLastRouteView(J);return this.navCtrl.navigateRoot((null==En?void 0:En.url)||dn,Object.assign(Object.assign({},null==En?void 0:En.savedExtras),{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}}return v.\u0275fac=function(b){return new(b||v)(l.Y36(fi))},v.\u0275cmp=l.Xpm({type:v,selectors:[["ion-tabs"]],contentQueries:function(b,j,J){if(1&b&&l.Suo(J,kt,5),2&b){let wt;l.iGM(wt=l.CRH())&&(j.tabBar=wt.first)}},viewQuery:function(b,j){if(1&b&&l.Gf(Je,5,Kr),2&b){let J;l.iGM(J=l.CRH())&&(j.outlet=J.first)}},hostBindings:function(b,j){1&b&&l.NdJ("ionTabButtonClick",function(wt){return j.select(wt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:dt,decls:5,vars:0,consts:[[1,"tabs-inner"],["tabs","true",3,"stackEvents"],["outlet",""]],template:function(b,j){1&b&&(l.F$t(Tt),l.Hsn(0),l.TgZ(1,"div",0)(2,"ion-router-outlet",1,2),l.NdJ("stackEvents",function(wt){return j.onPageSelected(wt)}),l.qZA()(),l.Hsn(4,1))},directives:[Kr],styles:["[_nghost-%COMP%] {\n        display: flex;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        flex-direction: column;\n\n        width: 100%;\n        height: 100%;\n\n        contain: layout size style;\n        z-index: $z-index-page-container;\n      }\n      .tabs-inner[_ngcontent-%COMP%] {\n        position: relative;\n\n        flex: 1;\n\n        contain: layout size style;\n      }"]}),v})(),Fi=(()=>{class v{constructor(b,j,J){this.routerOutlet=b,this.navCtrl=j,this.config=J}onClick(b){var j;const J=this.defaultHref||this.config.get("backButtonDefaultHref");(null===(j=this.routerOutlet)||void 0===j?void 0:j.canGoBack())?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),b.preventDefault()):null!=J&&(this.navCtrl.navigateBack(J,{animation:this.routerAnimation}),b.preventDefault())}}return v.\u0275fac=function(b){return new(b||v)(l.Y36(Kr,8),l.Y36(fi),l.Y36(Ds))},v.\u0275dir=l.lG2({type:v,selectors:[["ion-back-button"]],hostBindings:function(b,j){1&b&&l.NdJ("click",function(wt){return j.onClick(wt)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),v})(),ds=(()=>{class v{constructor(b,j,J,wt,dn){this.locationStrategy=b,this.navCtrl=j,this.elementRef=J,this.router=wt,this.routerLink=dn,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var b;if(null===(b=this.routerLink)||void 0===b?void 0:b.urlTree){const j=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=j}}onClick(b){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),b.preventDefault()}}return v.\u0275fac=function(b){return new(b||v)(l.Y36(mt.S$),l.Y36(fi),l.Y36(l.SBq),l.Y36(_e.F0),l.Y36(_e.rH,8))},v.\u0275dir=l.lG2({type:v,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(b,j){1&b&&l.NdJ("click",function(wt){return j.onClick(wt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[l.TTD]}),v})(),Wt=(()=>{let v=class{constructor(b,j,J){this.z=J,this.isCmpOpen=!1,this.el=j.nativeElement,this.el.addEventListener("willPresent",()=>{this.isCmpOpen=!0,b.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,b.detectChanges()}),ot(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}};return v.\u0275fac=function(b){return new(b||v)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},v.\u0275cmp=l.Xpm({type:v,selectors:[["ion-popover"]],contentQueries:function(b,j,J){if(1&b&&l.Suo(J,l.Rgc,5),2&b){let wt;l.iGM(wt=l.CRH())&&(j.template=wt.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"},decls:1,vars:1,consts:[[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(b,j){1&b&&l.YNc(0,en,1,1,"ng-container",0),2&b&&l.Q6J("ngIf",j.isCmpOpen)},directives:[mt.O5,mt.tP],encapsulation:2,changeDetection:0}),v=(0,Z.gn)([ve({inputs:["alignment","animated","arrow","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],methods:["present","dismiss","onDidDismiss","onWillDismiss"]})],v),v})();class nn{constructor(P){this.ctrl=P}create(P){return this.ctrl.create(P||{})}dismiss(P,b,j){return this.ctrl.dismiss(P,b,j)}getTop(){return this.ctrl.getTop()}}let Zr=(()=>{class v extends nn{constructor(){super(Dt.b)}}return v.\u0275fac=function(b){return new(b||v)},v.\u0275prov=l.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})(),Rr=(()=>{class v{open(b){return Ze.m.open(b)}close(b){return Ze.m.close(b)}toggle(b){return Ze.m.toggle(b)}enable(b,j){return Ze.m.enable(b,j)}swipeGesture(b,j){return Ze.m.swipeGesture(b,j)}isOpen(b){return Ze.m.isOpen(b)}isEnabled(b){return Ze.m.isEnabled(b)}get(b){return Ze.m.get(b)}getOpen(){return Ze.m.getOpen()}getMenus(){return Ze.m.getMenus()}}return v.\u0275fac=function(b){return new(b||v)},v.\u0275prov=l.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})(),ai=(()=>{class v extends nn{constructor(b,j,J){super(Dt.m),this.angularDelegate=b,this.resolver=j,this.injector=J}create(b){return super.create(Object.assign(Object.assign({},b),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return v.\u0275fac=function(b){return new(b||v)(l.LFG(_t),l.LFG(l._Vd),l.LFG(l.zs3))},v.\u0275prov=l.Yz7({token:v,factory:v.\u0275fac}),v})(),li=(()=>{class v extends nn{constructor(b,j,J){super(Dt.c),this.angularDelegate=b,this.resolver=j,this.injector=J}create(b){return super.create(Object.assign(Object.assign({},b),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return v.\u0275fac=function(b){return new(b||v)(l.LFG(_t),l.LFG(l._Vd),l.LFG(l.zs3))},v.\u0275prov=l.Yz7({token:v,factory:v.\u0275fac}),v})(),qs=(()=>{class v extends nn{constructor(){super(Dt.t)}}return v.\u0275fac=function(b){return new(b||v)},v.\u0275prov=l.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();class F{shouldDetach(P){return!1}shouldAttach(P){return!1}store(P,b){}retrieve(P){return null}shouldReuseRoute(P,b){if(P.routeConfig!==b.routeConfig)return!1;const j=P.params,J=b.params,wt=Object.keys(j),dn=Object.keys(J);if(wt.length!==dn.length)return!1;for(const En of wt)if(J[En]!==j[En])return!1;return!0}}const k=(v,P,b)=>()=>{if(P.defaultView&&"undefined"!=typeof window){(v=>{const P=window,b=P.Ionic;b&&b.config&&"Object"!==b.config.constructor.name||(P.Ionic=P.Ionic||{},P.Ionic.config=Object.assign(Object.assign({},P.Ionic.config),v))})(Object.assign(Object.assign({},v),{_zoneGate:wt=>b.run(wt)}));const J="__zone_symbol__addEventListener"in P.body?"__zone_symbol__addEventListener":"addEventListener";return function it(){var v=[];if("undefined"!=typeof window){var P=window;(!P.customElements||P.Element&&(!P.Element.prototype.closest||!P.Element.prototype.matches||!P.Element.prototype.remove||!P.Element.prototype.getRootNode))&&v.push($.e(6748).then($.t.bind($,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||P.NodeList&&!P.NodeList.prototype.forEach||!P.fetch||!function(){try{var j=new URL("b","http://a");return j.pathname="c%20d","http://a/c%20d"===j.href&&j.searchParams}catch(J){return!1}}()||"undefined"==typeof WeakMap)&&v.push($.e(2214).then($.t.bind($,4144,23)))}return Promise.all(v)}().then(()=>((v,P)=>"undefined"==typeof window?Promise.resolve():(0,Ue.p)().then(()=>(Qe(),(0,Ue.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal"]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),P))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:_n,jmp:wt=>b.runOutsideAngular(wt),ael(wt,dn,En,wr){wt[J](dn,En,wr)},rel(wt,dn,En,wr){wt.removeEventListener(dn,En,wr)}}))}};let xt=(()=>{class v{static forRoot(b){return{ngModule:v,providers:[{provide:Rs,useValue:b},{provide:l.ip1,useFactory:k,multi:!0,deps:[Rs,mt.K0,l.R0b]}]}}}return v.\u0275fac=function(b){return new(b||v)},v.\u0275mod=l.oAB({type:v}),v.\u0275inj=l.cJS({providers:[_t,ai,li],imports:[[mt.ez]]}),v})()},8015:(hn,ft,$)=>{"use strict";$.d(ft,{c:()=>Oe});var l=$(1643);let X;const Be=_e=>_e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Se=_e=>{if(void 0===X){const Ve=void 0!==_e.style.webkitAnimationName;X=void 0===_e.style.animationName&&Ve?"-webkit-":""}return X},ae=(_e,ke,Ve)=>{const st=ke.startsWith("animation")?Se(_e):"";_e.style.setProperty(st+ke,Ve)},Ee=(_e,ke)=>{const Ve=ke.startsWith("animation")?Se(_e):"";_e.style.removeProperty(Ve+ke)},le=[],We=(_e=[],ke)=>{if(void 0!==ke){const Ve=Array.isArray(ke)?ke:[ke];return[..._e,...Ve]}return _e},Oe=_e=>{let ke,Ve,st,Le,qe,Ae,G,mt,it,Qe,at,Tt,dt,Ze=[],Dt=[],Ct=[],Ue=!1,Re={},Te=[],Ce=[],rt={},et=0,Xt=!1,on=!1,lt=!0,Me=!1,Je=!0,Kt=!1;const en=_e,_n=[],fn=[],Jt=[],An=[],Cr=[],yr=[],Jn=[],rn=[],nr=[],Nn=[],er="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,Tn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&er,ot=()=>Nn,Gt=(ye,xe)=>(((null==xe?void 0:xe.oneTimeCallback)?fn:_n).push({c:ye,o:xe}),dt),Qn=()=>{if(Tn)Nn.forEach(ye=>{ye.cancel()}),Nn.length=0;else{const ye=Jt.slice();(0,l.r)(()=>{ye.forEach(xe=>{Ee(xe,"animation-name"),Ee(xe,"animation-duration"),Ee(xe,"animation-timing-function"),Ee(xe,"animation-iteration-count"),Ee(xe,"animation-delay"),Ee(xe,"animation-play-state"),Ee(xe,"animation-fill-mode"),Ee(xe,"animation-direction")})})}},Gn=()=>{Cr.forEach(ye=>{(null==ye?void 0:ye.parentNode)&&ye.parentNode.removeChild(ye)}),Cr.length=0},Yn=()=>void 0!==qe?qe:G?G.getFill():"both",$e=()=>void 0!==it?it:void 0!==Ae?Ae:G?G.getDirection():"normal",Ie=()=>Xt?"linear":void 0!==st?st:G?G.getEasing():"linear",je=()=>on?0:void 0!==Qe?Qe:void 0!==Ve?Ve:G?G.getDuration():0,bt=()=>void 0!==Le?Le:G?G.getIterations():1,pt=()=>void 0!==at?at:void 0!==ke?ke:G?G.getDelay():0,Hr=()=>{0!==et&&(et--,0===et&&((()=>{Rt(),rn.forEach(Lt=>Lt()),nr.forEach(Lt=>Lt());const ye=lt?1:0,xe=Te,ut=Ce,Pt=rt;Jt.forEach(Lt=>{const kt=Lt.classList;xe.forEach(yn=>kt.add(yn)),ut.forEach(yn=>kt.remove(yn));for(const yn in Pt)Pt.hasOwnProperty(yn)&&ae(Lt,yn,Pt[yn])}),_n.forEach(Lt=>Lt.c(ye,dt)),fn.forEach(Lt=>Lt.c(ye,dt)),fn.length=0,Je=!0,lt&&(Me=!0),lt=!0})(),G&&G.animationFinish()))},Yr=(ye=!0)=>{Gn();const xe=(_e=>(_e.forEach(ke=>{for(const Ve in ke)if(ke.hasOwnProperty(Ve)){const st=ke[Ve];if("easing"===Ve)ke["animation-timing-function"]=st,delete ke[Ve];else{const Le=Be(Ve);Le!==Ve&&(ke[Le]=st,delete ke[Ve])}}}),_e))(Ze);Jt.forEach(ut=>{if(xe.length>0){const Pt=((_e=[])=>_e.map(ke=>{const Ve=ke.offset,st=[];for(const Le in ke)ke.hasOwnProperty(Le)&&"offset"!==Le&&st.push(`${Le}: ${ke[Le]};`);return`${100*Ve}% { ${st.join(" ")} }`}).join(" "))(xe);Tt=void 0!==_e?_e:(_e=>{let ke=le.indexOf(_e);return ke<0&&(ke=le.push(_e)-1),`ion-animation-${ke}`})(Pt);const Lt=((_e,ke,Ve)=>{const st=(_e=>{const ke=_e.getRootNode();return ke.head||ke})(Ve),Le=Se(Ve),qe=st.querySelector("#"+_e);if(qe)return qe;const Ae=(Ve.ownerDocument||document).createElement("style");return Ae.id=_e,Ae.textContent=`@${Le}keyframes ${_e} { ${ke} } @${Le}keyframes ${_e}-alt { ${ke} }`,st.appendChild(Ae),Ae})(Tt,Pt,ut);Cr.push(Lt),ae(ut,"animation-duration",`${je()}ms`),ae(ut,"animation-timing-function",Ie()),ae(ut,"animation-delay",`${pt()}ms`),ae(ut,"animation-fill-mode",Yn()),ae(ut,"animation-direction",$e());const kt=bt()===1/0?"infinite":bt().toString();ae(ut,"animation-iteration-count",kt),ae(ut,"animation-play-state","paused"),ye&&ae(ut,"animation-name",`${Lt.id}-alt`),(0,l.r)(()=>{ae(ut,"animation-name",Lt.id||null)})}})},jn=(ye=!0)=>{(()=>{yr.forEach(Pt=>Pt()),Jn.forEach(Pt=>Pt());const ye=Dt,xe=Ct,ut=Re;Jt.forEach(Pt=>{const Lt=Pt.classList;ye.forEach(kt=>Lt.add(kt)),xe.forEach(kt=>Lt.remove(kt));for(const kt in ut)ut.hasOwnProperty(kt)&&ae(Pt,kt,ut[kt])})})(),Ze.length>0&&(Tn?(Jt.forEach(ye=>{const xe=ye.animate(Ze,{id:en,delay:pt(),duration:je(),easing:Ie(),iterations:bt(),fill:Yn(),direction:$e()});xe.pause(),Nn.push(xe)}),Nn.length>0&&(Nn[0].onfinish=()=>{Hr()})):Yr(ye)),Ue=!0},mr=ye=>{if(ye=Math.min(Math.max(ye,0),.9999),Tn)Nn.forEach(xe=>{xe.currentTime=xe.effect.getComputedTiming().delay+je()*ye,xe.pause()});else{const xe=`-${je()*ye}ms`;Jt.forEach(ut=>{Ze.length>0&&(ae(ut,"animation-delay",xe),ae(ut,"animation-play-state","paused"))})}},ri=ye=>{Nn.forEach(xe=>{xe.effect.updateTiming({delay:pt(),duration:je(),easing:Ie(),iterations:bt(),fill:Yn(),direction:$e()})}),void 0!==ye&&mr(ye)},oi=(ye=!0,xe)=>{(0,l.r)(()=>{Jt.forEach(ut=>{ae(ut,"animation-name",Tt||null),ae(ut,"animation-duration",`${je()}ms`),ae(ut,"animation-timing-function",Ie()),ae(ut,"animation-delay",void 0!==xe?`-${xe*je()}ms`:`${pt()}ms`),ae(ut,"animation-fill-mode",Yn()||null),ae(ut,"animation-direction",$e()||null);const Pt=bt()===1/0?"infinite":bt().toString();ae(ut,"animation-iteration-count",Pt),ye&&ae(ut,"animation-name",`${Tt}-alt`),(0,l.r)(()=>{ae(ut,"animation-name",Tt||null)})})})},Tr=(ye=!1,xe=!0,ut)=>(ye&&An.forEach(Pt=>{Pt.update(ye,xe,ut)}),Tn?ri(ut):oi(xe,ut),dt),ki=()=>{Ue&&(Tn?Nn.forEach(ye=>{ye.pause()}):Jt.forEach(ye=>{ae(ye,"animation-play-state","paused")}),Kt=!0)},xi=()=>{mt=void 0,Hr()},Rt=()=>{mt&&clearTimeout(mt)},Mi=ye=>new Promise(xe=>{(null==ye?void 0:ye.sync)&&(on=!0,Gt(()=>on=!1,{oneTimeCallback:!0})),Ue||jn(),Me&&(Tn?(mr(0),ri()):oi(),Me=!1),Je&&(et=An.length+1,Je=!1),Gt(()=>xe(),{oneTimeCallback:!0}),An.forEach(ut=>{ut.play()}),Tn?(Nn.forEach(ye=>{ye.play()}),(0===Ze.length||0===Jt.length)&&Hr()):(()=>{if(Rt(),(0,l.r)(()=>{Jt.forEach(ye=>{Ze.length>0&&ae(ye,"animation-play-state","running")})}),0===Ze.length||0===Jt.length)Hr();else{const ye=pt()||0,xe=je()||0,ut=bt()||1;isFinite(ut)&&(mt=setTimeout(xi,ye+xe*ut+100)),((_e,ke)=>{let Ve;const st={passive:!0},qe=Ae=>{_e===Ae.target&&(Ve&&Ve(),Rt(),(0,l.r)(()=>{Jt.forEach(ye=>{Ee(ye,"animation-duration"),Ee(ye,"animation-delay"),Ee(ye,"animation-play-state")}),(0,l.r)(Hr)}))};_e&&(_e.addEventListener("webkitAnimationEnd",qe,st),_e.addEventListener("animationend",qe,st),Ve=()=>{_e.removeEventListener("webkitAnimationEnd",qe,st),_e.removeEventListener("animationend",qe,st)})})(Jt[0])}})(),Kt=!1}),pe=(ye,xe)=>{const ut=Ze[0];return void 0===ut||void 0!==ut.offset&&0!==ut.offset?Ze=[{offset:0,[ye]:xe},...Ze]:ut[ye]=xe,dt};return dt={parentAnimation:G,elements:Jt,childAnimations:An,id:en,animationFinish:Hr,from:pe,to:(ye,xe)=>{const ut=Ze[Ze.length-1];return void 0===ut||void 0!==ut.offset&&1!==ut.offset?Ze=[...Ze,{offset:1,[ye]:xe}]:ut[ye]=xe,dt},fromTo:(ye,xe,ut)=>pe(ye,xe).to(ye,ut),parent:ye=>(G=ye,dt),play:Mi,pause:()=>(An.forEach(ye=>{ye.pause()}),ki(),dt),stop:()=>{An.forEach(ye=>{ye.stop()}),Ue&&(Qn(),Ue=!1),Xt=!1,on=!1,Je=!0,it=void 0,Qe=void 0,at=void 0,et=0,Me=!1,lt=!0,Kt=!1},destroy:ye=>(An.forEach(xe=>{xe.destroy(ye)}),(ye=>{Qn(),ye&&Gn()})(ye),Jt.length=0,An.length=0,Ze.length=0,_n.length=0,fn.length=0,Ue=!1,Je=!0,dt),keyframes:ye=>{const xe=Ze!==ye;return Ze=ye,xe&&(ye=>{Tn?ot().forEach(xe=>{if(xe.effect.setKeyframes)xe.effect.setKeyframes(ye);else{const ut=new KeyframeEffect(xe.effect.target,ye,xe.effect.getTiming());xe.effect=ut}}):Yr()})(Ze),dt},addAnimation:ye=>{if(null!=ye)if(Array.isArray(ye))for(const xe of ye)xe.parent(dt),An.push(xe);else ye.parent(dt),An.push(ye);return dt},addElement:ye=>{if(null!=ye)if(1===ye.nodeType)Jt.push(ye);else if(ye.length>=0)for(let xe=0;xe<ye.length;xe++)Jt.push(ye[xe]);else console.error("Invalid addElement value");return dt},update:Tr,fill:ye=>(qe=ye,Tr(!0),dt),direction:ye=>(Ae=ye,Tr(!0),dt),iterations:ye=>(Le=ye,Tr(!0),dt),duration:ye=>(!Tn&&0===ye&&(ye=1),Ve=ye,Tr(!0),dt),easing:ye=>(st=ye,Tr(!0),dt),delay:ye=>(ke=ye,Tr(!0),dt),getWebAnimations:ot,getKeyframes:()=>Ze,getFill:Yn,getDirection:$e,getDelay:pt,getIterations:bt,getEasing:Ie,getDuration:je,afterAddRead:ye=>(rn.push(ye),dt),afterAddWrite:ye=>(nr.push(ye),dt),afterClearStyles:(ye=[])=>{for(const xe of ye)rt[xe]="";return dt},afterStyles:(ye={})=>(rt=ye,dt),afterRemoveClass:ye=>(Ce=We(Ce,ye),dt),afterAddClass:ye=>(Te=We(Te,ye),dt),beforeAddRead:ye=>(yr.push(ye),dt),beforeAddWrite:ye=>(Jn.push(ye),dt),beforeClearStyles:(ye=[])=>{for(const xe of ye)Re[xe]="";return dt},beforeStyles:(ye={})=>(Re=ye,dt),beforeRemoveClass:ye=>(Ct=We(Ct,ye),dt),beforeAddClass:ye=>(Dt=We(Dt,ye),dt),onFinish:Gt,isRunning:()=>0!==et&&!Kt,progressStart:(ye=!1,xe)=>(An.forEach(ut=>{ut.progressStart(ye,xe)}),ki(),Xt=ye,Ue||jn(),Tr(!1,!0,xe),dt),progressStep:ye=>(An.forEach(xe=>{xe.progressStep(ye)}),mr(ye),dt),progressEnd:(ye,xe,ut)=>(Xt=!1,An.forEach(Pt=>{Pt.progressEnd(ye,xe,ut)}),void 0!==ut&&(Qe=ut),Me=!1,lt=!0,0===ye?(it="reverse"===$e()?"normal":"reverse","reverse"===it&&(lt=!1),Tn?(Tr(),mr(1-xe)):(at=(1-xe)*je()*-1,Tr(!1,!1))):1===ye&&(Tn?(Tr(),mr(xe)):(at=xe*je()*-1,Tr(!1,!1))),void 0!==ye&&(Gt(()=>{Qe=void 0,it=void 0,at=void 0},{oneTimeCallback:!0}),G||Mi()),dt)}}},3509:(hn,ft,$)=>{"use strict";$.d(ft,{G:()=>Se});class X{constructor(Ee,de,ge,le,me){this.id=de,this.name=ge,this.disableScroll=me,this.priority=1e6*le+de,this.ctrl=Ee}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Ee=this.ctrl.capture(this.name,this.id,this.priority);return Ee&&this.disableScroll&&this.ctrl.disableScroll(this.id),Ee}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class Z{constructor(Ee,de,ge,le){this.id=de,this.disable=ge,this.disableScroll=le,this.ctrl=Ee}block(){if(this.ctrl){if(this.disable)for(const Ee of this.disable)this.ctrl.disableGesture(Ee,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Ee of this.disable)this.ctrl.enableGesture(Ee,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Be="backdrop-no-scroll",Se=new class l{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Ee){return new X(this,this.newID(),Ee.name,Ee.priority||0,!!Ee.disableScroll)}createBlocker(Ee={}){return new Z(this,this.newID(),Ee.disable,!!Ee.disableScroll)}start(Ee,de,ge){return this.canStart(Ee)?(this.requestedStart.set(de,ge),!0):(this.requestedStart.delete(de),!1)}capture(Ee,de,ge){if(!this.start(Ee,de,ge))return!1;const le=this.requestedStart;let me=-1e4;if(le.forEach(ie=>{me=Math.max(me,ie)}),me===ge){this.capturedId=de,le.clear();const ie=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Ee}});return document.dispatchEvent(ie),!0}return le.delete(de),!1}release(Ee){this.requestedStart.delete(Ee),this.capturedId===Ee&&(this.capturedId=void 0)}disableGesture(Ee,de){let ge=this.disabledGestures.get(Ee);void 0===ge&&(ge=new Set,this.disabledGestures.set(Ee,ge)),ge.add(de)}enableGesture(Ee,de){const ge=this.disabledGestures.get(Ee);void 0!==ge&&ge.delete(de)}disableScroll(Ee){this.disabledScroll.add(Ee),1===this.disabledScroll.size&&document.body.classList.add(Be)}enableScroll(Ee){this.disabledScroll.delete(Ee),0===this.disabledScroll.size&&document.body.classList.remove(Be)}canStart(Ee){return!(void 0!==this.capturedId||this.isDisabled(Ee))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Ee){const de=this.disabledGestures.get(Ee);return!!(de&&de.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(hn,ft,$)=>{"use strict";$.r(ft),$.d(ft,{MENU_BACK_BUTTON_PRIORITY:()=>Se,OVERLAY_BACK_BUTTON_PRIORITY:()=>Be,blockHardwareBackButton:()=>X,startHardwareBackButton:()=>Z});var l=$(5861);const X=()=>{document.addEventListener("backbutton",()=>{})},Z=()=>{const ae=document;let Ee=!1;ae.addEventListener("backbutton",()=>{if(Ee)return;let de=0,ge=[];const le=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(he,We){ge.push({priority:he,handler:We,id:de++})}}});ae.dispatchEvent(le);const me=function(){var he=(0,l.Z)(function*(We){try{if(null==We?void 0:We.handler){const Oe=We.handler(ie);null!=Oe&&(yield Oe)}}catch(Oe){console.error(Oe)}});return function(Oe){return he.apply(this,arguments)}}(),ie=()=>{if(ge.length>0){let he={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};ge.forEach(We=>{We.priority>=he.priority&&(he=We)}),Ee=!0,ge=ge.filter(We=>We.id!==he.id),me(he).then(()=>Ee=!1)}};ie()})},Be=100,Se=99},1643:(hn,ft,$)=>{"use strict";$.d(ft,{a:()=>Se,b:()=>ae,c:()=>Z,d:()=>ie,e:()=>he,f:()=>me,g:()=>Ee,h:()=>st,i:()=>Be,j:()=>le,k:()=>We,l:()=>ge,m:()=>Oe,n:()=>Ve,o:()=>Le,p:()=>ke,q:()=>_e,r:()=>de,s:()=>qe,t:()=>l});const l=(Ae,Ze=0)=>new Promise(Dt=>{X(Ae,Ze,Dt)}),X=(Ae,Ze=0,Dt)=>{let Ct,Ue;const G={passive:!0},Te=()=>{Ct&&Ct()},Ce=rt=>{(void 0===rt||Ae===rt.target)&&(Te(),Dt(rt))};return Ae&&(Ae.addEventListener("webkitTransitionEnd",Ce,G),Ae.addEventListener("transitionend",Ce,G),Ue=setTimeout(Ce,Ze+500),Ct=()=>{Ue&&(clearTimeout(Ue),Ue=void 0),Ae.removeEventListener("webkitTransitionEnd",Ce,G),Ae.removeEventListener("transitionend",Ce,G)}),Te},Z=(Ae,Ze)=>{Ae.componentOnReady?Ae.componentOnReady().then(Dt=>Ze(Dt)):de(()=>Ze(Ae))},Be=(Ae,Ze=[])=>{const Dt={};return Ze.forEach(Ct=>{Ae.hasAttribute(Ct)&&(null!==Ae.getAttribute(Ct)&&(Dt[Ct]=Ae.getAttribute(Ct)),Ae.removeAttribute(Ct))}),Dt},Se=(Ae,Ze,Dt,Ct)=>{var Ue;if("undefined"!=typeof window){const G=window,Re=null===(Ue=null==G?void 0:G.Ionic)||void 0===Ue?void 0:Ue.config;if(Re){const Te=Re.get("_ael");if(Te)return Te(Ae,Ze,Dt,Ct);if(Re._ael)return Re._ael(Ae,Ze,Dt,Ct)}}return Ae.addEventListener(Ze,Dt,Ct)},ae=(Ae,Ze,Dt,Ct)=>{var Ue;if("undefined"!=typeof window){const G=window,Re=null===(Ue=null==G?void 0:G.Ionic)||void 0===Ue?void 0:Ue.config;if(Re){const Te=Re.get("_rel");if(Te)return Te(Ae,Ze,Dt,Ct);if(Re._rel)return Re._rel(Ae,Ze,Dt,Ct)}}return Ae.removeEventListener(Ze,Dt,Ct)},Ee=(Ae,Ze=Ae)=>Ae.shadowRoot||Ze,de=Ae=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ae):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ae):setTimeout(Ae),ge=Ae=>!!Ae.shadowRoot&&!!Ae.attachShadow,le=Ae=>{const Ze=Ae.closest("ion-item");return Ze?Ze.querySelector("ion-label"):null},me=Ae=>{if(Ae.focus(),Ae.classList.contains("ion-focusable")){const Ze=Ae.closest("ion-app");Ze&&Ze.setFocus([Ae])}},ie=(Ae,Ze)=>{let Dt;const Ct=Ae.getAttribute("aria-labelledby"),Ue=Ae.id;let G=null!==Ct&&""!==Ct.trim()?Ct:Ze+"-lbl",Re=null!==Ct&&""!==Ct.trim()?document.getElementById(Ct):le(Ae);return Re?(null===Ct&&(Re.id=G),Dt=Re.textContent,Re.setAttribute("aria-hidden","true")):""!==Ue.trim()&&(Re=document.querySelector(`label[for="${Ue}"]`),Re&&(""!==Re.id?G=Re.id:Re.id=G=`${Ue}-lbl`,Dt=Re.textContent)),{label:Re,labelId:G,labelText:Dt}},he=(Ae,Ze,Dt,Ct,Ue)=>{if(Ae||ge(Ze)){let G=Ze.querySelector("input.aux-input");G||(G=Ze.ownerDocument.createElement("input"),G.type="hidden",G.classList.add("aux-input"),Ze.appendChild(G)),G.disabled=Ue,G.name=Dt,G.value=Ct||""}},We=(Ae,Ze,Dt)=>Math.max(Ae,Math.min(Ze,Dt)),Oe=(Ae,Ze)=>{if(!Ae){const Dt="ASSERT: "+Ze;throw console.error(Dt),new Error(Dt)}},_e=Ae=>Ae.timeStamp||Date.now(),ke=Ae=>{if(Ae){const Ze=Ae.changedTouches;if(Ze&&Ze.length>0){const Dt=Ze[0];return{x:Dt.clientX,y:Dt.clientY}}if(void 0!==Ae.pageX)return{x:Ae.pageX,y:Ae.pageY}}return{x:0,y:0}},Ve=Ae=>{const Ze="rtl"===document.dir;switch(Ae){case"start":return Ze;case"end":return!Ze;default:throw new Error(`"${Ae}" is not a valid value for [side]. Use "start" or "end" instead.`)}},st=(Ae,Ze)=>{const Dt=Ae._original||Ae;return{_original:Ae,emit:Le(Dt.emit.bind(Dt),Ze)}},Le=(Ae,Ze=0)=>{let Dt;return(...Ct)=>{clearTimeout(Dt),Dt=setTimeout(Ae,Ze,...Ct)}},qe=(Ae,Ze)=>{if(null!=Ae||(Ae={}),null!=Ze||(Ze={}),Ae===Ze)return!0;const Dt=Object.keys(Ae);if(Dt.length!==Object.keys(Ze).length)return!1;for(const Ct of Dt)if(!(Ct in Ze)||Ae[Ct]!==Ze[Ct])return!1;return!0}},3139:(hn,ft,$)=>{"use strict";$.r(ft),$.d(ft,{GESTURE_CONTROLLER:()=>l.G,createGesture:()=>ge});var l=$(3509);const X=(he,We,Oe,_e)=>{const ke=Z(he)?{capture:!!_e.capture,passive:!!_e.passive}:!!_e.capture;let Ve,st;return he.__zone_symbol__addEventListener?(Ve="__zone_symbol__addEventListener",st="__zone_symbol__removeEventListener"):(Ve="addEventListener",st="removeEventListener"),he[Ve](We,Oe,ke),()=>{he[st](We,Oe,ke)}},Z=he=>{if(void 0===Be)try{const We=Object.defineProperty({},"passive",{get:()=>{Be=!0}});he.addEventListener("optsTest",()=>{},We)}catch(We){Be=!1}return!!Be};let Be;const Ee=he=>he instanceof Document?he:he.ownerDocument,ge=he=>{let We=!1,Oe=!1,_e=!0,ke=!1;const Ve=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},he),st=Ve.canStart,Le=Ve.onWillStart,qe=Ve.onStart,Ae=Ve.onEnd,Ze=Ve.notCaptured,Dt=Ve.onMove,Ct=Ve.threshold,Ue=Ve.passive,G=Ve.blurOnStart,Re={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Te=((he,We,Oe)=>{const _e=Oe*(Math.PI/180),ke="x"===he,Ve=Math.cos(_e),st=We*We;let Le=0,qe=0,Ae=!1,Ze=0;return{start(Dt,Ct){Le=Dt,qe=Ct,Ze=0,Ae=!0},detect(Dt,Ct){if(!Ae)return!1;const Ue=Dt-Le,G=Ct-qe,Re=Ue*Ue+G*G;if(Re<st)return!1;const Te=Math.sqrt(Re),Ce=(ke?Ue:G)/Te;return Ze=Ce>Ve?1:Ce<-Ve?-1:0,Ae=!1,!0},isGesture:()=>0!==Ze,getDirection:()=>Ze}})(Ve.direction,Ve.threshold,Ve.maxAngle),Ce=l.G.createGesture({name:he.gestureName,priority:he.gesturePriority,disableScroll:he.disableScroll}),Xt=()=>{!We||(ke=!1,Dt&&Dt(Re))},on=()=>!(Ce&&!Ce.capture()||(We=!0,_e=!1,Re.startX=Re.currentX,Re.startY=Re.currentY,Re.startTime=Re.currentTime,Le?Le(Re).then(it):it(),0)),it=()=>{G&&(()=>{if("undefined"!=typeof document){const Je=document.activeElement;(null==Je?void 0:Je.blur)&&Je.blur()}})(),qe&&qe(Re),_e=!0},Qe=()=>{We=!1,Oe=!1,ke=!1,_e=!0,Ce.release()},at=Je=>{const Tt=We,dt=_e;if(Qe(),dt){if(le(Re,Je),Tt)return void(Ae&&Ae(Re));Ze&&Ze(Re)}},lt=((he,We,Oe,_e,ke)=>{let Ve,st,Le,qe,Ae,Ze,Dt,Ct=0;const Ue=mt=>{Ct=Date.now()+2e3,We(mt)&&(!st&&Oe&&(st=X(he,"touchmove",Oe,ke)),Le||(Le=X(mt.target,"touchend",Re,ke)),qe||(qe=X(mt.target,"touchcancel",Re,ke)))},G=mt=>{Ct>Date.now()||!We(mt)||(!Ze&&Oe&&(Ze=X(Ee(he),"mousemove",Oe,ke)),Dt||(Dt=X(Ee(he),"mouseup",Te,ke)))},Re=mt=>{Ce(),_e&&_e(mt)},Te=mt=>{rt(),_e&&_e(mt)},Ce=()=>{st&&st(),Le&&Le(),qe&&qe(),st=Le=qe=void 0},rt=()=>{Ze&&Ze(),Dt&&Dt(),Ze=Dt=void 0},et=()=>{Ce(),rt()},Xt=(mt=!0)=>{mt?(Ve||(Ve=X(he,"touchstart",Ue,ke)),Ae||(Ae=X(he,"mousedown",G,ke))):(Ve&&Ve(),Ae&&Ae(),Ve=Ae=void 0,et())};return{enable:Xt,stop:et,destroy:()=>{Xt(!1),_e=Oe=We=void 0}}})(Ve.el,Je=>{const Tt=ie(Je);return!(Oe||!_e||(me(Je,Re),Re.startX=Re.currentX,Re.startY=Re.currentY,Re.startTime=Re.currentTime=Tt,Re.velocityX=Re.velocityY=Re.deltaX=Re.deltaY=0,Re.event=Je,st&&!1===st(Re))||(Ce.release(),!Ce.start()))&&(Oe=!0,0===Ct?on():(Te.start(Re.startX,Re.startY),!0))},Je=>{We?!ke&&_e&&(ke=!0,le(Re,Je),requestAnimationFrame(Xt)):(le(Re,Je),Te.detect(Re.currentX,Re.currentY)&&(!Te.isGesture()||!on())&&Me())},at,{capture:!1,passive:Ue}),Me=()=>{Qe(),lt.stop(),Ze&&Ze(Re)};return{enable(Je=!0){Je||(We&&at(void 0),Qe()),lt.enable(Je)},destroy(){Ce.destroy(),lt.destroy()}}},le=(he,We)=>{if(!We)return;const Oe=he.currentX,_e=he.currentY,ke=he.currentTime;me(We,he);const Ve=he.currentX,st=he.currentY,qe=(he.currentTime=ie(We))-ke;if(qe>0&&qe<100){const Ze=(st-_e)/qe;he.velocityX=(Ve-Oe)/qe*.7+.3*he.velocityX,he.velocityY=.7*Ze+.3*he.velocityY}he.deltaX=Ve-he.startX,he.deltaY=st-he.startY,he.event=We},me=(he,We)=>{let Oe=0,_e=0;if(he){const ke=he.changedTouches;if(ke&&ke.length>0){const Ve=ke[0];Oe=Ve.clientX,_e=Ve.clientY}else void 0!==he.pageX&&(Oe=he.pageX,_e=he.pageY)}We.currentX=Oe,We.currentY=_e},ie=he=>he.timeStamp||Date.now()},6708:(hn,ft,$)=>{"use strict";$.d(ft,{m:()=>me});var l=$(5861),X=$(7593),Z=$(1643),Be=$(6254),Se=$(8015);const ae=ie=>(0,Se.c)().duration(ie?400:300),Ee=ie=>{let he,We;const Oe=ie.width+8,_e=(0,Se.c)(),ke=(0,Se.c)();ie.isEndSide?(he=Oe+"px",We="0px"):(he=-Oe+"px",We="0px"),_e.addElement(ie.menuInnerEl).fromTo("transform",`translateX(${he})`,`translateX(${We})`);const st="ios"===(0,Be.b)(ie),Le=st?.2:.25;return ke.addElement(ie.backdropEl).fromTo("opacity",.01,Le),ae(st).addAnimation([_e,ke])},de=ie=>{let he,We;const Oe=(0,Be.b)(ie),_e=ie.width;ie.isEndSide?(he=-_e+"px",We=_e+"px"):(he=_e+"px",We=-_e+"px");const ke=(0,Se.c)().addElement(ie.menuInnerEl).fromTo("transform",`translateX(${We})`,"translateX(0px)"),Ve=(0,Se.c)().addElement(ie.contentEl).fromTo("transform","translateX(0px)",`translateX(${he})`),st=(0,Se.c)().addElement(ie.backdropEl).fromTo("opacity",.01,.32);return ae("ios"===Oe).addAnimation([ke,Ve,st])},ge=ie=>{const he=(0,Be.b)(ie),We=ie.width*(ie.isEndSide?-1:1)+"px",Oe=(0,Se.c)().addElement(ie.contentEl).fromTo("transform","translateX(0px)",`translateX(${We})`);return ae("ios"===he).addAnimation(Oe)},me=(()=>{const ie=new Map,he=[],We=function(){var it=(0,l.Z)(function*(Qe){const at=yield qe(Qe);return!!at&&at.open()});return function(at){return it.apply(this,arguments)}}(),Oe=function(){var it=(0,l.Z)(function*(Qe){const at=yield void 0!==Qe?qe(Qe):Ae();return void 0!==at&&at.close()});return function(at){return it.apply(this,arguments)}}(),_e=function(){var it=(0,l.Z)(function*(Qe){const at=yield qe(Qe);return!!at&&at.toggle()});return function(at){return it.apply(this,arguments)}}(),ke=function(){var it=(0,l.Z)(function*(Qe,at){const lt=yield qe(at);return lt&&(lt.disabled=!Qe),lt});return function(at,lt){return it.apply(this,arguments)}}(),Ve=function(){var it=(0,l.Z)(function*(Qe,at){const lt=yield qe(at);return lt&&(lt.swipeGesture=Qe),lt});return function(at,lt){return it.apply(this,arguments)}}(),st=function(){var it=(0,l.Z)(function*(Qe){if(null!=Qe){const at=yield qe(Qe);return void 0!==at&&at.isOpen()}return void 0!==(yield Ae())});return function(at){return it.apply(this,arguments)}}(),Le=function(){var it=(0,l.Z)(function*(Qe){const at=yield qe(Qe);return!!at&&!at.disabled});return function(at){return it.apply(this,arguments)}}(),qe=function(){var it=(0,l.Z)(function*(Qe){return yield mt(),"start"===Qe||"end"===Qe?on(Me=>Me.side===Qe&&!Me.disabled)||on(Me=>Me.side===Qe):null!=Qe?on(lt=>lt.menuId===Qe):on(lt=>!lt.disabled)||(he.length>0?he[0].el:void 0)});return function(at){return it.apply(this,arguments)}}(),Ae=function(){var it=(0,l.Z)(function*(){return yield mt(),rt()});return function(){return it.apply(this,arguments)}}(),Ze=function(){var it=(0,l.Z)(function*(){return yield mt(),et()});return function(){return it.apply(this,arguments)}}(),Dt=function(){var it=(0,l.Z)(function*(){return yield mt(),Xt()});return function(){return it.apply(this,arguments)}}(),Ct=(it,Qe)=>{ie.set(it,Qe)},Re=it=>{const Qe=it.side;he.filter(at=>at.side===Qe&&at!==it).forEach(at=>at.disabled=!0)},Te=function(){var it=(0,l.Z)(function*(Qe,at,lt){if(Xt())return!1;if(at){const Me=yield Ae();Me&&Qe.el!==Me&&(yield Me.setOpen(!1,!1))}return Qe._setOpen(at,lt)});return function(at,lt,Me){return it.apply(this,arguments)}}(),rt=()=>on(it=>it._isOpen),et=()=>he.map(it=>it.el),Xt=()=>he.some(it=>it.isAnimating),on=it=>{const Qe=he.find(it);if(void 0!==Qe)return Qe.el},mt=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(it=>new Promise(Qe=>(0,Z.c)(it,Qe))));return Ct("reveal",ge),Ct("push",de),Ct("overlay",Ee),"undefined"!=typeof document&&document.addEventListener("ionBackButton",it=>{const Qe=rt();Qe&&it.detail.register(X.MENU_BACK_BUTTON_PRIORITY,()=>Qe.close())}),{registerAnimation:Ct,get:qe,getMenus:Ze,getOpen:Ae,isEnabled:Le,swipeGesture:Ve,isAnimating:Dt,isOpen:st,enable:ke,toggle:_e,close:Oe,open:We,_getOpenSync:rt,_createAnimation:(it,Qe)=>{const at=ie.get(it);if(!at)throw new Error("animation not registered");return at(Qe)},_register:it=>{he.indexOf(it)<0&&(it.disabled||Re(it),he.push(it))},_unregister:it=>{const Qe=he.indexOf(it);Qe>-1&&he.splice(Qe,1)},_setOpen:Te,_setActiveMenu:Re}})()},2361:(hn,ft,$)=>{"use strict";$.d(ft,{B:()=>Mi,H:()=>An,a:()=>Me,b:()=>Mr,c:()=>Di,e:()=>Wn,f:()=>qr,g:()=>Je,h:()=>fn,i:()=>fr,j:()=>Ie,k:()=>Hr,p:()=>_e,r:()=>jn,s:()=>We});var l=$(5861);let Z,Be,Se,ae=!1,Ee=!1,de=!1,ge=!1,le=!1;const me="undefined"!=typeof window?window:{},ie=me.document||{head:{}},he={$flags$:0,$resourcesUrl$:"",jmp:ee=>ee(),raf:ee=>requestAnimationFrame(ee),ael:(ee,pe,He,ct)=>ee.addEventListener(pe,He,ct),rel:(ee,pe,He,ct)=>ee.removeEventListener(pe,He,ct),ce:(ee,pe)=>new CustomEvent(ee,pe)},We=ee=>{Object.assign(he,ee)},_e=ee=>Promise.resolve(ee),ke=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch(ee){}return!1})(),Ve=(ee,pe,He,ct)=>{He&&He.map(([ye,xe,ut])=>{const Pt=Le(ee,ye),Lt=st(pe,ut),kt=qe(ye);he.ael(Pt,xe,Lt,kt),(pe.$rmListeners$=pe.$rmListeners$||[]).push(()=>he.rel(Pt,xe,Lt,kt))})},st=(ee,pe)=>He=>{try{256&ee.$flags$?ee.$lazyInstance$[pe](He):(ee.$queuedListeners$=ee.$queuedListeners$||[]).push([pe,He])}catch(ct){oi(ct)}},Le=(ee,pe)=>4&pe?ie:8&pe?me:16&pe?ie.body:ee,qe=ee=>0!=(2&ee),Ue="s-id",G="sty-id",Ce="http://www.w3.org/1999/xlink",Xt=new WeakMap,on=(ee,pe,He)=>{let ct=Sr.get(ee);ke&&He?(ct=ct||new CSSStyleSheet,ct.replace(pe)):ct=pe,Sr.set(ee,ct)},mt=(ee,pe,He,ct)=>{let ye=Qe(pe,He),xe=Sr.get(ye);if(ee=11===ee.nodeType?ee:ie,xe)if("string"==typeof xe){let Pt,ut=Xt.get(ee=ee.head||ee);ut||Xt.set(ee,ut=new Set),ut.has(ye)||(ee.host&&(Pt=ee.querySelector(`[${G}="${ye}"]`))?Pt.innerHTML=xe:(Pt=ie.createElement("style"),Pt.innerHTML=xe,ee.insertBefore(Pt,ee.querySelector("link"))),ut&&ut.add(ye))}else ee.adoptedStyleSheets.includes(xe)||(ee.adoptedStyleSheets=[...ee.adoptedStyleSheets,xe]);return ye},Qe=(ee,pe)=>"sc-"+(pe&&32&ee.$flags$?ee.$tagName$+"-"+pe:ee.$tagName$),at=ee=>ee.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Me=ee=>Ar.push(ee),Je=ee=>qt(ee).$modeName$,Tt={},_n=ee=>"object"==(ee=typeof ee)||"function"===ee,fn=(ee,pe,...He)=>{let ct=null,ye=null,xe=null,ut=!1,Pt=!1,Lt=[];const kt=Ln=>{for(let rr=0;rr<Ln.length;rr++)ct=Ln[rr],Array.isArray(ct)?kt(ct):null!=ct&&"boolean"!=typeof ct&&((ut="function"!=typeof ee&&!_n(ct))&&(ct=String(ct)),ut&&Pt?Lt[Lt.length-1].$text$+=ct:Lt.push(ut?Jt(null,ct):ct),Pt=ut)};if(kt(He),pe){pe.key&&(ye=pe.key),pe.name&&(xe=pe.name);{const Ln=pe.className||pe.class;Ln&&(pe.class="object"!=typeof Ln?Ln:Object.keys(Ln).filter(rr=>Ln[rr]).join(" "))}}if("function"==typeof ee)return ee(null===pe?{}:pe,Lt,yr);const yn=Jt(ee,null);return yn.$attrs$=pe,Lt.length>0&&(yn.$children$=Lt),yn.$key$=ye,yn.$name$=xe,yn},Jt=(ee,pe)=>({$flags$:0,$tag$:ee,$text$:pe,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),An={},yr={forEach:(ee,pe)=>ee.map(Jn).forEach(pe),map:(ee,pe)=>ee.map(Jn).map(pe).map(rn)},Jn=ee=>({vattrs:ee.$attrs$,vchildren:ee.$children$,vkey:ee.$key$,vname:ee.$name$,vtag:ee.$tag$,vtext:ee.$text$}),rn=ee=>{if("function"==typeof ee.vtag){const He=Object.assign({},ee.vattrs);return ee.vkey&&(He.key=ee.vkey),ee.vname&&(He.name=ee.vname),fn(ee.vtag,He,...ee.vchildren||[])}const pe=Jt(ee.vtag,ee.vtext);return pe.$attrs$=ee.vattrs,pe.$children$=ee.vchildren,pe.$key$=ee.vkey,pe.$name$=ee.vname,pe},nr=(ee,pe,He,ct,ye,xe)=>{if(He!==ct){let ut=ri(ee,pe),Pt=pe.toLowerCase();if("class"===pe){const Lt=ee.classList,kt=er(He),yn=er(ct);Lt.remove(...kt.filter(Ln=>Ln&&!yn.includes(Ln))),Lt.add(...yn.filter(Ln=>Ln&&!kt.includes(Ln)))}else if("style"===pe){for(const Lt in He)(!ct||null==ct[Lt])&&(Lt.includes("-")?ee.style.removeProperty(Lt):ee.style[Lt]="");for(const Lt in ct)(!He||ct[Lt]!==He[Lt])&&(Lt.includes("-")?ee.style.setProperty(Lt,ct[Lt]):ee.style[Lt]=ct[Lt])}else if("key"!==pe)if("ref"===pe)ct&&ct(ee);else if(ut||"o"!==pe[0]||"n"!==pe[1]){const Lt=_n(ct);if((ut||Lt&&null!==ct)&&!ye)try{if(ee.tagName.includes("-"))ee[pe]=ct;else{let yn=null==ct?"":ct;"list"===pe?ut=!1:(null==He||ee[pe]!=yn)&&(ee[pe]=yn)}}catch(yn){}let kt=!1;Pt!==(Pt=Pt.replace(/^xlink\:?/,""))&&(pe=Pt,kt=!0),null==ct||!1===ct?(!1!==ct||""===ee.getAttribute(pe))&&(kt?ee.removeAttributeNS(Ce,pe):ee.removeAttribute(pe)):(!ut||4&xe||ye)&&!Lt&&(ct=!0===ct?"":ct,kt?ee.setAttributeNS(Ce,pe,ct):ee.setAttribute(pe,ct))}else pe="-"===pe[2]?pe.slice(3):ri(me,Pt)?Pt.slice(2):Pt[2]+pe.slice(3),He&&he.rel(ee,pe,He,!1),ct&&he.ael(ee,pe,ct,!1)}},Nn=/\s/,er=ee=>ee?ee.split(Nn):[],Tn=(ee,pe,He,ct)=>{const ye=11===pe.$elm$.nodeType&&pe.$elm$.host?pe.$elm$.host:pe.$elm$,xe=ee&&ee.$attrs$||Tt,ut=pe.$attrs$||Tt;for(ct in xe)ct in ut||nr(ye,ct,xe[ct],void 0,He,pe.$flags$);for(ct in ut)nr(ye,ct,xe[ct],ut[ct],He,pe.$flags$)},xr=(ee,pe,He,ct)=>{let ut,Pt,Lt,ye=pe.$children$[He],xe=0;if(ae||(de=!0,"slot"===ye.$tag$&&(Z&&ct.classList.add(Z+"-s"),ye.$flags$|=ye.$children$?2:1)),null!==ye.$text$)ut=ye.$elm$=ie.createTextNode(ye.$text$);else if(1&ye.$flags$)ut=ye.$elm$=ie.createTextNode("");else{if(ge||(ge="svg"===ye.$tag$),ut=ye.$elm$=ie.createElementNS(ge?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&ye.$flags$?"slot-fb":ye.$tag$),ge&&"foreignObject"===ye.$tag$&&(ge=!1),Tn(null,ye,ge),(ee=>null!=ee)(Z)&&ut["s-si"]!==Z&&ut.classList.add(ut["s-si"]=Z),ye.$children$)for(xe=0;xe<ye.$children$.length;++xe)Pt=xr(ee,ye,xe,ut),Pt&&ut.appendChild(Pt);"svg"===ye.$tag$?ge=!1:"foreignObject"===ut.tagName&&(ge=!0)}return ut["s-hn"]=Se,3&ye.$flags$&&(ut["s-sr"]=!0,ut["s-cr"]=Be,ut["s-sn"]=ye.$name$||"",Lt=ee&&ee.$children$&&ee.$children$[He],Lt&&Lt.$tag$===ye.$tag$&&ee.$elm$&&ot(ee.$elm$,!1)),ut},ot=(ee,pe)=>{he.$flags$|=1;const He=ee.childNodes;for(let ct=He.length-1;ct>=0;ct--){const ye=He[ct];ye["s-hn"]!==Se&&ye["s-ol"]&&(gn(ye).insertBefore(ye,Gt(ye)),ye["s-ol"].remove(),ye["s-ol"]=void 0,de=!0),pe&&ot(ye,pe)}he.$flags$&=-2},Fe=(ee,pe,He,ct,ye,xe)=>{let Pt,ut=ee["s-cr"]&&ee["s-cr"].parentNode||ee;for(ut.shadowRoot&&ut.tagName===Se&&(ut=ut.shadowRoot);ye<=xe;++ye)ct[ye]&&(Pt=xr(null,He,ye,ee),Pt&&(ct[ye].$elm$=Pt,ut.insertBefore(Pt,Gt(pe))))},ve=(ee,pe,He,ct,ye)=>{for(;pe<=He;++pe)(ct=ee[pe])&&(ye=ct.$elm$,_r(ct),Ee=!0,ye["s-ol"]?ye["s-ol"].remove():ot(ye,!0),ye.remove())},At=(ee,pe)=>ee.$tag$===pe.$tag$&&("slot"===ee.$tag$?ee.$name$===pe.$name$:ee.$key$===pe.$key$),Gt=ee=>ee&&ee["s-ol"]||ee,gn=ee=>(ee["s-ol"]?ee["s-ol"]:ee).parentNode,Qn=(ee,pe)=>{const He=pe.$elm$=ee.$elm$,ct=ee.$children$,ye=pe.$children$,xe=pe.$tag$,ut=pe.$text$;let Pt;null===ut?(ge="svg"===xe||"foreignObject"!==xe&&ge,"slot"===xe||Tn(ee,pe,ge),null!==ct&&null!==ye?((ee,pe,He,ct)=>{let Ri,ji,ye=0,xe=0,ut=0,Pt=0,Lt=pe.length-1,kt=pe[0],yn=pe[Lt],Ln=ct.length-1,rr=ct[0],cr=ct[Ln];for(;ye<=Lt&&xe<=Ln;)if(null==kt)kt=pe[++ye];else if(null==yn)yn=pe[--Lt];else if(null==rr)rr=ct[++xe];else if(null==cr)cr=ct[--Ln];else if(At(kt,rr))Qn(kt,rr),kt=pe[++ye],rr=ct[++xe];else if(At(yn,cr))Qn(yn,cr),yn=pe[--Lt],cr=ct[--Ln];else if(At(kt,cr))("slot"===kt.$tag$||"slot"===cr.$tag$)&&ot(kt.$elm$.parentNode,!1),Qn(kt,cr),ee.insertBefore(kt.$elm$,yn.$elm$.nextSibling),kt=pe[++ye],cr=ct[--Ln];else if(At(yn,rr))("slot"===kt.$tag$||"slot"===cr.$tag$)&&ot(yn.$elm$.parentNode,!1),Qn(yn,rr),ee.insertBefore(yn.$elm$,kt.$elm$),yn=pe[--Lt],rr=ct[++xe];else{for(ut=-1,Pt=ye;Pt<=Lt;++Pt)if(pe[Pt]&&null!==pe[Pt].$key$&&pe[Pt].$key$===rr.$key$){ut=Pt;break}ut>=0?(ji=pe[ut],ji.$tag$!==rr.$tag$?Ri=xr(pe&&pe[xe],He,ut,ee):(Qn(ji,rr),pe[ut]=void 0,Ri=ji.$elm$),rr=ct[++xe]):(Ri=xr(pe&&pe[xe],He,xe,ee),rr=ct[++xe]),Ri&&gn(kt.$elm$).insertBefore(Ri,Gt(kt.$elm$))}ye>Lt?Fe(ee,null==ct[Ln+1]?null:ct[Ln+1].$elm$,He,ct,xe,Ln):xe>Ln&&ve(pe,ye,Lt)})(He,ct,pe,ye):null!==ye?(null!==ee.$text$&&(He.textContent=""),Fe(He,null,pe,ye,0,ye.length-1)):null!==ct&&ve(ct,0,ct.length-1),ge&&"svg"===xe&&(ge=!1)):(Pt=He["s-cr"])?Pt.parentNode.textContent=ut:ee.$text$!==ut&&(He.data=ut)},Gn=ee=>{let He,ct,ye,xe,ut,Pt,pe=ee.childNodes;for(ct=0,ye=pe.length;ct<ye;ct++)if(He=pe[ct],1===He.nodeType){if(He["s-sr"])for(ut=He["s-sn"],He.hidden=!1,xe=0;xe<ye;xe++)if(Pt=pe[xe].nodeType,pe[xe]["s-hn"]!==He["s-hn"]||""!==ut){if(1===Pt&&ut===pe[xe].getAttribute("slot")){He.hidden=!0;break}}else if(1===Pt||3===Pt&&""!==pe[xe].textContent.trim()){He.hidden=!0;break}Gn(He)}},Cn=[],xn=ee=>{let pe,He,ct,ye,xe,ut,Pt=0,Lt=ee.childNodes,kt=Lt.length;for(;Pt<kt;Pt++){if(pe=Lt[Pt],pe["s-sr"]&&(He=pe["s-cr"])&&He.parentNode)for(ct=He.parentNode.childNodes,ye=pe["s-sn"],ut=ct.length-1;ut>=0;ut--)He=ct[ut],!He["s-cn"]&&!He["s-nr"]&&He["s-hn"]!==pe["s-hn"]&&(ei(He,ye)?(xe=Cn.find(yn=>yn.$nodeToRelocate$===He),Ee=!0,He["s-sn"]=He["s-sn"]||ye,xe?xe.$slotRefNode$=pe:Cn.push({$slotRefNode$:pe,$nodeToRelocate$:He}),He["s-sr"]&&Cn.map(yn=>{ei(yn.$nodeToRelocate$,He["s-sn"])&&(xe=Cn.find(Ln=>Ln.$nodeToRelocate$===He),xe&&!yn.$slotRefNode$&&(yn.$slotRefNode$=xe.$slotRefNode$))})):Cn.some(yn=>yn.$nodeToRelocate$===He)||Cn.push({$nodeToRelocate$:He}));1===pe.nodeType&&xn(pe)}},ei=(ee,pe)=>1===ee.nodeType?null===ee.getAttribute("slot")&&""===pe||ee.getAttribute("slot")===pe:ee["s-sn"]===pe||""===pe,_r=ee=>{ee.$attrs$&&ee.$attrs$.ref&&ee.$attrs$.ref(null),ee.$children$&&ee.$children$.map(_r)},fr=ee=>qt(ee).$hostElement$,Wn=(ee,pe,He)=>{const ct=fr(ee);return{emit:ye=>pn(ct,pe,{bubbles:!!(4&He),composed:!!(2&He),cancelable:!!(1&He),detail:ye})}},pn=(ee,pe,He)=>{const ct=he.ce(pe,He);return ee.dispatchEvent(ct),ct},Nt=(ee,pe)=>{pe&&!ee.$onRenderResolve$&&pe["s-p"]&&pe["s-p"].push(new Promise(He=>ee.$onRenderResolve$=He))},cn=(ee,pe)=>{if(ee.$flags$|=16,!(4&ee.$flags$))return Nt(ee,ee.$ancestorComponent$),Di(()=>Pn(ee,pe));ee.$flags$|=512},Pn=(ee,pe)=>{const ct=ee.$lazyInstance$;let ye;return pe&&(ee.$flags$|=256,ee.$queuedListeners$&&(ee.$queuedListeners$.map(([xe,ut])=>bt(ct,xe,ut)),ee.$queuedListeners$=null),ye=bt(ct,"componentWillLoad")),ye=pt(ye,()=>bt(ct,"componentWillRender")),pt(ye,()=>sr(ee,ct,pe))},sr=function(){var ee=(0,l.Z)(function*(pe,He,ct){const ye=pe.$hostElement$,ut=ye["s-rc"];ct&&(ee=>{const pe=ee.$cmpMeta$,He=ee.$hostElement$,ct=pe.$flags$,xe=mt(He.shadowRoot?He.shadowRoot:He.getRootNode(),pe,ee.$modeName$);10&ct&&(He["s-sc"]=xe,He.classList.add(xe+"-h"),2&ct&&He.classList.add(xe+"-s"))})(pe);Yn(pe,He),ut&&(ut.map(Lt=>Lt()),ye["s-rc"]=void 0);{const Lt=ye["s-p"],kt=()=>$e(pe);0===Lt.length?kt():(Promise.all(Lt).then(kt),pe.$flags$|=4,Lt.length=0)}});return function(He,ct,ye){return ee.apply(this,arguments)}}(),Yn=(ee,pe,He)=>{try{pe=pe.render&&pe.render(),ee.$flags$&=-17,ee.$flags$|=2,((ee,pe)=>{const He=ee.$hostElement$,ct=ee.$cmpMeta$,ye=ee.$vnode$||Jt(null,null),xe=(ee=>ee&&ee.$tag$===An)(pe)?pe:fn(null,null,pe);if(Se=He.tagName,ct.$attrsToReflect$&&(xe.$attrs$=xe.$attrs$||{},ct.$attrsToReflect$.map(([ut,Pt])=>xe.$attrs$[Pt]=He[ut])),xe.$tag$=null,xe.$flags$|=4,ee.$vnode$=xe,xe.$elm$=ye.$elm$=He.shadowRoot||He,Z=He["s-sc"],Be=He["s-cr"],ae=0!=(1&ct.$flags$),Ee=!1,Qn(ye,xe),he.$flags$|=1,de){xn(xe.$elm$);let ut,Pt,Lt,kt,yn,Ln,rr=0;for(;rr<Cn.length;rr++)ut=Cn[rr],Pt=ut.$nodeToRelocate$,Pt["s-ol"]||(Lt=ie.createTextNode(""),Lt["s-nr"]=Pt,Pt.parentNode.insertBefore(Pt["s-ol"]=Lt,Pt));for(rr=0;rr<Cn.length;rr++)if(ut=Cn[rr],Pt=ut.$nodeToRelocate$,ut.$slotRefNode$){for(kt=ut.$slotRefNode$.parentNode,yn=ut.$slotRefNode$.nextSibling,Lt=Pt["s-ol"];Lt=Lt.previousSibling;)if(Ln=Lt["s-nr"],Ln&&Ln["s-sn"]===Pt["s-sn"]&&kt===Ln.parentNode&&(Ln=Ln.nextSibling,!Ln||!Ln["s-nr"])){yn=Ln;break}(!yn&&kt!==Pt.parentNode||Pt.nextSibling!==yn)&&Pt!==yn&&(!Pt["s-hn"]&&Pt["s-ol"]&&(Pt["s-hn"]=Pt["s-ol"].parentNode.nodeName),kt.insertBefore(Pt,yn))}else 1===Pt.nodeType&&(Pt.hidden=!0)}Ee&&Gn(xe.$elm$),he.$flags$&=-2,Cn.length=0})(ee,pe)}catch(ct){oi(ct,ee.$hostElement$)}return null},$e=ee=>{const He=ee.$hostElement$,ye=ee.$lazyInstance$,xe=ee.$ancestorComponent$;bt(ye,"componentDidRender"),64&ee.$flags$?bt(ye,"componentDidUpdate"):(ee.$flags$|=64,sn(He),bt(ye,"componentDidLoad"),ee.$onReadyResolve$(He),xe||je()),ee.$onInstanceResolve$(He),ee.$onRenderResolve$&&(ee.$onRenderResolve$(),ee.$onRenderResolve$=void 0),512&ee.$flags$&&Mn(()=>cn(ee,!1)),ee.$flags$&=-517},Ie=ee=>{{const pe=qt(ee),He=pe.$hostElement$.isConnected;return He&&2==(18&pe.$flags$)&&cn(pe,!1),He}},je=ee=>{sn(ie.documentElement),Mn(()=>pn(me,"appload",{detail:{namespace:"ionic"}}))},bt=(ee,pe,He)=>{if(ee&&ee[pe])try{return ee[pe](He)}catch(ct){oi(ct)}},pt=(ee,pe)=>ee&&ee.then?ee.then(pe):pe(),sn=ee=>ee.classList.add("hydrated"),vr=(ee,pe,He,ct,ye,xe,ut)=>{let Pt,Lt,kt,yn;if(1===xe.nodeType){for(Pt=xe.getAttribute("c-id"),Pt&&(Lt=Pt.split("."),(Lt[0]===ut||"0"===Lt[0])&&(kt={$flags$:0,$hostId$:Lt[0],$nodeId$:Lt[1],$depth$:Lt[2],$index$:Lt[3],$tag$:xe.tagName.toLowerCase(),$elm$:xe,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},pe.push(kt),xe.removeAttribute("c-id"),ee.$children$||(ee.$children$=[]),ee.$children$[kt.$index$]=kt,ee=kt,ct&&"0"===kt.$depth$&&(ct[kt.$index$]=kt.$elm$))),yn=xe.childNodes.length-1;yn>=0;yn--)vr(ee,pe,He,ct,ye,xe.childNodes[yn],ut);if(xe.shadowRoot)for(yn=xe.shadowRoot.childNodes.length-1;yn>=0;yn--)vr(ee,pe,He,ct,ye,xe.shadowRoot.childNodes[yn],ut)}else if(8===xe.nodeType)Lt=xe.nodeValue.split("."),(Lt[1]===ut||"0"===Lt[1])&&(Pt=Lt[0],kt={$flags$:0,$hostId$:Lt[1],$nodeId$:Lt[2],$depth$:Lt[3],$index$:Lt[4],$elm$:xe,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Pt?(kt.$elm$=xe.nextSibling,kt.$elm$&&3===kt.$elm$.nodeType&&(kt.$text$=kt.$elm$.textContent,pe.push(kt),xe.remove(),ee.$children$||(ee.$children$=[]),ee.$children$[kt.$index$]=kt,ct&&"0"===kt.$depth$&&(ct[kt.$index$]=kt.$elm$))):kt.$hostId$===ut&&("s"===Pt?(kt.$tag$="slot",xe["s-sn"]=Lt[5]?kt.$name$=Lt[5]:"",xe["s-sr"]=!0,ct&&(kt.$elm$=ie.createElement(kt.$tag$),kt.$name$&&kt.$elm$.setAttribute("name",kt.$name$),xe.parentNode.insertBefore(kt.$elm$,xe),xe.remove(),"0"===kt.$depth$&&(ct[kt.$index$]=kt.$elm$)),He.push(kt),ee.$children$||(ee.$children$=[]),ee.$children$[kt.$index$]=kt):"r"===Pt&&(ct?xe.remove():(ye["s-cr"]=xe,xe["s-cn"]=!0))));else if(ee&&"style"===ee.$tag$){const Ln=Jt(null,xe.textContent);Ln.$elm$=xe,Ln.$index$="0",ee.$children$=[Ln]}},ui=(ee,pe)=>{if(1===ee.nodeType){let He=0;for(;He<ee.childNodes.length;He++)ui(ee.childNodes[He],pe);if(ee.shadowRoot)for(He=0;He<ee.shadowRoot.childNodes.length;He++)ui(ee.shadowRoot.childNodes[He],pe)}else if(8===ee.nodeType){const He=ee.nodeValue.split(".");"o"===He[0]&&(pe.set(He[1]+"."+He[2],ee),ee.nodeValue="",ee["s-en"]=He[3])}},Br=(ee,pe,He)=>{if(pe.$members$){ee.watchers&&(pe.$watchers$=ee.watchers);const ct=Object.entries(pe.$members$),ye=ee.prototype;if(ct.map(([xe,[ut]])=>{31&ut||2&He&&32&ut?Object.defineProperty(ye,xe,{get(){return((ee,pe)=>qt(this).$instanceValues$.get(pe))(0,xe)},set(Pt){((ee,pe,He,ct)=>{const ye=qt(ee),xe=ye.$hostElement$,ut=ye.$instanceValues$.get(pe),Pt=ye.$flags$,Lt=ye.$lazyInstance$;He=((ee,pe)=>null==ee||_n(ee)?ee:4&pe?"false"!==ee&&(""===ee||!!ee):2&pe?parseFloat(ee):1&pe?String(ee):ee)(He,ct.$members$[pe][0]);const kt=Number.isNaN(ut)&&Number.isNaN(He);if((!(8&Pt)||void 0===ut)&&He!==ut&&!kt&&(ye.$instanceValues$.set(pe,He),Lt)){if(ct.$watchers$&&128&Pt){const Ln=ct.$watchers$[pe];Ln&&Ln.map(rr=>{try{Lt[rr](He,ut,pe)}catch(cr){oi(cr,xe)}})}2==(18&Pt)&&cn(ye,!1)}})(this,xe,Pt,pe)},configurable:!0,enumerable:!0}):1&He&&64&ut&&Object.defineProperty(ye,xe,{value(...Pt){const Lt=qt(this);return Lt.$onInstancePromise$.then(()=>Lt.$lazyInstance$[xe](...Pt))}})}),1&He){const xe=new Map;ye.attributeChangedCallback=function(ut,Pt,Lt){he.jmp(()=>{const kt=xe.get(ut);if(this.hasOwnProperty(kt))Lt=this[kt],delete this[kt];else if(ye.hasOwnProperty(kt)&&"number"==typeof this[kt]&&this[kt]==Lt)return;this[kt]=(null!==Lt||"boolean"!=typeof this[kt])&&Lt})},ee.observedAttributes=ct.filter(([ut,Pt])=>15&Pt[0]).map(([ut,Pt])=>{const Lt=Pt[1]||ut;return xe.set(Lt,ut),512&Pt[0]&&pe.$attrsToReflect$.push([ut,Lt]),Lt})}}return ee},Wr=function(){var ee=(0,l.Z)(function*(pe,He,ct,ye,xe){if(0==(32&He.$flags$)){{if(He.$flags$|=32,(xe=gi(ct)).then){const kt=()=>{};xe=yield xe,kt()}xe.isProxied||(ct.$watchers$=xe.watchers,Br(xe,ct,2),xe.isProxied=!0);const Lt=()=>{};He.$flags$|=8;try{new xe(He)}catch(kt){oi(kt)}He.$flags$&=-9,He.$flags$|=128,Lt(),Kn(He.$lazyInstance$)}if(xe.style){let Lt=xe.style;"string"!=typeof Lt&&(Lt=Lt[He.$modeName$=(ee=>Ar.map(pe=>pe(ee)).find(pe=>!!pe))(pe)]);const kt=Qe(ct,He.$modeName$);if(!Sr.has(kt)){const yn=()=>{};on(kt,Lt,!!(1&ct.$flags$)),yn()}}}const ut=He.$ancestorComponent$,Pt=()=>cn(He,!0);ut&&ut["s-rc"]?ut["s-rc"].push(Pt):Pt()});return function(He,ct,ye,xe,ut){return ee.apply(this,arguments)}}(),Kn=ee=>{bt(ee,"connectedCallback")},ls=ee=>{const pe=ee["s-cr"]=ie.createComment("");pe["s-cn"]=!0,ee.insertBefore(pe,ee.firstChild)},Mr=(ee,pe={})=>{const ct=[],ye=pe.exclude||[],xe=me.customElements,ut=ie.head,Pt=ut.querySelector("meta[charset]"),Lt=ie.createElement("style"),kt=[],yn=ie.querySelectorAll(`[${G}]`);let Ln,rr=!0,cr=0;for(Object.assign(he,pe),he.$resourcesUrl$=new URL(pe.resourcesUrl||"./",ie.baseURI).href,he.$flags$|=2;cr<yn.length;cr++)on(yn[cr].getAttribute(G),at(yn[cr].innerHTML),!0);ee.map(Ri=>{Ri[1].map(ji=>{const Xe={$flags$:ji[0],$tagName$:ji[1],$members$:ji[2],$listeners$:ji[3]};Xe.$members$=ji[2],Xe.$listeners$=ji[3],Xe.$attrsToReflect$=[],Xe.$watchers$={};const tt=Xe.$tagName$,_t=class extends HTMLElement{constructor(It){super(It),mr(It=this,Xe),1&Xe.$flags$&&It.attachShadow({mode:"open",delegatesFocus:!!(16&Xe.$flags$)})}connectedCallback(){Ln&&(clearTimeout(Ln),Ln=null),rr?kt.push(this):he.jmp(()=>(ee=>{if(0==(1&he.$flags$)){const pe=qt(ee),He=pe.$cmpMeta$,ct=()=>{};if(1&pe.$flags$)Ve(ee,pe,He.$listeners$),Kn(pe.$lazyInstance$);else{let ye;if(pe.$flags$|=1,ye=ee.getAttribute(Ue),ye){if(1&He.$flags$){const xe=mt(ee.shadowRoot,He,ee.getAttribute("s-mode"));ee.classList.remove(xe+"-h",xe+"-s")}((ee,pe,He,ct)=>{const xe=ee.shadowRoot,ut=[],Lt=xe?[]:null,kt=ct.$vnode$=Jt(pe,null);he.$orgLocNodes$||ui(ie.body,he.$orgLocNodes$=new Map),ee[Ue]=He,ee.removeAttribute(Ue),vr(kt,ut,[],Lt,ee,ee,He),ut.map(yn=>{const Ln=yn.$hostId$+"."+yn.$nodeId$,rr=he.$orgLocNodes$.get(Ln),cr=yn.$elm$;rr&&""===rr["s-en"]&&rr.parentNode.insertBefore(cr,rr.nextSibling),xe||(cr["s-hn"]=pe,rr&&(cr["s-ol"]=rr,cr["s-ol"]["s-nr"]=cr)),he.$orgLocNodes$.delete(Ln)}),xe&&Lt.map(yn=>{yn&&xe.appendChild(yn)})})(ee,He.$tagName$,ye,pe)}ye||12&He.$flags$&&ls(ee);{let xe=ee;for(;xe=xe.parentNode||xe.host;)if(1===xe.nodeType&&xe.hasAttribute("s-id")&&xe["s-p"]||xe["s-p"]){Nt(pe,pe.$ancestorComponent$=xe);break}}He.$members$&&Object.entries(He.$members$).map(([xe,[ut]])=>{if(31&ut&&ee.hasOwnProperty(xe)){const Pt=ee[xe];delete ee[xe],ee[xe]=Pt}}),Mn(()=>Wr(ee,pe,He))}ct()}})(this))}disconnectedCallback(){he.jmp(()=>(ee=>{if(0==(1&he.$flags$)){const pe=qt(this),He=pe.$lazyInstance$;pe.$rmListeners$&&(pe.$rmListeners$.map(ct=>ct()),pe.$rmListeners$=void 0),bt(He,"disconnectedCallback")}})())}componentOnReady(){return qt(this).$onReadyPromise$}};Xe.$lazyBundleId$=Ri[0],!ye.includes(tt)&&!xe.get(tt)&&(ct.push(tt),xe.define(tt,Br(_t,Xe,1)))})}),Lt.innerHTML=ct+"{visibility:hidden}.hydrated{visibility:inherit}",Lt.setAttribute("data-styles",""),ut.insertBefore(Lt,Pt?Pt.nextSibling:ut.firstChild),rr=!1,kt.length?kt.map(Ri=>Ri.connectedCallback()):he.jmp(()=>Ln=setTimeout(je,30))},Hr=ee=>{const pe=new URL(ee,he.$resourcesUrl$);return pe.origin!==me.location.origin?pe.href:pe.pathname},Yr=new WeakMap,qt=ee=>Yr.get(ee),jn=(ee,pe)=>Yr.set(pe.$lazyInstance$=ee,pe),mr=(ee,pe)=>{const He={$flags$:0,$hostElement$:ee,$cmpMeta$:pe,$instanceValues$:new Map};return He.$onInstancePromise$=new Promise(ct=>He.$onInstanceResolve$=ct),He.$onReadyPromise$=new Promise(ct=>He.$onReadyResolve$=ct),ee["s-p"]=[],ee["s-rc"]=[],Ve(ee,He,pe.$listeners$),Yr.set(ee,He)},ri=(ee,pe)=>pe in ee,oi=(ee,pe)=>(0,console.error)(ee,pe),Tr=new Map,gi=(ee,pe,He)=>{const ct=ee.$tagName$.replace(/-/g,"_"),ye=ee.$lazyBundleId$,xe=Tr.get(ye);return xe?xe[ct]:$(863)(`./${ye}.entry.js`).then(ut=>(Tr.set(ye,ut),ut[ct]),oi)},Sr=new Map,Ar=[],ki=[],In=[],xi=(ee,pe)=>He=>{ee.push(He),le||(le=!0,pe&&4&he.$flags$?Mn(di):he.raf(di))},Rt=ee=>{for(let pe=0;pe<ee.length;pe++)try{ee[pe](performance.now())}catch(He){oi(He)}ee.length=0},di=()=>{Rt(ki),Rt(In),(le=ki.length>0)&&he.raf(di)},Mn=ee=>_e().then(ee),qr=xi(ki,!1),Di=xi(In,!0),Mi={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},7249:(hn,ft,$)=>{"use strict";$.d(ft,{L:()=>Be,a:()=>Se,b:()=>ae,c:()=>Ee,d:()=>de,e:()=>Ct,g:()=>Re,l:()=>Ze,s:()=>Ue,t:()=>me});var l=$(5861),X=$(2361),Z=$(1643);const Be="ionViewWillEnter",Se="ionViewDidEnter",ae="ionViewWillLeave",Ee="ionViewDidLeave",de="ionViewWillUnload",me=Te=>new Promise((Ce,rt)=>{(0,X.c)(()=>{ie(Te),he(Te).then(et=>{et.animation&&et.animation.destroy(),We(Te),Ce(et)},et=>{We(Te),rt(et)})})}),ie=Te=>{const Ce=Te.enteringEl,rt=Te.leavingEl;G(Ce,rt,Te.direction),Te.showGoBack?Ce.classList.add("can-go-back"):Ce.classList.remove("can-go-back"),Ue(Ce,!1),Ce.style.setProperty("pointer-events","none"),rt&&(Ue(rt,!1),rt.style.setProperty("pointer-events","none"))},he=function(){var Te=(0,l.Z)(function*(Ce){const rt=yield Oe(Ce);return rt&&X.B.isBrowser?_e(rt,Ce):ke(Ce)});return function(rt){return Te.apply(this,arguments)}}(),We=Te=>{const Ce=Te.enteringEl,rt=Te.leavingEl;Ce.classList.remove("ion-page-invisible"),Ce.style.removeProperty("pointer-events"),void 0!==rt&&(rt.classList.remove("ion-page-invisible"),rt.style.removeProperty("pointer-events"))},Oe=function(){var Te=(0,l.Z)(function*(Ce){return Ce.leavingEl&&Ce.animated&&0!==Ce.duration?Ce.animationBuilder?Ce.animationBuilder:"ios"===Ce.mode?(yield Promise.resolve().then($.bind($,936))).iosTransitionAnimation:(yield Promise.resolve().then($.bind($,8447))).mdTransitionAnimation:void 0});return function(rt){return Te.apply(this,arguments)}}(),_e=function(){var Te=(0,l.Z)(function*(Ce,rt){yield Ve(rt,!0);const et=Ce(rt.baseEl,rt);qe(rt.enteringEl,rt.leavingEl);const Xt=yield Le(et,rt);return rt.progressCallback&&rt.progressCallback(void 0),Xt&&Ae(rt.enteringEl,rt.leavingEl),{hasCompleted:Xt,animation:et}});return function(rt,et){return Te.apply(this,arguments)}}(),ke=function(){var Te=(0,l.Z)(function*(Ce){const rt=Ce.enteringEl,et=Ce.leavingEl;return yield Ve(Ce,!1),qe(rt,et),Ae(rt,et),{hasCompleted:!0}});return function(rt){return Te.apply(this,arguments)}}(),Ve=function(){var Te=(0,l.Z)(function*(Ce,rt){const Xt=(void 0!==Ce.deepWait?Ce.deepWait:rt)?[Ct(Ce.enteringEl),Ct(Ce.leavingEl)]:[Dt(Ce.enteringEl),Dt(Ce.leavingEl)];yield Promise.all(Xt),yield st(Ce.viewIsReady,Ce.enteringEl)});return function(rt,et){return Te.apply(this,arguments)}}(),st=function(){var Te=(0,l.Z)(function*(Ce,rt){Ce&&(yield Ce(rt))});return function(rt,et){return Te.apply(this,arguments)}}(),Le=(Te,Ce)=>{const rt=Ce.progressCallback,et=new Promise(Xt=>{Te.onFinish(on=>Xt(1===on))});return rt?(Te.progressStart(!0),rt(Te)):Te.play(),et},qe=(Te,Ce)=>{Ze(Ce,ae),Ze(Te,Be)},Ae=(Te,Ce)=>{Ze(Te,Se),Ze(Ce,Ee)},Ze=(Te,Ce)=>{if(Te){const rt=new CustomEvent(Ce,{bubbles:!1,cancelable:!1});Te.dispatchEvent(rt)}},Dt=Te=>Te?new Promise(Ce=>(0,Z.c)(Te,Ce)):Promise.resolve(),Ct=function(){var Te=(0,l.Z)(function*(Ce){const rt=Ce;if(rt){if(null!=rt.componentOnReady){if(null!=(yield rt.componentOnReady()))return}else if(null!=rt.__registerHost)return void(yield new Promise(Xt=>(0,Z.r)(Xt)));yield Promise.all(Array.from(rt.children).map(Ct))}});return function(rt){return Te.apply(this,arguments)}}(),Ue=(Te,Ce)=>{Ce?(Te.setAttribute("aria-hidden","true"),Te.classList.add("ion-page-hidden")):(Te.hidden=!1,Te.removeAttribute("aria-hidden"),Te.classList.remove("ion-page-hidden"))},G=(Te,Ce,rt)=>{void 0!==Te&&(Te.style.zIndex="back"===rt?"99":"101"),void 0!==Ce&&(Ce.style.zIndex="100")},Re=Te=>Te.classList.contains("ion-page")?Te:Te.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Te},6254:(hn,ft,$)=>{"use strict";$.d(ft,{a:()=>me,b:()=>Xt,c:()=>Z,g:()=>le,i:()=>on});var l=$(2361);class X{constructor(){this.m=new Map}reset(it){this.m=new Map(Object.entries(it))}get(it,Qe){const at=this.m.get(it);return void 0!==at?at:Qe}getBoolean(it,Qe=!1){const at=this.m.get(it);return void 0===at?Qe:"string"==typeof at?"true"===at:!!at}getNumber(it,Qe){const at=parseFloat(this.m.get(it));return isNaN(at)?void 0!==Qe?Qe:NaN:at}set(it,Qe){this.m.set(it,Qe)}}const Z=new X,ge="ionic-persist-config",le=mt=>ie(mt),me=(mt,it)=>("string"==typeof mt&&(it=mt,mt=void 0),le(mt).includes(it)),ie=(mt=window)=>{if(void 0===mt)return[];mt.Ionic=mt.Ionic||{};let it=mt.Ionic.platforms;return null==it&&(it=mt.Ionic.platforms=he(mt),it.forEach(Qe=>mt.document.documentElement.classList.add(`plt-${Qe}`))),it},he=mt=>{const it=Z.get("platform");return Object.keys(rt).filter(Qe=>{const at=null==it?void 0:it[Qe];return"function"==typeof at?at(mt):rt[Qe](mt)})},Oe=mt=>!!(Te(mt,/iPad/i)||Te(mt,/Macintosh/i)&&Ae(mt)),Ve=mt=>Te(mt,/android|sink/i),Ae=mt=>Ce(mt,"(any-pointer:coarse)"),Dt=mt=>Ct(mt)||Ue(mt),Ct=mt=>!!(mt.cordova||mt.phonegap||mt.PhoneGap),Ue=mt=>{const it=mt.Capacitor;return!!(null==it?void 0:it.isNative)},Te=(mt,it)=>it.test(mt.navigator.userAgent),Ce=(mt,it)=>{var Qe;return null===(Qe=mt.matchMedia)||void 0===Qe?void 0:Qe.call(mt,it).matches},rt={ipad:Oe,iphone:mt=>Te(mt,/iPhone/i),ios:mt=>Te(mt,/iPhone|iPod/i)||Oe(mt),android:Ve,phablet:mt=>{const it=mt.innerWidth,Qe=mt.innerHeight,at=Math.min(it,Qe),lt=Math.max(it,Qe);return at>390&&at<520&&lt>620&&lt<800},tablet:mt=>{const it=mt.innerWidth,Qe=mt.innerHeight,at=Math.min(it,Qe),lt=Math.max(it,Qe);return Oe(mt)||(mt=>Ve(mt)&&!Te(mt,/mobile/i))(mt)||at>460&&at<820&&lt>780&&lt<1400},cordova:Ct,capacitor:Ue,electron:mt=>Te(mt,/electron/i),pwa:mt=>{var it;return!(!(null===(it=mt.matchMedia)||void 0===it?void 0:it.call(mt,"(display-mode: standalone)").matches)&&!mt.navigator.standalone)},mobile:Ae,mobileweb:mt=>Ae(mt)&&!Dt(mt),desktop:mt=>!Ae(mt),hybrid:Dt};let et;const Xt=mt=>mt&&(0,l.g)(mt)||et,on=(mt={})=>{if("undefined"==typeof window)return;const it=window.document,Qe=window,at=Qe.Ionic=Qe.Ionic||{},lt={};mt._ael&&(lt.ael=mt._ael),mt._rel&&(lt.rel=mt._rel),mt._ce&&(lt.ce=mt._ce),(0,l.s)(lt);const Me=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(mt=>{try{const it=mt.sessionStorage.getItem(ge);return null!==it?JSON.parse(it):{}}catch(it){return{}}})(Qe)),{persistConfig:!1}),at.config),(mt=>{const it={};return mt.location.search.slice(1).split("&").map(Qe=>Qe.split("=")).map(([Qe,at])=>[decodeURIComponent(Qe),decodeURIComponent(at)]).filter(([Qe])=>((mt,it)=>mt.substr(0,it.length)===it)(Qe,"ionic:")).map(([Qe,at])=>[Qe.slice("ionic:".length),at]).forEach(([Qe,at])=>{it[Qe]=at}),it})(Qe)),mt);Z.reset(Me),Z.getBoolean("persistConfig")&&((mt,it)=>{try{mt.sessionStorage.setItem(ge,JSON.stringify(it))}catch(Qe){return}})(Qe,Me),ie(Qe),at.config=Z,at.mode=et=Z.get("mode",it.documentElement.getAttribute("mode")||(me(Qe,"ios")?"ios":"md")),Z.set("mode",et),it.documentElement.setAttribute("mode",et),it.documentElement.classList.add(et),Z.getBoolean("_testing")&&Z.set("animated",!1);const Je=dt=>{var Kt;return null===(Kt=dt.tagName)||void 0===Kt?void 0:Kt.startsWith("ION-")},Tt=dt=>["ios","md"].includes(dt);(0,l.a)(dt=>{for(;dt;){const Kt=dt.mode||dt.getAttribute("mode");if(Kt){if(Tt(Kt))return Kt;Je(dt)&&console.warn('Invalid ionic mode: "'+Kt+'", expected: "ios" or "md"')}dt=dt.parentElement}return et})}},936:(hn,ft,$)=>{"use strict";$.r(ft),$.d(ft,{iosTransitionAnimation:()=>ie,shadow:()=>ae});var l=$(8015),X=$(7249);$(2361);const Se=he=>document.querySelector(`${he}.ion-cloned-element`),ae=he=>he.shadowRoot||he,Ee=he=>{const We="ION-TABS"===he.tagName?he:he.querySelector("ion-tabs"),Oe="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=We){const _e=We.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=_e?_e.querySelector(Oe):null}return he.querySelector(Oe)},de=(he,We)=>{const Oe="ION-TABS"===he.tagName?he:he.querySelector("ion-tabs");let _e=[];if(null!=Oe){const ke=Oe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=ke&&(_e=ke.querySelectorAll("ion-buttons"))}else _e=he.querySelectorAll("ion-buttons");for(const ke of _e){const Ve=ke.closest("ion-header"),st=Ve&&!Ve.classList.contains("header-collapse-condense-inactive"),Le=ke.querySelector("ion-back-button"),qe=ke.classList.contains("buttons-collapse"),Ae="start"===ke.slot||""===ke.slot;if(null!==Le&&Ae&&(qe&&st&&We||!qe))return Le}return null},le=(he,We,Oe,_e,ke,Ve)=>{const st=We?`calc(100% - ${Ve.right+4}px)`:Ve.left-4+"px",Le=We?"7px":"-7px",qe=We?"-4px":"4px",Ae=We?"-4px":"4px",Ze=We?"right":"left",Dt=We?"left":"right",G=Oe?[{offset:0,opacity:1,transform:`translate3d(${qe}, ${Ve.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Le}, ${ke.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Le}, ${ke.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${qe}, ${Ve.top-46}px, 0) scale(1)`}],Ce=Oe?[{offset:0,opacity:1,transform:`translate3d(${Ae}, ${Ve.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Ae}, ${Ve.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Ae}, ${Ve.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Ae}, ${Ve.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Ae}, ${Ve.top-46}px, 0) scale(1)`}],rt=(0,l.c)(),et=(0,l.c)(),Xt=Se("ion-back-button"),on=ae(Xt).querySelector(".button-text"),mt=ae(Xt).querySelector("ion-icon");Xt.text=_e.text,Xt.mode=_e.mode,Xt.icon=_e.icon,Xt.color=_e.color,Xt.disabled=_e.disabled,Xt.style.setProperty("display","block"),Xt.style.setProperty("position","fixed"),et.addElement(mt),rt.addElement(on),rt.beforeStyles({"transform-origin":`${Ze} center`}).beforeAddWrite(()=>{_e.style.setProperty("display","none"),Xt.style.setProperty(Ze,st)}).afterAddWrite(()=>{_e.style.setProperty("display",""),Xt.style.setProperty("display","none"),Xt.style.removeProperty(Ze)}).keyframes(G),et.beforeStyles({"transform-origin":`${Dt} center`}).keyframes(Ce),he.addAnimation([rt,et])},me=(he,We,Oe,_e,ke,Ve)=>{const st=We?`calc(100% - ${ke.right}px)`:`${ke.left}px`,Le=We?"-18px":"18px",qe=We?"right":"left",Dt=Oe?[{offset:0,opacity:0,transform:`translate3d(${Le}, ${Ve.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${ke.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${ke.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Le}, ${Ve.top-4}px, 0) scale(0.5)`}],Ct=Se("ion-title"),Ue=(0,l.c)();Ct.innerText=_e.innerText,Ct.size=_e.size,Ct.color=_e.color,Ue.addElement(Ct),Ue.beforeStyles({"transform-origin":`${qe} center`,height:"46px",display:"",position:"relative",[qe]:st}).beforeAddWrite(()=>{_e.style.setProperty("display","none")}).afterAddWrite(()=>{_e.style.setProperty("display",""),Ct.style.setProperty("display","none")}).keyframes(Dt),he.addAnimation(Ue)},ie=(he,We)=>{try{const Oe="cubic-bezier(0.32,0.72,0,1)",_e="opacity",ke="transform",Ve="0%",Le="rtl"===he.ownerDocument.dir,qe=Le?"-99.5%":"99.5%",Ae=Le?"33%":"-33%",Ze=We.enteringEl,Dt=We.leavingEl,Ct="back"===We.direction,Ue=Ze.querySelector(":scope > ion-content"),G=Ze.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Re=Ze.querySelectorAll(":scope > ion-header > ion-toolbar"),Te=(0,l.c)(),Ce=(0,l.c)();if(Te.addElement(Ze).duration(We.duration||540).easing(We.easing||Oe).fill("both").beforeRemoveClass("ion-page-invisible"),Dt&&he){const on=(0,l.c)();on.addElement(he),Te.addAnimation(on)}if(Ue||0!==Re.length||0!==G.length?(Ce.addElement(Ue),Ce.addElement(G)):Ce.addElement(Ze.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Te.addAnimation(Ce),Ct?Ce.beforeClearStyles([_e]).fromTo("transform",`translateX(${Ae})`,`translateX(${Ve})`).fromTo(_e,.8,1):Ce.beforeClearStyles([_e]).fromTo("transform",`translateX(${qe})`,`translateX(${Ve})`),Ue){const on=ae(Ue).querySelector(".transition-effect");if(on){const mt=on.querySelector(".transition-cover"),it=on.querySelector(".transition-shadow"),Qe=(0,l.c)(),at=(0,l.c)(),lt=(0,l.c)();Qe.addElement(on).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),at.addElement(mt).beforeClearStyles([_e]).fromTo(_e,0,.1),lt.addElement(it).beforeClearStyles([_e]).fromTo(_e,.03,.7),Qe.addAnimation([at,lt]),Ce.addAnimation([Qe])}}const rt=Ze.querySelector("ion-header.header-collapse-condense"),{forward:et,backward:Xt}=((he,We,Oe,_e,ke)=>{const Ve=de(_e,Oe),st=Ee(ke),Le=Ee(_e),qe=de(ke,Oe),Ae=null!==Ve&&null!==st&&!Oe,Ze=null!==Le&&null!==qe&&Oe;if(Ae){const Dt=st.getBoundingClientRect(),Ct=Ve.getBoundingClientRect();me(he,We,Oe,st,Dt,Ct),le(he,We,Oe,Ve,Dt,Ct)}else if(Ze){const Dt=Le.getBoundingClientRect(),Ct=qe.getBoundingClientRect();me(he,We,Oe,Le,Dt,Ct),le(he,We,Oe,qe,Dt,Ct)}return{forward:Ae,backward:Ze}})(Te,Le,Ct,Ze,Dt);if(Re.forEach(on=>{const mt=(0,l.c)();mt.addElement(on),Te.addAnimation(mt);const it=(0,l.c)();it.addElement(on.querySelector("ion-title"));const Qe=(0,l.c)(),at=Array.from(on.querySelectorAll("ion-buttons,[menuToggle]")),lt=on.closest("ion-header"),Me=null==lt?void 0:lt.classList.contains("header-collapse-condense-inactive");let Je;Je=at.filter(Ct?_n=>{const fn=_n.classList.contains("buttons-collapse");return fn&&!Me||!fn}:_n=>!_n.classList.contains("buttons-collapse")),Qe.addElement(Je);const Tt=(0,l.c)();Tt.addElement(on.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const dt=(0,l.c)();dt.addElement(ae(on).querySelector(".toolbar-background"));const Kt=(0,l.c)(),en=on.querySelector("ion-back-button");if(en&&Kt.addElement(en),mt.addAnimation([it,Qe,Tt,dt,Kt]),Qe.fromTo(_e,.01,1),Tt.fromTo(_e,.01,1),Ct)Me||it.fromTo("transform",`translateX(${Ae})`,`translateX(${Ve})`).fromTo(_e,.01,1),Tt.fromTo("transform",`translateX(${Ae})`,`translateX(${Ve})`),Kt.fromTo(_e,.01,1);else if(rt||it.fromTo("transform",`translateX(${qe})`,`translateX(${Ve})`).fromTo(_e,.01,1),Tt.fromTo("transform",`translateX(${qe})`,`translateX(${Ve})`),dt.beforeClearStyles([_e,"transform"]),(null==lt?void 0:lt.translucent)?dt.fromTo("transform",Le?"translateX(-100%)":"translateX(100%)","translateX(0px)"):dt.fromTo(_e,.01,"var(--opacity)"),et||Kt.fromTo(_e,.01,1),en&&!et){const fn=(0,l.c)();fn.addElement(ae(en).querySelector(".button-text")).fromTo("transform",Le?"translateX(-100px)":"translateX(100px)","translateX(0px)"),mt.addAnimation(fn)}}),Dt){const on=(0,l.c)(),mt=Dt.querySelector(":scope > ion-content"),it=Dt.querySelectorAll(":scope > ion-header > ion-toolbar"),Qe=Dt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(mt||0!==it.length||0!==Qe.length?(on.addElement(mt),on.addElement(Qe)):on.addElement(Dt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Te.addAnimation(on),Ct){on.beforeClearStyles([_e]).fromTo("transform",`translateX(${Ve})`,Le?"translateX(-100%)":"translateX(100%)");const at=(0,X.g)(Dt);Te.afterAddWrite(()=>{"normal"===Te.getDirection()&&at.style.setProperty("display","none")})}else on.fromTo("transform",`translateX(${Ve})`,`translateX(${Ae})`).fromTo(_e,1,.8);if(mt){const at=ae(mt).querySelector(".transition-effect");if(at){const lt=at.querySelector(".transition-cover"),Me=at.querySelector(".transition-shadow"),Je=(0,l.c)(),Tt=(0,l.c)(),dt=(0,l.c)();Je.addElement(at).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Tt.addElement(lt).beforeClearStyles([_e]).fromTo(_e,.1,0),dt.addElement(Me).beforeClearStyles([_e]).fromTo(_e,.7,.03),Je.addAnimation([Tt,dt]),on.addAnimation([Je])}}it.forEach(at=>{const lt=(0,l.c)();lt.addElement(at);const Me=(0,l.c)();Me.addElement(at.querySelector("ion-title"));const Je=(0,l.c)(),Tt=at.querySelectorAll("ion-buttons,[menuToggle]"),dt=at.closest("ion-header"),Kt=null==dt?void 0:dt.classList.contains("header-collapse-condense-inactive"),en=Array.from(Tt).filter(yr=>{const Jn=yr.classList.contains("buttons-collapse");return Jn&&!Kt||!Jn});Je.addElement(en);const _n=(0,l.c)(),fn=at.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");fn.length>0&&_n.addElement(fn);const Jt=(0,l.c)();Jt.addElement(ae(at).querySelector(".toolbar-background"));const An=(0,l.c)(),Cr=at.querySelector("ion-back-button");if(Cr&&An.addElement(Cr),lt.addAnimation([Me,Je,_n,An,Jt]),Te.addAnimation(lt),An.fromTo(_e,.99,0),Je.fromTo(_e,.99,0),_n.fromTo(_e,.99,0),Ct){if(Kt||Me.fromTo("transform",`translateX(${Ve})`,Le?"translateX(-100%)":"translateX(100%)").fromTo(_e,.99,0),_n.fromTo("transform",`translateX(${Ve})`,Le?"translateX(-100%)":"translateX(100%)"),Jt.beforeClearStyles([_e,"transform"]),(null==dt?void 0:dt.translucent)?Jt.fromTo("transform","translateX(0px)",Le?"translateX(-100%)":"translateX(100%)"):Jt.fromTo(_e,"var(--opacity)",0),Cr&&!Xt){const Jn=(0,l.c)();Jn.addElement(ae(Cr).querySelector(".button-text")).fromTo("transform",`translateX(${Ve})`,`translateX(${(Le?-124:124)+"px"})`),lt.addAnimation(Jn)}}else Kt||Me.fromTo("transform",`translateX(${Ve})`,`translateX(${Ae})`).fromTo(_e,.99,0).afterClearStyles([ke,_e]),_n.fromTo("transform",`translateX(${Ve})`,`translateX(${Ae})`).afterClearStyles([ke,_e]),An.afterClearStyles([_e]),Me.afterClearStyles([_e]),Je.afterClearStyles([_e])})}return Te}catch(Oe){throw Oe}}},8447:(hn,ft,$)=>{"use strict";$.r(ft),$.d(ft,{mdTransitionAnimation:()=>Be});var l=$(8015),X=$(7249);$(2361);const Be=(Se,ae)=>{const ge="back"===ae.direction,me=ae.leavingEl,ie=(0,X.g)(ae.enteringEl),he=ie.querySelector("ion-toolbar"),We=(0,l.c)();if(We.addElement(ie).fill("both").beforeRemoveClass("ion-page-invisible"),ge?We.duration(ae.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):We.duration(ae.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),he){const Oe=(0,l.c)();Oe.addElement(he),We.addAnimation(Oe)}if(me&&ge){We.duration(ae.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Oe=(0,l.c)();Oe.addElement((0,X.g)(me)).onFinish(_e=>{1===_e&&Oe.elements.length>0&&Oe.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),We.addAnimation(Oe)}return We}},1450:(hn,ft,$)=>{"use strict";$.d(ft,{B:()=>at,a:()=>de,b:()=>ge,c:()=>he,d:()=>Re,e:()=>Oe,f:()=>Ce,g:()=>Xt,h:()=>ae,i:()=>mt,j:()=>st,k:()=>Ue,m:()=>me,s:()=>Qe,t:()=>We});var l=$(5861),X=$(6254),Z=$(7593),Be=$(1643);let Se=0;const ae=new WeakMap,Ee=lt=>({create:Me=>_e(lt,Me),dismiss:(Me,Je,Tt)=>Dt(document,Me,Je,lt,Tt),getTop:()=>(0,l.Z)(function*(){return Ue(document,lt)})()}),de=Ee("ion-alert"),ge=Ee("ion-action-sheet"),me=Ee("ion-modal"),he=Ee("ion-popover"),We=Ee("ion-toast"),Oe=lt=>{"undefined"!=typeof document&&Ze(document);const Me=Se++;lt.overlayIndex=Me,lt.hasAttribute("id")||(lt.id=`ion-overlay-${Me}`)},_e=(lt,Me)=>"undefined"!=typeof window&&void 0!==window.customElements?window.customElements.whenDefined(lt).then(()=>{const Je=document.createElement(lt);return Je.classList.add("overlay-hidden"),Object.assign(Je,Object.assign(Object.assign({},Me),{hasController:!0})),rt(document).appendChild(Je),new Promise(Tt=>(0,Be.c)(Je,Tt))}):Promise.resolve(),ke='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',Ve="input:not([type=hidden]), textarea, button, select",st=(lt,Me)=>{let Je=lt.querySelector(ke);const Tt=null==Je?void 0:Je.shadowRoot;Tt&&(Je=Tt.querySelector(Ve)||Je),Je?(0,Be.f)(Je):Me.focus()},qe=(lt,Me)=>{const Je=Array.from(lt.querySelectorAll(ke));let Tt=Je.length>0?Je[Je.length-1]:null;const dt=null==Tt?void 0:Tt.shadowRoot;dt&&(Tt=dt.querySelector(Ve)||Tt),Tt?Tt.focus():Me.focus()},Ze=lt=>{0===Se&&(Se=1,lt.addEventListener("focus",Me=>{((lt,Me)=>{const Je=Ue(Me,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Tt=lt.target;Je&&Tt&&!Je.classList.contains("ion-disable-focus-trap")&&(Je.shadowRoot?(()=>{if(Je.contains(Tt))Je.lastFocus=Tt;else{const en=Je.lastFocus;st(Je,Je),en===Me.activeElement&&qe(Je,Je),Je.lastFocus=Me.activeElement}})():(()=>{if(Je===Tt)Je.lastFocus=void 0;else{const en=(0,Be.g)(Je);if(!en.contains(Tt))return;const _n=en.querySelector(".ion-overlay-wrapper");if(!_n)return;if(_n.contains(Tt))Je.lastFocus=Tt;else{const fn=Je.lastFocus;st(_n,Je),fn===Me.activeElement&&qe(_n,Je),Je.lastFocus=Me.activeElement}}})())})(Me,lt)},!0),lt.addEventListener("ionBackButton",Me=>{const Je=Ue(lt);(null==Je?void 0:Je.backdropDismiss)&&Me.detail.register(Z.OVERLAY_BACK_BUTTON_PRIORITY,()=>Je.dismiss(void 0,at))}),lt.addEventListener("keyup",Me=>{if("Escape"===Me.key){const Je=Ue(lt);(null==Je?void 0:Je.backdropDismiss)&&Je.dismiss(void 0,at)}}))},Dt=(lt,Me,Je,Tt,dt)=>{const Kt=Ue(lt,Tt,dt);return Kt?Kt.dismiss(Me,Je):Promise.reject("overlay does not exist")},Ue=(lt,Me,Je)=>{const Tt=((lt,Me)=>(void 0===Me&&(Me="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(lt.querySelectorAll(Me)).filter(Je=>Je.overlayIndex>0)))(lt,Me).filter(dt=>!(lt=>lt.classList.contains("overlay-hidden"))(dt));return void 0===Je?Tt[Tt.length-1]:Tt.find(dt=>dt.id===Je)},G=(lt=!1)=>{const Je=rt(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!Je||(lt?Je.setAttribute("aria-hidden","true"):Je.removeAttribute("aria-hidden"))},Re=function(){var lt=(0,l.Z)(function*(Me,Je,Tt,dt,Kt){var en,_n;if(Me.presented)return;G(!0),Me.presented=!0,Me.willPresent.emit(),null===(en=Me.willPresentShorthand)||void 0===en||en.emit();const fn=(0,X.b)(Me),Jt=Me.enterAnimation?Me.enterAnimation:X.c.get(Je,"ios"===fn?Tt:dt);(yield et(Me,Jt,Me.el,Kt))&&(Me.didPresent.emit(),null===(_n=Me.didPresentShorthand)||void 0===_n||_n.emit()),"ION-TOAST"!==Me.el.tagName&&Te(Me.el),Me.keyboardClose&&Me.el.focus()});return function(Je,Tt,dt,Kt,en){return lt.apply(this,arguments)}}(),Te=function(){var lt=(0,l.Z)(function*(Me){let Je=document.activeElement;if(!Je)return;const Tt=null==Je?void 0:Je.shadowRoot;Tt&&(Je=Tt.querySelector(Ve)||Je),yield Me.onDidDismiss(),Je.focus()});return function(Je){return lt.apply(this,arguments)}}(),Ce=function(){var lt=(0,l.Z)(function*(Me,Je,Tt,dt,Kt,en,_n){var fn,Jt;if(!Me.presented)return!1;G(!1),Me.presented=!1;try{Me.el.style.setProperty("pointer-events","none"),Me.willDismiss.emit({data:Je,role:Tt}),null===(fn=Me.willDismissShorthand)||void 0===fn||fn.emit({data:Je,role:Tt});const An=(0,X.b)(Me),Cr=Me.leaveAnimation?Me.leaveAnimation:X.c.get(dt,"ios"===An?Kt:en);"gesture"!==Tt&&(yield et(Me,Cr,Me.el,_n)),Me.didDismiss.emit({data:Je,role:Tt}),null===(Jt=Me.didDismissShorthand)||void 0===Jt||Jt.emit({data:Je,role:Tt}),ae.delete(Me),Me.el.classList.add("overlay-hidden"),Me.el.style.removeProperty("pointer-events")}catch(An){console.error(An)}return Me.el.remove(),!0});return function(Je,Tt,dt,Kt,en,_n,fn){return lt.apply(this,arguments)}}(),rt=lt=>lt.querySelector("ion-app")||lt.body,et=function(){var lt=(0,l.Z)(function*(Me,Je,Tt,dt){Tt.classList.remove("overlay-hidden");const en=Je(Me.el,dt);(!Me.animated||!X.c.getBoolean("animated",!0))&&en.duration(0),Me.keyboardClose&&en.beforeAddWrite(()=>{const fn=Tt.ownerDocument.activeElement;(null==fn?void 0:fn.matches("input,ion-input, ion-textarea"))&&fn.blur()});const _n=ae.get(Me)||[];return ae.set(Me,[..._n,en]),yield en.play(),!0});return function(Je,Tt,dt,Kt){return lt.apply(this,arguments)}}(),Xt=(lt,Me)=>{let Je;const Tt=new Promise(dt=>Je=dt);return on(lt,Me,dt=>{Je(dt.detail)}),Tt},on=(lt,Me,Je)=>{const Tt=dt=>{(0,Be.b)(lt,Me,Tt),Je(dt)};(0,Be.a)(lt,Me,Tt)},mt=lt=>"cancel"===lt||lt===at,it=lt=>lt(),Qe=(lt,Me)=>{if("function"==typeof lt)return X.c.get("_zoneGate",it)(()=>{try{return lt(Me)}catch(Tt){throw Tt}})},at="backdrop"},7556:(hn,ft,$)=>{"use strict";$.d(ft,{e:()=>Se});var l=$(655),X=$(9113),Z=$(5e3),Be=$(3442);let Se=(()=>{class ae{constructor(de){this.router=de}initialize(){gapi.load("client:auth2",()=>{this.initClient()}),X.e.initialize({clientId:"565771911818-b24v7cggk833bs7jbc6ahvd3e80cn6d5.apps.googleusercontent.com",scopes:["profile","email"],grantOfflineAccess:!0})}initClient(){gapi.client.init({apiKey:"AIzaSyDykKvPcPUS_zNdoGpF90fxTTJkzEw4oA4",clientId:"565771911818-b24v7cggk833bs7jbc6ahvd3e80cn6d5.apps.googleusercontent.com",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],scope:"https://www.googleapis.com/auth/calendar.readonly"}).then(()=>{gapi.auth2.getAuthInstance()},ie=>{console.log(ie)})}checkLoggedIn(){console.log(gapi),console.log(X.e),X.e.refresh().then(de=>{console.log(de),de.accessToken&&this.router.navigate(["tabs"],{state:{user:{type:"existing",accessToken:de.accessToken,idToken:de.idToken}}})}).catch(de=>{"userLoggedOut"===de.type&&this.doLogin()})}doLogin(){var de;return(0,l.mG)(this,void 0,void 0,function*(){if(this.user=yield X.e.signIn(),console.log(this.user),this.user){this.setLocalStorage(this.user),this.goToHome(this.user);const ge=gapi.auth2.getAuthInstance();console.log(ge),console.log(null===(de=ge.isSignedIn)||void 0===de?void 0:de.Nb)}})}setLocalStorage(de){localStorage.setItem("AUTH_DETAILS",btoa(JSON.stringify(de)))}getLocalStorage(){const de=localStorage.getItem("AUTH_DETAILS");return de?JSON.parse(atob(de)):null}clearLocalStorage(){localStorage.removeItem("AUTH_DETAILS")}goToHome(de){this.router.navigate(["tabs"],{state:{user:de}})}}return ae.\u0275fac=function(de){return new(de||ae)(Z.LFG(Be.F0))},ae.\u0275prov=Z.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ae})()},6858:(hn,ft,$)=>{"use strict";$.d(ft,{O:()=>Se});var l=$(655),X=$(5e3),Z=$(520),Be=$(4433);let Se=(()=>{class ae{constructor(de,ge){this.http=de,this.toastController=ge,this.apiVersion="/api/v1",this.server="http://192.168.0.105:694",this.endpoints={upcomingEvents:this.server+this.apiVersion+"/events/upcoming",currentEvents:this.server+this.apiVersion+"/events/current",sendMessage:this.server+this.apiVersion+"/chats/send",history:this.server+this.apiVersion+"/events/history"}}toaster(de,ge,le){return(0,l.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:de,duration:ge,color:"danger"})).present()})}post(de,ge){return this.http.post(de,ge)}get(de){return this.http.get(de)}getCurrentEvents(de){return this.post(this.globals.ip+this.globals.version+this.globals.api.CURRENT,{})}getUpcomingEvents(de){return this.post(this.globals.ip+this.globals.version+this.globals.api.UPCOMING,{})}sendMessageFromUser(de){return this.post(this.globals.ip+this.globals.version+this.globals.api.CHAT,de)}getHistoryComponent(de){return this.post(this.globals.ip+this.globals.version+this.globals.api.HISTORY,de)}}return ae.\u0275fac=function(de){return new(de||ae)(X.LFG(Z.eN),X.LFG(Be.yF))},ae.\u0275prov=X.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ae})()},4570:(hn,ft,$)=>{"use strict";var l=$(9808),X=$(5e3);class Z extends l.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Be extends Z{static makeCurrent(){(0,l.HT)(new Be)}onAndCancel(e,t,s){return e.addEventListener(t,s,!1),()=>{e.removeEventListener(t,s,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ae(){return Se=Se||document.querySelector("base"),Se?Se.getAttribute("href"):null}();return null==t?null:function de(n){Ee=Ee||document.createElement("a"),Ee.setAttribute("href",n);const e=Ee.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Se=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,l.Mx)(document.cookie,e)}}let Ee,Se=null;const ge=new X.OlP("TRANSITION_ID"),me=[{provide:X.ip1,useFactory:function le(n,e,t){return()=>{t.get(X.CZH).donePromise.then(()=>{const s=(0,l.q)(),a=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let p=0;p<a.length;p++)s.remove(a[p])})}},deps:[ge,l.K0,X.zs3],multi:!0}];class ie{static init(){(0,X.VLi)(new ie)}addToWindow(e){X.dqk.getAngularTestability=(s,a=!0)=>{const p=e.findTestabilityInTree(s,a);if(null==p)throw new Error("Could not find testability for element.");return p},X.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),X.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),X.dqk.frameworkStabilizers||(X.dqk.frameworkStabilizers=[]),X.dqk.frameworkStabilizers.push(s=>{const a=X.dqk.getAllAngularTestabilities();let p=a.length,E=!1;const x=function(H){E=E||H,p--,0==p&&s(E)};a.forEach(function(H){H.whenStable(x)})})}findTestabilityInTree(e,t,s){if(null==t)return null;const a=e.getTestability(t);return null!=a?a:s?(0,l.q)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let he=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X.Yz7({token:n,factory:n.\u0275fac}),n})();const We=new X.OlP("EventManagerPlugins");let Oe=(()=>{class n{constructor(t,s){this._zone=s,this._eventNameToPlugin=new Map,t.forEach(a=>a.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,s,a){return this._findPluginFor(s).addEventListener(t,s,a)}addGlobalEventListener(t,s,a){return this._findPluginFor(s).addGlobalEventListener(t,s,a)}getZone(){return this._zone}_findPluginFor(t){const s=this._eventNameToPlugin.get(t);if(s)return s;const a=this._plugins;for(let p=0;p<a.length;p++){const E=a[p];if(E.supports(t))return this._eventNameToPlugin.set(t,E),E}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(X.LFG(We),X.LFG(X.R0b))},n.\u0275prov=X.Yz7({token:n,factory:n.\u0275fac}),n})();class _e{constructor(e){this._doc=e}addGlobalEventListener(e,t,s){const a=(0,l.q)().getGlobalEventTarget(this._doc,e);if(!a)throw new Error(`Unsupported event target ${a} for event ${t}`);return this.addEventListener(a,t,s)}}let ke=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const s=new Set;t.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),s.add(a))}),this.onStylesAdded(s)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=X.Yz7({token:n,factory:n.\u0275fac}),n})(),Ve=(()=>{class n extends ke{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,s,a){t.forEach(p=>{const E=this._doc.createElement("style");E.textContent=p,a.push(s.appendChild(E))})}addHost(t){const s=[];this._addStylesToHost(this._stylesSet,t,s),this._hostNodes.set(t,s)}removeHost(t){const s=this._hostNodes.get(t);s&&s.forEach(st),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((s,a)=>{this._addStylesToHost(t,a,s)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(st))}}return n.\u0275fac=function(t){return new(t||n)(X.LFG(l.K0))},n.\u0275prov=X.Yz7({token:n,factory:n.\u0275fac}),n})();function st(n){(0,l.q)().remove(n)}const Le={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},qe=/%COMP%/g;function Re(n,e,t){for(let s=0;s<e.length;s++){let a=e[s];Array.isArray(a)?Re(n,a,t):(a=a.replace(qe,n),t.push(a))}return t}function Te(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let rt=(()=>{class n{constructor(t,s,a){this.eventManager=t,this.sharedStylesHost=s,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new et(t)}createRenderer(t,s){if(!t||!s)return this.defaultRenderer;switch(s.encapsulation){case X.ifc.Emulated:{let a=this.rendererByCompId.get(s.id);return a||(a=new mt(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,a)),a.applyToHost(t),a}case 1:case X.ifc.ShadowDom:return new it(this.eventManager,this.sharedStylesHost,t,s);default:if(!this.rendererByCompId.has(s.id)){const a=Re(s.id,s.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(X.LFG(Oe),X.LFG(Ve),X.LFG(X.AFp))},n.\u0275prov=X.Yz7({token:n,factory:n.\u0275fac}),n})();class et{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Le[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,s){e&&e.insertBefore(t,s)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let s="string"==typeof e?document.querySelector(e):e;if(!s)throw new Error(`The selector "${e}" did not match any elements`);return t||(s.textContent=""),s}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,s,a){if(a){t=a+":"+t;const p=Le[a];p?e.setAttributeNS(p,t,s):e.setAttribute(t,s)}else e.setAttribute(t,s)}removeAttribute(e,t,s){if(s){const a=Le[s];a?e.removeAttributeNS(a,t):e.removeAttribute(`${s}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,s,a){a&(X.JOm.DashCase|X.JOm.Important)?e.style.setProperty(t,s,a&X.JOm.Important?"important":""):e.style[t]=s}removeStyle(e,t,s){s&X.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,s){e[t]=s}setValue(e,t){e.nodeValue=t}listen(e,t,s){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Te(s)):this.eventManager.addEventListener(e,t,Te(s))}}class mt extends et{constructor(e,t,s,a){super(e),this.component=s;const p=Re(a+"-"+s.id,s.styles,[]);t.addStyles(p),this.contentAttr=function Ue(n){return"_ngcontent-%COMP%".replace(qe,n)}(a+"-"+s.id),this.hostAttr=function G(n){return"_nghost-%COMP%".replace(qe,n)}(a+"-"+s.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const s=super.createElement(e,t);return super.setAttribute(s,this.contentAttr,""),s}}class it extends et{constructor(e,t,s,a){super(e),this.sharedStylesHost=t,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const p=Re(a.id,a.styles,[]);for(let E=0;E<p.length;E++){const x=document.createElement("style");x.textContent=p[E],this.shadowRoot.appendChild(x)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,s){return super.insertBefore(this.nodeOrShadowRoot(e),t,s)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Qe=(()=>{class n extends _e{constructor(t){super(t)}supports(t){return!0}addEventListener(t,s,a){return t.addEventListener(s,a,!1),()=>this.removeEventListener(t,s,a)}removeEventListener(t,s,a){return t.removeEventListener(s,a)}}return n.\u0275fac=function(t){return new(t||n)(X.LFG(l.K0))},n.\u0275prov=X.Yz7({token:n,factory:n.\u0275fac}),n})();const at=["alt","control","meta","shift"],Me={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Je={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Tt={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let dt=(()=>{class n extends _e{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,s,a){const p=n.parseEventName(s),E=n.eventCallback(p.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,l.q)().onAndCancel(t,p.domEventName,E))}static parseEventName(t){const s=t.toLowerCase().split("."),a=s.shift();if(0===s.length||"keydown"!==a&&"keyup"!==a)return null;const p=n._normalizeKey(s.pop());let E="";if(at.forEach(H=>{const Q=s.indexOf(H);Q>-1&&(s.splice(Q,1),E+=H+".")}),E+=p,0!=s.length||0===p.length)return null;const x={};return x.domEventName=a,x.fullKey=E,x}static getEventFullKey(t){let s="",a=function Kt(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Je.hasOwnProperty(e)&&(e=Je[e]))}return Me[e]||e}(t);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),at.forEach(p=>{p!=a&&Tt[p](t)&&(s+=p+".")}),s+=a,s}static eventCallback(t,s,a){return p=>{n.getEventFullKey(p)===t&&a.runGuarded(()=>s(p))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(X.LFG(l.K0))},n.\u0275prov=X.Yz7({token:n,factory:n.\u0275fac}),n})();const An=(0,X.eFA)(X._c5,"browser",[{provide:X.Lbi,useValue:l.bD},{provide:X.g9A,useValue:function en(){Be.makeCurrent(),ie.init()},multi:!0},{provide:l.K0,useFactory:function fn(){return(0,X.RDi)(document),document},deps:[]}]),Cr=[{provide:X.zSh,useValue:"root"},{provide:X.qLn,useFactory:function _n(){return new X.qLn},deps:[]},{provide:We,useClass:Qe,multi:!0,deps:[l.K0,X.R0b,X.Lbi]},{provide:We,useClass:dt,multi:!0,deps:[l.K0]},{provide:rt,useClass:rt,deps:[Oe,Ve,X.AFp]},{provide:X.FYo,useExisting:rt},{provide:ke,useExisting:Ve},{provide:Ve,useClass:Ve,deps:[l.K0]},{provide:X.dDg,useClass:X.dDg,deps:[X.R0b]},{provide:Oe,useClass:Oe,deps:[We,X.R0b]},{provide:l.JF,useClass:he,deps:[]}];let yr=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:X.AFp,useValue:t.appId},{provide:ge,useExisting:X.AFp},me]}}}return n.\u0275fac=function(t){return new(t||n)(X.LFG(n,12))},n.\u0275mod=X.oAB({type:n}),n.\u0275inj=X.cJS({providers:Cr,imports:[l.ez,X.hGG]}),n})();"undefined"!=typeof window&&window;var Un=$(520),vr=$(7556);let ui=(()=>{class n{constructor(t){this.auth=t}intercept(t,s){if(this.auth.accessToken){const a=t.clone({headers:new Un.WM({"Access-Token":this.auth.accessToken})});return s.handle(a)}return s.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(X.LFG(vr.e))},n.\u0275prov=X.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Er=$(4182),$r=$(3442),zn=$(4433);const Wr=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:(()=>{class n{constructor(t,s){this.router=t,this.auth=s}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(X.Y36($r.F0),X.Y36(vr.e))},n.\u0275cmp=X.Xpm({type:n,selectors:[["app-login"]],decls:3,vars:0,consts:[[1,"sign-in-container","bg-dark"],["type","button",1,"login-with-google-btn",3,"click"]],template:function(t,s){1&t&&(X.TgZ(0,"div",0)(1,"button",1),X.NdJ("click",function(){return s.auth.doLogin()}),X._uU(2," Sign in with Google "),X.qZA()())},styles:[".sign-in-container[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center}.login-with-google-btn[_ngcontent-%COMP%]{transition:background-color .3s,box-shadow .3s;padding:12px 16px 12px 42px;border:none;border-radius:3px;box-shadow:0 -1px #0000000a,0 1px 1px #00000040;color:#757575;font-size:14px;font-weight:500;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTcuNiA5LjJsLS4xLTEuOEg5djMuNGg0LjhDMTMuNiAxMiAxMyAxMyAxMiAxMy42djIuMmgzYTguOCA4LjggMCAwIDAgMi42LTYuNnoiIGZpbGw9IiM0Mjg1RjQiIGZpbGwtcnVsZT0ibm9uemVybyIvPjxwYXRoIGQ9Ik05IDE4YzIuNCAwIDQuNS0uOCA2LTIuMmwtMy0yLjJhNS40IDUuNCAwIDAgMS04LTIuOUgxVjEzYTkgOSAwIDAgMCA4IDV6IiBmaWxsPSIjMzRBODUzIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48cGF0aCBkPSJNNCAxMC43YTUuNCA1LjQgMCAwIDEgMC0zLjRWNUgxYTkgOSAwIDAgMCAwIDhsMy0yLjN6IiBmaWxsPSIjRkJCQzA1IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48cGF0aCBkPSJNOSAzLjZjMS4zIDAgMi41LjQgMy40IDEuM0wxNSAyLjNBOSA5IDAgMCAwIDEgNWwzIDIuNGE1LjQgNS40IDAgMCAxIDUtMy43eiIgZmlsbD0iI0VBNDMzNSIgZmlsbC1ydWxlPSJub256ZXJvIi8+PHBhdGggZD0iTTAgMGgxOHYxOEgweiIvPjwvZz48L3N2Zz4=);background-color:#fff;background-repeat:no-repeat;background-position:12px 11px}.login-with-google-btn[_ngcontent-%COMP%]:hover{box-shadow:0 -1px #0000000a,0 2px 4px #00000040}.login-with-google-btn[_ngcontent-%COMP%]:active{background-color:#eee}.login-with-google-btn[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 -1px #0000000a,0 2px 4px #00000040,0 0 0 3px #c8dafc}.login-with-google-btn[_ngcontent-%COMP%]:disabled{filter:grayscale(100%);background-color:#ebebeb;box-shadow:0 -1px #0000000a,0 1px 1px #00000040;cursor:not-allowed}"]}),n})()},{path:"tabs",loadChildren:()=>$.e(5652).then($.bind($,5652)).then(n=>n.TabsPageModule)}];let Kn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=X.oAB({type:n}),n.\u0275inj=X.cJS({imports:[[l.ez,yr,$r.Bz.forRoot(Wr,{preloadingStrategy:$r.wm,useHash:!0})],$r.Bz]}),n})();var Li=$(6858);function ls(n,e){1&n&&(X.TgZ(0,"ion-app"),X._UZ(1,"ion-router-outlet"),X.qZA())}let ci=(()=>{class n{constructor(t,s,a){this.auth=t,this.router=s,this.http=a,this.configLoaded=!1}ngOnInit(){this.auth.initialize(),this.getCurrentUserCred()}getCurrentUserCred(){this.http.get("/assets/data/config.json").subscribe(s=>{this.configLoaded=!0,this.http.globals=s});const t=this.auth.getLocalStorage();t?(this.auth.accessToken=t.authentication.idToken,this.auth.user=t):this.router.navigate(["login"])}}return n.\u0275fac=function(t){return new(t||n)(X.Y36(vr.e),X.Y36($r.F0),X.Y36(Li.O))},n.\u0275cmp=X.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(t,s){1&t&&X.YNc(0,ls,2,0,"ion-app",0),2&t&&X.Q6J("ngIf",s.configLoaded)},directives:[l.O5,zn.dr,zn.jP],styles:[""]}),n})();var Mr=$(2011),Hr=$(4941),Yr=$(2916),qt=$(1086),jn=$(5254),mr=$(3489),ri=$(353);class Tr{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new gi(e,this.dueTime,this.scheduler))}}class gi extends mr.L{constructor(e,t,s){super(e),this.dueTime=t,this.scheduler=s,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Sr,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function Sr(n){n.debouncedNext()}var Ar=$(4850),ki=$(7545),In=$(6351),xi=$(3942),Rt=$(5861),di=$(9681),Mn=$(2090),qr=$(4859);const Di="firebasestorage.googleapis.com",Mi="storageBucket";class He extends Mn.ZR{constructor(e,t){super(ct(e),`Firebase Storage: ${t} (${ct(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,He.prototype)}_codeEquals(e){return ct(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function ct(n){return"storage/"+n}function ye(){return new He("unknown","An unknown error occurred, please check the error payload for server response.")}function Ln(){return new He("canceled","User canceled the upload/download.")}function ji(){return new He("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function _t(n){return new He("invalid-argument",n)}function It(){return new He("app-deleted","The Firebase app was deleted.")}function Ut(n){return new He("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Qt(n,e){return new He("invalid-format","String does not match format '"+n+"': "+e)}function Ir(n){throw new He("internal-error","Internal error: "+n)}class Fn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=Fn.makeFromUrl(e,t)}catch(a){return new Fn(e,"")}if(""===s.path)return s;throw function cr(n){return new He("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let s=null;const a="([A-Za-z0-9.\\-_]+)",x=new RegExp("^gs://"+a+"(/(.*))?$","i");function Q(_i){_i.path_=decodeURIComponent(_i.path)}const ze=t.replace(/[.]/g,"\\."),Jr=[{regex:x,indices:{bucket:1,path:3},postModify:function p(_i){"/"===_i.path.charAt(_i.path.length-1)&&(_i.path_=_i.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${ze}/v[A-Za-z0-9_]+/b/${a}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Q},{regex:new RegExp(`^https?://${t===Di?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${a}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Q}];for(let _i=0;_i<Jr.length;_i++){const $i=Jr[_i],Ji=$i.regex.exec(e);if(Ji){let gl=Ji[$i.indices.path];gl||(gl=""),s=new Fn(Ji[$i.indices.bucket],gl),$i.postModify(s);break}}if(null==s)throw function rr(n){return new He("invalid-url","Invalid URL '"+n+"'.")}(e);return s}}class kr{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function vi(n){return"string"==typeof n||n instanceof String}function _o(n){return _s()&&n instanceof Blob}function _s(){return"undefined"!=typeof Blob}function ni(n,e,t,s){if(s<e)throw _t(`Invalid value for '${n}'. Expected ${e} or greater.`);if(s>t)throw _t(`Invalid value for '${n}'. Expected ${t} or less.`)}function Ni(n,e,t){let s=e;return null==t&&(s=`https://${e}`),`${t}://${s}/v0${n}`}function Vs(n){const e=encodeURIComponent;let t="?";for(const s in n)n.hasOwnProperty(s)&&(t=t+(e(s)+"=")+e(n[s])+"&");return t=t.slice(0,-1),t}var us=(()=>{return(n=us||(us={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",us;var n})();class co{constructor(e,t,s,a,p,E,x,H,Q,be,ze){this.url_=e,this.method_=t,this.headers_=s,this.body_=a,this.successCodes_=p,this.additionalRetryCodes_=E,this.callback_=x,this.errorCallback_=H,this.timeout_=Q,this.progressCallback_=be,this.connectionFactory_=ze,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((vt,jt)=>{this.resolve_=vt,this.reject_=jt,this.start_()})}start_(){const t=(s,a)=>{const p=this.resolve_,E=this.reject_,x=a.connection;if(a.wasSuccessCode)try{const H=this.callback_(x,x.getResponse());!function Bs(n){return void 0!==n}(H)?p():p(H)}catch(H){E(H)}else if(null!==x){const H=ye();H.serverResponse=x.getErrorText(),E(this.errorCallback_?this.errorCallback_(x,H):H)}else E(a.canceled?this.appDelete_?It():Ln():function yn(){return new He("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new Ds(!1,null,!0)):this.backoffId_=function ys(n,e,t){let s=1,a=null,p=null,E=!1,x=0;function H(){return 2===x}let Q=!1;function be(...Zn){Q||(Q=!0,e.apply(null,Zn))}function ze(Zn){a=setTimeout(()=>{a=null,n(jt,H())},Zn)}function vt(){p&&clearTimeout(p)}function jt(Zn,...Ai){if(Q)return void vt();if(Zn)return vt(),void be.call(null,Zn,...Ai);if(H()||E)return vt(),void be.call(null,Zn,...Ai);let Jr;s<64&&(s*=2),1===x?(x=2,Jr=0):Jr=1e3*(s+Math.random()),ze(Jr)}let zt=!1;function Dn(Zn){zt||(zt=!0,vt(),!Q&&(null!==a?(Zn||(x=2),clearTimeout(a),ze(0)):Zn||(x=1)))}return ze(0),p=setTimeout(()=>{E=!0,Dn(!0)},t),Dn}((s,a)=>{if(a)return void s(!1,new Ds(!1,null,!0));const p=this.connectionFactory_();this.pendingConnection_=p;const E=x=>{null!==this.progressCallback_&&this.progressCallback_(x.loaded,x.lengthComputable?x.total:-1)};null!==this.progressCallback_&&p.addUploadProgressListener(E),p.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&p.removeUploadProgressListener(E),this.pendingConnection_=null;const x=p.getErrorCode()===us.NO_ERROR,H=p.getStatus();if(!x||this.isRetryStatusCode_(H)){const be=p.getErrorCode()===us.ABORT;return void s(!1,new Ds(!1,null,be))}const Q=-1!==this.successCodes_.indexOf(H);s(!0,new Ds(Q,p))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Hi(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,a=-1!==[408,429].indexOf(e),p=-1!==this.additionalRetryCodes_.indexOf(e);return t||a||p}}class Ds{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function Gi(...n){const e=function fi(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let s=0;s<n.length;s++)t.append(n[s]);return t.getBlob()}if(_s())return new Blob(n);throw new He("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Kr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class br{constructor(e,t){this.data=e,this.contentType=t||null}}function Ts(n,e){switch(n){case Kr.RAW:return new br(Fi(e));case Kr.BASE64:case Kr.BASE64URL:return new br(ds(n,e));case Kr.DATA_URL:return new br(function U(n){const e=new jr(n);return e.base64?ds(Kr.BASE64,e.rest):function Ss(n){let e;try{e=decodeURIComponent(n)}catch(t){throw Qt(Kr.DATA_URL,"Malformed data URL.")}return Fi(e)}(e.rest)}(e),function ne(n){return new jr(n).contentType}(e))}throw ye()}function Fi(n){const e=[];for(let t=0;t<n.length;t++){let s=n.charCodeAt(t);s<=127?e.push(s):s<=2047?e.push(192|s>>6,128|63&s):55296==(64512&s)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(s=65536|(1023&s)<<10|1023&n.charCodeAt(++t),e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|63&s)):e.push(239,191,189):56320==(64512&s)?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|63&s)}return new Uint8Array(e)}function ds(n,e){switch(n){case Kr.BASE64:{const a=-1!==e.indexOf("-"),p=-1!==e.indexOf("_");if(a||p)throw Qt(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Kr.BASE64URL:{const a=-1!==e.indexOf("+"),p=-1!==e.indexOf("/");if(a||p)throw Qt(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function to(n){return atob(n)}(e)}catch(a){throw Qt(n,"Invalid character found")}const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s}class jr{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Qt(Kr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;null!=s&&(this.base64=function V(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}class ue{constructor(e,t){let s=0,a="";_o(e)?(this.data_=e,s=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(_o(this.data_)){const a=function Ws(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===a?null:new ue(a)}{const s=new Uint8Array(this.data_.buffer,e,t-e);return new ue(s,!0)}}static getBlob(...e){if(_s()){const t=e.map(s=>s instanceof ue?s.data_:s);return new ue(Gi.apply(null,t))}{const t=e.map(E=>vi(E)?Ts(Kr.RAW,E).data:E.data_);let s=0;t.forEach(E=>{s+=E.byteLength});const a=new Uint8Array(s);let p=0;return t.forEach(E=>{for(let x=0;x<E.length;x++)a[p++]=E[x]}),new ue(a,!0)}}uploadData(){return this.data_}}function Ke(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function lr(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function nn(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function Zr(n,e){return e}class or{constructor(e,t,s,a){this.server=e,this.local=t||e,this.writable=!!s,this.xform=a||Zr}}let ur=null;function pi(){if(ur)return ur;const n=[];n.push(new or("bucket")),n.push(new or("generation")),n.push(new or("metageneration")),n.push(new or("name","fullPath",!0));const t=new or("name");t.xform=function e(p,E){return function Rr(n){return!vi(n)||n.length<2?n:nn(n)}(E)},n.push(t);const a=new or("size");return a.xform=function s(p,E){return void 0!==E?Number(E):E},n.push(a),n.push(new or("timeCreated")),n.push(new or("updated")),n.push(new or("md5Hash",null,!0)),n.push(new or("cacheControl",null,!0)),n.push(new or("contentDisposition",null,!0)),n.push(new or("contentEncoding",null,!0)),n.push(new or("contentLanguage",null,!0)),n.push(new or("contentType",null,!0)),n.push(new or("metadata","customMetadata",!0)),ur=n,ur}function qs(n,e,t){const s=Ke(e);return null===s?null:function li(n,e,t){const s={type:"file"},a=t.length;for(let p=0;p<a;p++){const E=t[p];s[E.local]=E.xform(s,e[E.server])}return function ai(n,e){Object.defineProperty(n,"ref",{get:function t(){const p=new Fn(n.bucket,n.fullPath);return e._makeStorageReference(p)}})}(s,n),s}(n,s,t)}function qn(n,e){const t={},s=e.length;for(let a=0;a<s;a++){const p=e[a];p.writable&&(t[p.server]=n[p.local])}return JSON.stringify(t)}const no="prefixes",z="items";class re{constructor(e,t,s,a){this.url=e,this.method=t,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function xt(n){if(!n)throw ye()}function v(n,e){return function t(s,a){const p=qs(n,a,e);return xt(null!==p),p}}function j(n){return function e(t,s){let a;return a=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function Lt(){return new He("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Pt(){return new He("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function ut(n){return new He("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function kt(n){return new He("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):s,a.serverResponse=s.serverResponse,a}}function J(n){const e=j(n);return function t(s,a){let p=e(s,a);return 404===s.getStatus()&&(p=function xe(n){return new He("object-not-found","Object '"+n+"' does not exist.")}(n.path)),p.serverResponse=a.serverResponse,p}}function wt(n,e,t){const a=Ni(e.fullServerUrl(),n.host,n._protocol),E=n.maxOperationRetryTime,x=new re(a,"GET",v(n,t),E);return x.errorHandler=J(e),x}function dn(n,e,t,s,a){const p={};p.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(p.delimiter=t),s&&(p.pageToken=s),a&&(p.maxResults=a);const x=Ni(e.bucketOnlyServerUrl(),n.host,n._protocol),Q=n.maxOperationRetryTime,be=new re(x,"GET",function P(n,e){return function t(s,a){const p=function k(n,e,t){const s=Ke(t);return null===s?null:function F(n,e,t){const s={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[no])for(const a of t[no]){const p=a.replace(/\/$/,""),E=n._makeStorageReference(new Fn(e,p));s.prefixes.push(E)}if(t[z])for(const a of t[z]){const p=n._makeStorageReference(new Fn(e,a.name));s.items.push(p)}return s}(n,e,s)}(n,e,a);return xt(null!==p),p}}(n,e.bucket),Q);return be.urlParams=p,be.errorHandler=j(e),be}function ts(n,e,t){const s=Object.assign({},t);return s.fullPath=n.path,s.size=e.size(),s.contentType||(s.contentType=function Bi(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),s}class Ti{constructor(e,t,s,a){this.current=e,this.total=t,this.finalized=!!s,this.metadata=a||null}}function mi(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(a){xt(!1)}return xt(!!t&&-1!==(e||["active"]).indexOf(t)),t}const xa={STATE_CHANGED:"state_changed"},zi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ya(n){switch(n){case"running":case"pausing":case"canceling":return zi.RUNNING;case"paused":return zi.PAUSED;case"success":return zi.SUCCESS;case"canceled":return zi.CANCELED;default:return zi.ERROR}}class na{constructor(e,t,s){if(function ti(n){return"function"==typeof n}(e)||null!=t||null!=s)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=s?s:void 0;else{const p=e;this.next=p.next,this.error=p.error,this.complete=p.complete}}}function So(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class Ka extends class $l{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=us.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=us.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=us.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,a){if(this.sent_)throw Ir("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==a)for(const p in a)a.hasOwnProperty(p)&&this.xhr_.setRequestHeader(p,a[p].toString());return void 0!==s?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ir("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ir("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Ir("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ir("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Ks(){return new Ka}class Ra{constructor(e,t,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=s,this._mappings=pi(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{this._request=void 0,this._chunkMultiplier=1,a._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=a,this._transition("error"))},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals("canceled")?this.completeTransitions_():(this._error=a,this._transition("error"))},this._promise=new Promise((a,p)=>{this._resolve=a,this._reject=p,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,s])=>{switch(this._state){case"running":e(t,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const s=function vo(n,e,t,s,a){const p=e.bucketOnlyServerUrl(),E=ts(e,s,a),x={name:E.fullPath},H=Ni(p,n.host,n._protocol),be={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":E.contentType,"Content-Type":"application/json; charset=utf-8"},ze=qn(E,t),zt=new re(H,"POST",function jt(Dn){let Zn;mi(Dn);try{Zn=Dn.getResponseHeader("X-Goog-Upload-URL")}catch(Ai){xt(!1)}return xt(vi(Zn)),Zn},n.maxUploadRetryTime);return zt.urlParams=x,zt.headers=be,zt.body=ze,zt.errorHandler=j(e),zt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(s,Ks,e,t);this._request=a,a.getPromise().then(p=>{this._request=void 0,this._uploadUrl=p,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,s)=>{const a=function Ys(n,e,t,s){const H=new re(t,"POST",function p(Q){const be=mi(Q,["active","final"]);let ze=null;try{ze=Q.getResponseHeader("X-Goog-Upload-Size-Received")}catch(jt){xt(!1)}ze||xt(!1);const vt=Number(ze);return xt(!isNaN(vt)),new Ti(vt,s.size(),"final"===be)},n.maxUploadRetryTime);return H.headers={"X-Goog-Upload-Command":"query"},H.errorHandler=j(e),H}(this._ref.storage,this._ref._location,e,this._blob),p=this._ref.storage._makeRequest(a,Ks,t,s);this._request=p,p.getPromise().then(E=>{E=E,this._request=void 0,this._updateProgress(E.current),this._needToFetchStatus=!1,E.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new Ti(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((a,p)=>{let E;try{E=function Ul(n,e,t,s,a,p,E,x){const H=new Ti(0,0);if(E?(H.current=E.current,H.total=E.total):(H.current=0,H.total=s.size()),s.size()!==H.total)throw function Xe(){return new He("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const Q=H.total-H.current;let be=Q;a>0&&(be=Math.min(be,a));const ze=H.current,zt={"X-Goog-Upload-Command":be===Q?"upload, finalize":"upload","X-Goog-Upload-Offset":`${H.current}`},Dn=s.slice(ze,ze+be);if(null===Dn)throw ji();const Jr=new re(t,"POST",function Zn(_i,$i){const Ji=mi(_i,["active","final"]),zs=H.current+be,gl=s.size();let ev;return ev="final"===Ji?v(e,p)(_i,$i):null,new Ti(zs,gl,"final"===Ji,ev)},e.maxUploadRetryTime);return Jr.headers=zt,Jr.body=Dn.uploadData(),Jr.progressCallback=x||null,Jr.errorHandler=j(n),Jr}(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(H){return this._error=H,void this._transition("error")}const x=this._ref.storage._makeRequest(E,Ks,a,p);this._request=x,x.getPromise().then(H=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(H.current),H.finalized?(this._metadata=H.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const s=wt(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(s,Ks,e,t);this._request=a,a.getPromise().then(p=>{this._request=void 0,this._metadata=p,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const s=function hs(n,e,t,s,a){const p=e.bucketOnlyServerUrl(),E={"X-Goog-Upload-Protocol":"multipart"},H=function x(){let Jr="";for(let _i=0;_i<2;_i++)Jr+=Math.random().toString().slice(2);return Jr}();E["Content-Type"]="multipart/related; boundary="+H;const Q=ts(e,s,a),be=qn(Q,t),jt=ue.getBlob("--"+H+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+be+"\r\n--"+H+"\r\nContent-Type: "+Q.contentType+"\r\n\r\n",s,"\r\n--"+H+"--");if(null===jt)throw ji();const zt={name:Q.fullPath},Dn=Ni(p,n.host,n._protocol),Ai=n.maxUploadRetryTime,Qi=new re(Dn,"POST",v(n,t),Ai);return Qi.urlParams=zt,Qi.headers=E,Qi.body=jt.uploadData(),Qi.errorHandler=j(e),Qi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(s,Ks,e,t);this._request=a,a.getPromise().then(p=>{this._request=void 0,this._metadata=p,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Ln(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=Ya(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,s,a){const p=new na(t||void 0,s||void 0,a||void 0);return this._addObserver(p),()=>{this._removeObserver(p)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(Ya(this._state)){case zi.SUCCESS:So(this._resolve.bind(null,this.snapshot))();break;case zi.CANCELED:case zi.ERROR:So(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Ya(this._state)){case zi.RUNNING:case zi.PAUSED:e.next&&So(e.next.bind(e,this.snapshot))();break;case zi.SUCCESS:e.complete&&So(e.complete.bind(e))();break;default:e.error&&So(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Os{constructor(e,t){this._service=e,this._location=t instanceof Fn?t:Fn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Os(e,t)}get root(){const e=new Fn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return nn(this._location.path)}get storage(){return this._service}get parent(){const e=function Ot(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Fn(this._location.bucket,e);return new Os(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw Ut(e)}}function tc(n,e,t){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,Rt.Z)(function*(n,e,t){const a=yield Pa(n,{pageToken:t});e.prefixes.push(...a.prefixes),e.items.push(...a.items),null!=a.nextPageToken&&(yield tc(n,e,a.nextPageToken))})).apply(this,arguments)}function Pa(n,e){null!=e&&"number"==typeof e.maxResults&&ni("options.maxResults",1,1e3,e.maxResults);const t=e||{},s=dn(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(s,Ks)}function rs(n){n._throwIfRoot("getDownloadURL");const e=function wr(n,e,t){const a=Ni(e.fullServerUrl(),n.host,n._protocol),E=n.maxOperationRetryTime,x=new re(a,"GET",function b(n,e){return function t(s,a){const p=qs(n,a,e);return xt(null!==p),function Pr(n,e,t,s){const a=Ke(e);if(null===a||!vi(a.downloadTokens))return null;const p=a.downloadTokens;if(0===p.length)return null;const E=encodeURIComponent;return p.split(",").map(Q=>{const ze=n.fullPath;return Ni("/b/"+E(n.bucket)+"/o/"+E(ze),t,s)+Vs({alt:"media",token:Q})})[0]}(p,a,n.host,n._protocol)}}(n,t),E);return x.errorHandler=J(e),x}(n.storage,n._location,pi());return n.storage.makeRequestWithTokens(e,Ks).then(t=>{if(null===t)throw function tt(){return new He("no-download-url","The given file does not have any download URLs.")}();return t})}function jo(n,e){const t=function Wt(n,e){const t=e.split("/").filter(s=>s.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),s=new Fn(n._location.bucket,t);return new Os(n.storage,s)}function ka(n,e){if(n instanceof Na){const t=n;if(null==t._bucket)throw function Ri(){return new He("no-default-bucket","No default bucket found. Did you set the '"+Mi+"' property when initializing the app?")}();const s=new Os(t,t._bucket);return null!=e?ka(s,e):s}return void 0!==e?jo(n,e):n}function ks(n,e){if(e&&function is(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof Na)return function Oa(n,e){return new Os(n,e)}(n,e);throw _t("To use ref(service, url), the first argument must be a Storage instance.")}return ka(n,e)}function Zs(n,e){const t=null==e?void 0:e[Mi];return null==t?null:Fn.makeFromBucketSpec(t,n)}class Na{constructor(e,t,s,a,p){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=a,this._firebaseVersion=p,this._bucket=null,this._host=Di,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=a?Fn.makeFromBucketSpec(a,this._host):Zs(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Fn.makeFromBucketSpec(this._url,e):Zs(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ni("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ni("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Rt.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const s=yield t.getToken();if(null!==s)return s.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Rt.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Os(this,e)}_makeRequest(e,t,s,a){if(this._deleted)return new kr(It());{const p=function cs(n,e,t,s,a,p){const E=Vs(n.urlParams),x=n.url+E,H=Object.assign({},n.headers);return function vs(n,e){e&&(n["X-Firebase-GMPID"]=e)}(H,e),function Rs(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(H,t),function es(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(H,p),function Uo(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(H,s),new co(x,n.method,H,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a)}(e,this._appId,s,a,t,this._firebaseVersion);return this._requests.add(p),p.getPromise().then(()=>this._requests.delete(p),()=>this._requests.delete(p)),p}}makeRequestWithTokens(e,t){var s=this;return(0,Rt.Z)(function*(){const[a,p]=yield Promise.all([s._getAuthToken(),s._getAppCheckToken()]);return s._makeRequest(e,t,a,p).getPromise()})()}}const qi="@firebase/storage";function Za(n,e){return ks(n=(0,Mn.m9)(n),e)}function Po(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new Na(t,s,a,e,di.SDK_VERSION)}!function ql(){(0,di._registerComponent)(new qr.wA("storage",Po,"PUBLIC").setMultipleInstances(!0)),(0,di.registerVersion)(qi,"0.9.5",""),(0,di.registerVersion)(qi,"0.9.5","esm2017")}();class Xs{constructor(e,t,s){this._delegate=e,this.task=t,this.ref=s}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Ho{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Xs(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(s=>{if(e)return e(new Xs(s,this,this._ref))},t)}on(e,t,s,a){let p;return t&&(p="function"==typeof t?E=>t(new Xs(E,this,this._ref)):{next:t.next?E=>t.next(new Xs(E,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,p,s||void 0,a||void 0)}}class ro{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Qs(e,this._service))}get items(){return this._delegate.items.map(e=>new Qs(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Qs{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function Es(n,e){return jo(n,e)}(this._delegate,e);return new Qs(t,this.storage)}get root(){return new Qs(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Qs(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new Ho(function ml(n,e,t){return function ra(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new Ra(n,new ue(e),t)}(n=(0,Mn.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Kr.RAW,s){this._throwIfRoot("putString");const a=Ts(t,e),p=Object.assign({},s);return null==p.contentType&&null!=a.contentType&&(p.contentType=a.contentType),new Ho(new Ra(this._delegate,new ue(a.data,!0),p),this)}listAll(){return function ma(n){return function Pu(n){const e={prefixes:[],items:[]};return tc(n,e).then(()=>e)}(n=(0,Mn.m9)(n))}(this._delegate).then(e=>new ro(e,this.storage))}list(e){return function sa(n,e){return Pa(n=(0,Mn.m9)(n),e)}(this._delegate,e||void 0).then(t=>new ro(t,this.storage))}getMetadata(){return function ho(n){return function nc(n){n._throwIfRoot("getMetadata");const e=wt(n.storage,n._location,pi());return n.storage.makeRequestWithTokens(e,Ks)}(n=(0,Mn.m9)(n))}(this._delegate)}updateMetadata(e){return function Mo(n,e){return function Hl(n,e){n._throwIfRoot("updateMetadata");const t=function ii(n,e,t,s){const p=Ni(e.fullServerUrl(),n.host,n._protocol),x=qn(t,s),Q=n.maxOperationRetryTime,be=new re(p,"PATCH",v(n,s),Q);return be.headers={"Content-Type":"application/json; charset=utf-8"},be.body=x,be.errorHandler=J(e),be}(n.storage,n._location,e,pi());return n.storage.makeRequestWithTokens(t,Ks)}(n=(0,Mn.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function Ei(n){return rs(n=(0,Mn.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Gr(n){return function Ao(n){n._throwIfRoot("deleteObject");const e=function Ii(n,e){const s=Ni(e.fullServerUrl(),n.host,n._protocol),x=new re(s,"DELETE",function E(H,Q){},n.maxOperationRetryTime);return x.successCodes=[200,204],x.errorHandler=J(e),x}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Ks)}(n=(0,Mn.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw Ut(e)}}class io{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(Oo(e))throw _t("ref() expected a child path but got a URL, use refFromURL instead.");return new Qs(Za(this._delegate,e),this)}refFromURL(e){if(!Oo(e))throw _t("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Fn.makeFromUrl(e,this._delegate.host)}catch(t){throw _t("refFromUrl() expected a valid full URL but got an invalid one.")}return new Qs(Za(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,s={}){!function Ro(n,e,t,s={}){!function xo(n,e,t,s={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:a}=s;a&&(n._overrideAuthToken="string"==typeof a?a:(0,Mn.Sg)(a,n.app.options.projectId))}(n,e,t,s)}(this._delegate,e,t,s)}}function Oo(n){return/^[A-Za-z]+:\/\//.test(n)}function Ja(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),s=n.getProvider("storage").getImmediate({identifier:e});return new io(t,s)}!function _a(n){const e={TaskState:zi,TaskEvent:xa,StringFormat:Kr,Storage:io,Reference:Qs};n.INTERNAL.registerComponent(new qr.wA("storage-compat",Ja,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.13")}(xi.Z);var R=$(440),S=$(127);function B(n){const e=function D(n){return new Yr.y(e=>{const t=E=>e.next(E);t(n.snapshot);const p=n.on("state_changed",t);return n.then(E=>{t(E),e.complete()},E=>{t(n.snapshot),(E=>{e.error(E)})(E)}),function(){p()}}).pipe(function oi(n,e=ri.P){return t=>t.lift(new Tr(n,e))}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Ar.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function q(n){return{getDownloadURL:()=>(0,qt.of)(void 0).pipe(In.fc,(0,ki.w)(()=>n.getDownloadURL()),In.iC),getMetadata:()=>(0,qt.of)(void 0).pipe(In.fc,(0,ki.w)(()=>n.getMetadata()),In.iC),delete:()=>(0,jn.D)(n.delete()),child:e=>q(n.child(e)),updateMetadata:e=>(0,jn.D)(n.updateMetadata(e)),put:(e,t)=>B(n.put(e,t)),putString:(e,t,s)=>B(n.putString(e,t,s)),list:e=>(0,jn.D)(n.list(e)),listAll:()=>(0,jn.D)(n.listAll())}}const se=new X.OlP("angularfire2.storageBucket"),Pe=new X.OlP("angularfire2.storage.maxUploadRetryTime"),Ye=new X.OlP("angularfire2.storage.maxOperationRetryTime"),Vt=new X.OlP("angularfire2.storage.use-emulator");let Sn=(()=>{class n{constructor(t,s,a,p,E,x,H,Q,be,ze){const vt=(0,Mr.on)(t,E,s);this.storage=(0,Mr.cc)(`${vt.name}.storage.${a}`,"AngularFireStorage",vt.name,()=>{const jt=E.runOutsideAngular(()=>vt.storage(a||void 0)),zt=be;return zt&&jt.useEmulator(...zt),H&&jt.setMaxUploadRetryTime(H),Q&&jt.setMaxOperationRetryTime(Q),jt},[H,Q])}ref(t){return q(this.storage.ref(t))}refFromURL(t){return q(this.storage.refFromURL(t))}upload(t,s,a){return q(this.storage.ref(t)).put(s,a)}}return n.\u0275fac=function(t){return new(t||n)(X.LFG(Mr.Dh),X.LFG(Mr.xv,8),X.LFG(se,8),X.LFG(X.Lbi),X.LFG(X.R0b),X.LFG(In.HU),X.LFG(Pe,8),X.LFG(Ye,8),X.LFG(Vt,8),X.LFG(R.nm,8))},n.\u0275prov=X.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),$n=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=X.oAB({type:n}),n.\u0275inj=X.cJS({}),n})(),Xr=(()=>{class n{constructor(){S.Z.registerVersion("angularfire",In.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=X.oAB({type:n}),n.\u0275inj=X.cJS({providers:[Sn],imports:[$n]}),n})();var Nr=$(1059);function so(){return n=>n.lift(new Go)}class Go{call(e,t){return t.subscribe(new oa(e))}}class oa extends mr.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var Bn,aa=$(2014),Fa=$(5778),ss=$(2198),Kl=($(820),$(1877)),Lh="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},zo={},Nu=Nu||{},Fr=Lh||self;function la(){}function rc(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Si(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var va="closure_uid_"+(1e9*Math.random()>>>0),jc=0;function Zl(n,e,t){return n.call.apply(n.bind,arguments)}function Us(n,e,t){if(!n)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function bi(n,e,t){return(bi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Zl:Us).apply(null,arguments)}function el(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),n.apply(this,s)}}function Ui(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(s,a,p){for(var E=Array(arguments.length-2),x=2;x<arguments.length;x++)E[x-2]=arguments[x];return e.prototype[a].apply(s,E)}}function Ns(){this.s=this.s,this.o=this.o}var sc={};Ns.prototype.s=!1,Ns.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function ic(n){return Object.prototype.hasOwnProperty.call(n,va)&&n[va]||(n[va]=++jc)}(this);delete sc[n]}},Ns.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ld=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Hc=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const s=n.length,a="string"==typeof n?n.split(""):n;for(let p=0;p<s;p++)p in a&&e.call(t,a[p],p,n)};function Wo(n){return Array.prototype.concat.apply([],arguments)}function $s(n){const e=n.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=n[s];return t}return[]}function _l(n){return/^[\s\xa0]*$/.test(n)}var os,tl=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Yi(n,e){return-1!=n.indexOf(e)}function Xl(n,e){return n<e?-1:n>e?1:0}e:{var Gc=Fr.navigator;if(Gc){var Fu=Gc.userAgent;if(Fu){os=Fu;break e}}os=""}function bo(n,e,t){for(const s in n)e.call(t,n[s],s,n)}function ac(n){const e={};for(const t in n)e[t]=n[t];return e}var nl="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ua(n,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)n[t]=s[t];for(let p=0;p<nl.length;p++)t=nl[p],Object.prototype.hasOwnProperty.call(s,t)&&(n[t]=s[t])}}function N(n){return N[" "](n),n}N[" "]=la;var dr,n,oe=Yi(os,"Opera"),Ne=Yi(os,"Trident")||Yi(os,"MSIE"),yt=Yi(os,"Edge"),St=yt||Ne,un=Yi(os,"Gecko")&&!(Yi(os.toLowerCase(),"webkit")&&!Yi(os,"Edge"))&&!(Yi(os,"Trident")||Yi(os,"MSIE"))&&!Yi(os,"Edge"),Hn=Yi(os.toLowerCase(),"webkit")&&!Yi(os,"Edge");function pr(){var n=Fr.document;return n?n.documentMode:void 0}e:{var Qr="",Lr=(n=os,un?/rv:([^\);]+)(\)|;)/.exec(n):yt?/Edge\/([\d\.]+)/.exec(n):Ne?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Hn?/WebKit\/(\S+)/.exec(n):oe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Lr&&(Qr=Lr?Lr[1]:""),Ne){var Js=pr();if(null!=Js&&Js>parseFloat(Qr)){dr=String(Js);break e}}dr=Qr}var si={};var eo=Fr.document&&Ne&&(pr()||parseInt(dr,10))||void 0,ba=function(){if(!Fr.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Fr.addEventListener("test",la,e),Fr.removeEventListener("test",la,e)}catch(t){}return n}();function Ki(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Jl(n,e){if(Ki.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,s=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(un){e:{try{N(e.nodeName);var a=!0;break e}catch(p){}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:eu[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Jl.Z.h.call(this)}}Ki.prototype.h=function(){this.defaultPrevented=!0},Ui(Jl,Ki);var eu={2:"touch",3:"pen",4:"mouse"};Jl.prototype.h=function(){Jl.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ba="closure_listenable_"+(1e6*Math.random()|0),Lu=0;function il(n,e,t,s,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ia=a,this.key=++Lu,this.ca=this.fa=!1}function tu(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function nu(n){this.src=n,this.g={},this.h=0}function vl(n,e){var t=e.type;if(t in n.g){var p,s=n.g[t],a=Ld(s,e);(p=0<=a)&&Array.prototype.splice.call(s,a,1),p&&(tu(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function El(n,e,t,s){for(var a=0;a<n.length;++a){var p=n[a];if(!p.ca&&p.listener==e&&p.capture==!!t&&p.ia==s)return a}return-1}nu.prototype.add=function(n,e,t,s,a){var p=n.toString();(n=this.g[p])||(n=this.g[p]=[],this.h++);var E=El(n,e,s,a);return-1<E?(e=n[E],t||(e.fa=!1)):((e=new il(e,this.src,p,!!s,a)).fa=t,n.push(e)),e};var bl="closure_lm_"+(1e6*Math.random()|0),Bd={};function Bh(n,e,t,s,a){if(s&&s.once)return zc(n,e,t,s,a);if(Array.isArray(e)){for(var p=0;p<e.length;p++)Bh(n,e[p],t,s,a);return null}return t=dc(t),n&&n[Ba]?n.N(e,t,Si(s)?!!s.capture:!!s,a):sl(n,e,t,!1,s,a)}function sl(n,e,t,s,a,p){if(!e)throw Error("Invalid event type");var E=Si(a)?!!a.capture:!!a,x=Wc(n);if(x||(n[bl]=x=new nu(n)),(t=x.add(e,t,s,E,p)).proxy)return t;if(s=function ru(){var e=sg;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=s,s.src=n,s.listener=t,n.addEventListener)ba||(a=E),void 0===a&&(a=!1),n.addEventListener(e.toString(),s,a);else if(n.attachEvent)n.attachEvent(uc(e.toString()),s);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(s)}return t}function zc(n,e,t,s,a){if(Array.isArray(e)){for(var p=0;p<e.length;p++)zc(n,e[p],t,s,a);return null}return t=dc(t),n&&n[Ba]?n.O(e,t,Si(s)?!!s.capture:!!s,a):sl(n,e,t,!0,s,a)}function Vh(n,e,t,s,a){if(Array.isArray(e))for(var p=0;p<e.length;p++)Vh(n,e[p],t,s,a);else s=Si(s)?!!s.capture:!!s,t=dc(t),n&&n[Ba]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=El(p=n.g[e],t,s,a))&&(tu(p[t]),Array.prototype.splice.call(p,t,1),0==p.length&&(delete n.g[e],n.h--))):n&&(n=Wc(n))&&(e=n.g[e.toString()],n=-1,e&&(n=El(e,t,s,a)),(t=-1<n?e[n]:null)&&lc(t))}function lc(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Ba])vl(e.i,n);else{var t=n.type,s=n.proxy;e.removeEventListener?e.removeEventListener(t,s,n.capture):e.detachEvent?e.detachEvent(uc(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=Wc(e))?(vl(t,n),0==t.h&&(t.src=null,e[bl]=null)):tu(n)}}}function uc(n){return n in Bd?Bd[n]:Bd[n]="on"+n}function sg(n,e){if(n.ca)n=!0;else{e=new Jl(e,this);var t=n.listener,s=n.ia||n.src;n.fa&&lc(n),n=t.call(s,e)}return n}function Wc(n){return(n=n[bl])instanceof nu?n:null}var cc="__closure_events_fn_"+(1e9*Math.random()>>>0);function dc(n){return"function"==typeof n?n:(n[cc]||(n[cc]=function(e){return n.handleEvent(e)}),n[cc])}function gs(){Ns.call(this),this.i=new nu(this),this.P=this,this.I=null}function bs(n,e){var t,s=n.I;if(s)for(t=[];s;s=s.I)t.push(s);if(n=n.P,s=e.type||e,"string"==typeof e)e=new Ki(e,n);else if(e instanceof Ki)e.target=e.target||n;else{var a=e;ua(e=new Ki(s,n),a)}if(a=!0,t)for(var p=t.length-1;0<=p;p--){var E=e.g=t[p];a=wo(E,s,!0,e)&&a}if(a=wo(E=e.g=n,s,!0,e)&&a,a=wo(E,s,!1,e)&&a,t)for(p=0;p<t.length;p++)a=wo(E=e.g=t[p],s,!1,e)&&a}function wo(n,e,t,s){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,p=0;p<e.length;++p){var E=e[p];if(E&&!E.ca&&E.capture==t){var x=E.listener,H=E.ia||E.src;E.fa&&vl(n.i,E),a=!1!==x.call(H,s)&&a}}return a&&!s.defaultPrevented}Ui(gs,Ns),gs.prototype[Ba]=!0,gs.prototype.removeEventListener=function(n,e,t,s){Vh(this,n,e,t,s)},gs.prototype.M=function(){if(gs.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],s=0;s<t.length;s++)tu(t[s]);delete n.g[e],n.h--}}this.I=null},gs.prototype.N=function(n,e,t,s){return this.i.add(String(n),e,!1,t,s)},gs.prototype.O=function(n,e,t,s){return this.i.add(String(n),e,!0,t,s)};var hc=Fr.JSON.stringify;function qc(){var n=jh;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var iu,wl=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Yc,n=>n.reset());class Yc{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Uh(n){Fr.setTimeout(()=>{throw n},0)}function Il(n,e){iu||function $h(){var n=Fr.Promise.resolve(void 0);iu=function(){n.then(Ud)}}(),Vd||(iu(),Vd=!0),jh.add(n,e)}var Vd=!1,jh=new class og{constructor(){this.h=this.g=null}add(e,t){const s=wl.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function Ud(){for(var n;n=qc();){try{n.h.call(n.g)}catch(t){Uh(t)}var e=wl;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Vd=!1}function ol(n,e){gs.call(this),this.h=n||1,this.g=e||Fr,this.j=bi(this.kb,this),this.l=Date.now()}function Kc(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function ca(n,e,t){if("function"==typeof n)t&&(n=bi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=bi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Fr.setTimeout(n,e||0)}function Va(n){n.g=ca(()=>{n.g=null,n.i&&(n.i=!1,Va(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ui(ol,gs),(Bn=ol.prototype).da=!1,Bn.S=null,Bn.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),bs(this,"tick"),this.da&&(Kc(this),this.start()))}},Bn.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Bn.M=function(){ol.Z.M.call(this),Kc(this),delete this.g};class wa extends Ns{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Va(this)}M(){super.M(),this.g&&(Fr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cl(n){Ns.call(this),this.h=n,this.g={}}Ui(Cl,Ns);var $d=[];function Hh(n,e,t,s){Array.isArray(t)||(t&&($d[0]=t.toString()),t=$d);for(var a=0;a<t.length;a++){var p=Bh(e,t[a],s||n.handleEvent,!1,n.h||n);if(!p)break;n.g[p.key]=p}}function Zc(n){bo(n.g,function(e,t){this.g.hasOwnProperty(t)&&lc(e)},n),n.g={}}function Dl(){this.g=!0}function oo(n,e,t,s){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function su(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var s=t[n];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var p=a[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var E=1;E<a.length;E++)a[E]=""}}}return hc(t)}catch(x){return e}}(n,t)+(s?" "+s:"")})}Cl.prototype.M=function(){Cl.Z.M.call(this),Zc(this)},Cl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Dl.prototype.Aa=function(){this.g=!1},Dl.prototype.info=function(){};var al={},Xc=null;function Fs(){return Xc=Xc||new gs}function Qc(n){Ki.call(this,al.Ma,n)}function fo(n){const e=Fs();bs(e,new Qc(e,n))}function ou(n,e){Ki.call(this,al.STAT_EVENT,n),this.stat=e}function po(n){const e=Fs();bs(e,new ou(e,n))}function fc(n,e){Ki.call(this,al.Na,n),this.size=e}function Vu(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Fr.setTimeout(function(){n()},e)}al.Ma="serverreachability",Ui(Qc,Ki),al.STAT_EVENT="statevent",Ui(ou,Ki),al.Na="timingevent",Ui(fc,Ki);var Jc={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},au={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function jd(){}function ed(){}jd.prototype.h=null;var Tl,ll={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function gc(){Ki.call(this,"d")}function Hd(){Ki.call(this,"c")}function td(){}function mc(n,e,t,s){this.l=n,this.j=e,this.m=t,this.X=s||1,this.V=new Cl(this),this.P=rd,this.W=new ol(n=St?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new nd}function nd(){this.i=null,this.g="",this.h=!1}Ui(gc,Ki),Ui(Hd,Ki),Ui(td,jd),td.prototype.g=function(){return new XMLHttpRequest},td.prototype.i=function(){return{}},Tl=new td;var rd=45e3,id={},lu={};function Uu(n,e,t){n.K=1,n.v=hu(Ia(e)),n.s=t,n.U=!0,$u(n,null)}function $u(n,e){n.F=Date.now(),da(n),n.A=Ia(n.v);var t=n.A,s=n.X;Array.isArray(s)||(s=[String(s)]),ld(t.h,"t",s),n.C=0,t=n.l.H,n.h=new nd,n.g=Jf(n.l,t?e:null,!n.s),0<n.O&&(n.L=new wa(bi(n.Ia,n,n.g),n.O)),Hh(n.V,n.g,"readystatechange",n.gb),e=n.H?ac(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),fo(1),function Bu(n,e,t,s,a,p){n.info(function(){if(n.g)if(p)for(var E="",x=p.split("&"),H=0;H<x.length;H++){var Q=x[H].split("=");if(1<Q.length){var be=Q[0];Q=Q[1];var ze=be.split("_");E=2<=ze.length&&"type"==ze[1]?E+(be+"=")+Q+"&":E+(be+"=redacted&")}}else E=null;else E=p;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+E})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Gd(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function As(n,e,t){let a,s=!0;for(;!n.I&&n.C<t.length;){if(a=Sl(n,t),a==lu){4==e&&(n.o=4,po(14),s=!1),oo(n.j,n.m,null,"[Incomplete Response]");break}if(a==id){n.o=4,po(15),oo(n.j,n.m,t,"[Invalid Chunk]"),s=!1;break}oo(n.j,n.m,a,null),xl(n,a)}Gd(n)&&a!=lu&&a!=id&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,po(16),s=!1),n.i=n.i&&s,s?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Xh(e),e.L=!0,po(11))):(oo(n.j,n.m,t,"[Invalid Chunked Response]"),Ua(n),Al(n))}function Sl(n,e){var t=n.C,s=e.indexOf("\n",t);return-1==s?lu:(t=Number(e.substring(t,s)),isNaN(t)?id:(s+=1)+t>e.length?lu:(e=e.substr(s,t),n.C=s+t,e))}function da(n){n.Y=Date.now()+n.P,sd(n,n.P)}function sd(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Vu(bi(n.eb,n),e)}function uu(n){n.B&&(Fr.clearTimeout(n.B),n.B=null)}function Al(n){0==n.l.G||n.I||ug(n.l,n)}function Ua(n){uu(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Kc(n.W),Zc(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function xl(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||cd(t.i,n)))if(t.I=n.N,!n.J&&cd(t.i,n)&&3==t.G){try{var s=t.Ca.g.parse(e)}catch(Q){s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0])e:if(t.u)t.ta=a[1],0<t.ta-t.U&&37500>a[2]&&t.N&&0==t.A&&!t.v&&(t.v=Vu(bi(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Ic(t),Xd(t)}Zh(t),po(18)}if(1>=_c(t.i)&&t.ka){try{t.ka()}catch(Q){}t.ka=void 0}}else Cc(t,11)}else if((n.J||t.g==n)&&Ic(t),!_l(e))for(a=t.Ca.g.parse(e),e=0;e<a.length;e++){let Q=a[e];if(t.U=Q[0],Q=Q[1],2==t.G)if("c"==Q[0]){t.J=Q[1],t.la=Q[2];const be=Q[3];null!=be&&(t.ma=be,t.h.info("VER="+t.ma));const ze=Q[4];null!=ze&&(t.za=ze,t.h.info("SVER="+t.za));const vt=Q[5];null!=vt&&"number"==typeof vt&&0<vt&&(t.K=s=1.5*vt,t.h.info("backChannelRequestTimeoutMs_="+s)),s=t;const jt=n.g;if(jt){const zt=jt.g?jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zt){var p=s.i;!p.g&&(Yi(zt,"spdy")||Yi(zt,"quic")||Yi(zt,"h2"))&&(p.j=p.l,p.g=new Set,p.h&&(dd(p,p.h),p.h=null))}if(s.D){const Dn=jt.g?jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Dn&&(s.sa=Dn,Pi(s.F,s.D,Dn))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var E=n;if((s=t).oa=Qh(s,s.H?s.la:null,s.W),E.J){qd(s.i,E);var x=E,H=s.K;H&&x.setTimeout(H),x.B&&(uu(x),da(x)),s.g=E}else Wu(s);0<t.l.length&&Qd(t)}else"stop"!=Q[0]&&"close"!=Q[0]||Cc(t,7);else 3==t.G&&("stop"==Q[0]||"close"==Q[0]?"stop"==Q[0]?Cc(t,7):Zf(t):"noop"!=Q[0]&&t.j&&t.j.wa(Q),t.A=0)}fo(4)}catch(Q){}}function od(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(rc(n)||"string"==typeof n)Hc(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(rc(n)||"string"==typeof n){t=[];for(var s=n.length,a=0;a<s;a++)t.push(a)}else for(a in t=[],s=0,n)t[s++]=a;s=function Gh(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(rc(n)){for(var e=[],t=n.length,s=0;s<t;s++)e.push(n[s]);return e}for(s in e=[],t=0,n)e[t++]=n[s];return e}(n),a=s.length;for(var p=0;p<a;p++)e.call(void 0,s[p],t&&t[p],n)}}function ju(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var s=0;s<t;s+=2)this.set(arguments[s],arguments[s+1])}else if(n)if(n instanceof ju)for(t=n.T(),s=0;s<t.length;s++)this.set(t[s],n.get(t[s]));else for(s in n)this.set(s,n[s])}function zd(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var s=n.g[e];ko(n.h,s)&&(n.g[t++]=s),e++}n.g.length=t}if(n.i!=n.g.length){var a={};for(t=e=0;e<n.g.length;)ko(a,s=n.g[e])||(n.g[t++]=s,a[s]=1),e++;n.g.length=t}}function ko(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Bn=mc.prototype).setTimeout=function(n){this.P=n},Bn.gb=function(n){n=n.target;const e=this.L;e&&3==ws(n)?e.l():this.Ia(n)},Bn.Ia=function(n){try{if(n==this.g)e:{const be=ws(this.g);var e=this.g.Da();const ze=this.g.ba();if(!(3>be)&&(3!=be||St||this.g&&(this.h.h||this.g.ga()||qh(this.g)))){this.I||4!=be||7==e||fo(8==e||0>=ze?3:2),uu(this);var t=this.g.ba();this.N=t;t:if(Gd(this)){var s=qh(this.g);n="";var a=s.length,p=4==ws(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ua(this),Al(this);var E="";break t}this.h.i=new Fr.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(s[e],{stream:p&&e==a-1});s.splice(0,a),this.h.g+=n,this.C=0,E=this.h.g}else E=this.g.ga();if(this.i=200==t,function qf(n,e,t,s,a,p,E){n.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+p+" "+E})}(this.j,this.u,this.A,this.m,this.X,be,t),this.i){if(this.$&&!this.J){t:{if(this.g){var x,H=this.g;if((x=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_l(x)){var Q=x;break t}}Q=null}if(!(t=Q)){this.i=!1,this.o=3,po(12),Ua(this),Al(this);break e}oo(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,xl(this,t)}this.U?(As(this,be,E),St&&this.i&&3==be&&(Hh(this.V,this.W,"tick",this.fb),this.W.start())):(oo(this.j,this.m,E,null),xl(this,E)),4==be&&Ua(this),this.i&&!this.I&&(4==be?ug(this.l,this):(this.i=!1,da(this)))}else 400==t&&0<E.indexOf("Unknown SID")?(this.o=3,po(12)):(this.o=0,po(13)),Ua(this),Al(this)}}}catch(be){}},Bn.fb=function(){if(this.g){var n=ws(this.g),e=this.g.ga();this.C<e.length&&(uu(this),As(this,n,e),this.i&&4!=n&&da(this))}},Bn.cancel=function(){this.I=!0,Ua(this)},Bn.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Yf(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(fo(3),po(17)),Ua(this),this.o=2,Al(this)):sd(this,this.Y-n)},(Bn=ju.prototype).R=function(){zd(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Bn.T=function(){return zd(this),this.g.concat()},Bn.get=function(n,e){return ko(this.h,n)?this.h[n]:e},Bn.set=function(n,e){ko(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Bn.forEach=function(n,e){for(var t=this.T(),s=0;s<t.length;s++){var a=t[s],p=this.get(a);n.call(e,p,a,this)}};var js=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function $a(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof $a){this.g=void 0!==e?e:n.g,xs(this,n.j),this.s=n.s,ja(this,n.i),du(this,n.m),this.l=n.l,e=n.h;var t=new yc;t.i=e.i,e.g&&(t.g=new ju(e.g),t.h=e.h),Io(this,t),this.o=n.o}else n&&(t=String(n).match(js))?(this.g=!!e,xs(this,t[1]||"",!0),this.s=Fo(t[2]||""),ja(this,t[3]||"",!0),du(this,t[4]),this.l=Fo(t[5]||"",!0),Io(this,t[6]||"",!0),this.o=Fo(t[7]||"")):(this.g=!!e,this.h=new yc(null,this.g))}function Ia(n){return new $a(n)}function xs(n,e,t){n.j=t?Fo(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ja(n,e,t){n.i=t?Fo(e,!0):e}function du(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Io(n,e,t){e instanceof yc?(n.h=e,function dl(n,e){e&&!n.j&&(cl(n),n.i=null,n.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(Ls(this,s),ld(this,a,t))},n)),n.j=e}(n.h,n.g)):(t||(e=ul(e,pu)),n.h=new yc(e,n.g))}function Pi(n,e,t){n.h.set(e,t)}function hu(n){return Pi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Fo(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ul(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,qo),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function qo(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}$a.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ul(e,Ml,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ul(e,Ml,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(ul(t,"/"==t.charAt(0)?Wd:Ca,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ul(t,zh)),n.join("")};var Ml=/[#\/\?@]/g,Ca=/[#\?:]/g,Wd=/[#\?]/g,pu=/[#\?@]/g,zh=/#/g;function yc(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function cl(n){n.g||(n.g=new ju,n.h=0,n.i&&function cu(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var s=n[t].indexOf("="),a=null;if(0<=s){var p=n[t].substring(0,s);a=n[t].substring(s+1)}else p=n[t];e(p,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Ls(n,e){cl(n),e=Hu(n,e),ko(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,ko((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&zd(n)))}function ad(n,e){return cl(n),e=Hu(n,e),ko(n.g.h,e)}function ld(n,e,t){Ls(n,e),0<t.length&&(n.i=null,n.g.set(Hu(n,e),$s(t)),n.h+=t.length)}function Hu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function gu(n){this.l=n||Gu,n=Fr.PerformanceNavigationTiming?0<(n=Fr.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Fr.g&&Fr.g.Ea&&Fr.g.Ea()&&Fr.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Bn=yc.prototype).add=function(n,e){cl(this),this.i=null,n=Hu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Bn.forEach=function(n,e){cl(this),this.g.forEach(function(t,s){Hc(t,function(a){n.call(e,a,s,this)},this)},this)},Bn.T=function(){cl(this);for(var n=this.g.R(),e=this.g.T(),t=[],s=0;s<e.length;s++)for(var a=n[s],p=0;p<a.length;p++)t.push(e[s]);return t},Bn.R=function(n){cl(this);var e=[];if("string"==typeof n)ad(this,n)&&(e=Wo(e,this.g.get(Hu(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Wo(e,n[t])}return e},Bn.set=function(n,e){return cl(this),this.i=null,ad(this,n=Hu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Bn.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Bn.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var s=e[t],a=encodeURIComponent(String(s));s=this.R(s);for(var p=0;p<s.length;p++){var E=a;""!==s[p]&&(E+="="+encodeURIComponent(String(s[p]))),n.push(E)}}return this.i=n.join("&")};var Gu=10;function ud(n){return!!n.h||!!n.g&&n.g.size>=n.j}function _c(n){return n.h?1:n.g?n.g.size:0}function cd(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function dd(n,e){n.g?n.g.add(e):n.h=e}function qd(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Yd(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return $s(n.i)}function w(){}function g(){this.g=new w}function _(n,e,t){const s=t||"";try{od(n,function(a,p){let E=a;Si(a)&&(E=hc(a)),e.push(s+p+"="+encodeURIComponent(E))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function Y(n,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch(p){}}function fe(n){this.l=n.$b||null,this.j=n.ib||!1}function ht(n,e){gs.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Ft,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gu.prototype.cancel=function(){if(this.i=Yd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},w.prototype.stringify=function(n){return Fr.JSON.stringify(n,void 0)},w.prototype.parse=function(n){return Fr.JSON.parse(n,void 0)},Ui(fe,jd),fe.prototype.g=function(){return new ht(this.l,this.j)},fe.prototype.i=function(n){return function(){return n}}({}),Ui(ht,gs);var Ft=0;function bn(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Vn(n){n.readyState=4,n.l=null,n.j=null,n.A=null,gr(n)}function gr(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Bn=ht.prototype).open=function(n,e){if(this.readyState!=Ft)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,gr(this)},Bn.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Fr).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Bn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vn(this)),this.readyState=Ft},Bn.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,gr(this)),this.g&&(this.readyState=3,gr(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Fr.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bn(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Bn.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Vn(this):gr(this),3==this.readyState&&bn(this)}},Bn.Ua=function(n){this.g&&(this.response=this.responseText=n,Vn(this))},Bn.Ta=function(n){this.g&&(this.response=n,Vn(this))},Bn.ha=function(){this.g&&Vn(this)},Bn.setRequestHeader=function(n,e){this.v.append(n,e)},Bn.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Bn.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(ht.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var hr=Fr.JSON.parse;function zr(n){gs.call(this),this.headers=new ju,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Yo,this.K=this.L=!1}Ui(zr,gs);var Yo="",vc=/^https?$/i,hd=["POST","PUT"];function Kd(n){return"content-type"==n.toLowerCase()}function Wh(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,hl(n),zu(n)}function hl(n){n.D||(n.D=!0,bs(n,"complete"),bs(n,"error"))}function bc(n){if(n.h&&void 0!==Nu&&(!n.C[1]||4!=ws(n)||2!=n.ba()))if(n.v&&4==ws(n))ca(n.Fa,0,n);else if(bs(n,"readystatechange"),4==ws(n)){n.h=!1;try{const x=n.ba();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===x){var a=String(n.H).match(js)[1]||null;if(!a&&Fr.self&&Fr.self.location){var p=Fr.self.location.protocol;a=p.substr(0,p.length-1)}s=!vc.test(a?a.toLowerCase():"")}t=s}if(t)bs(n,"complete"),bs(n,"success");else{n.m=6;try{var E=2<ws(n)?n.g.statusText:""}catch(H){E=""}n.j=E+" ["+n.ba()+"]",hl(n)}}finally{zu(n)}}}function zu(n,e){if(n.g){fd(n);const t=n.g,s=n.C[0]?la:null;n.g=null,n.C=null,e||bs(n,"ready");try{t.onreadystatechange=s}catch(a){}}}function fd(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Fr.clearTimeout(n.A),n.A=null)}function ws(n){return n.g?n.g.readyState:0}function qh(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Yo:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function pd(n,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=function wc(n){let e="";return bo(n,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Pi(n,e,t))}function Zd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Kf(n){this.za=0,this.l=[],this.h=new Dl,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Zd("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Zd("baseRetryDelayMs",5e3,n),this.$a=Zd("retryDelaySeedMs",1e4,n),this.Ya=Zd("forwardChannelMaxRetries",2,n),this.ra=Zd("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new gu(n&&n.concurrentRequestLimit),this.Ca=new g,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Zf(n){if(Yh(n),3==n.G){var e=n.V++,t=Ia(n.F);Pi(t,"SID",n.J),Pi(t,"RID",e),Pi(t,"TYPE","terminate"),gd(n,t),(e=new mc(n,n.h,e,void 0)).K=2,e.v=hu(Ia(t)),t=!1,Fr.navigator&&Fr.navigator.sendBeacon&&(t=Fr.navigator.sendBeacon(e.v.toString(),"")),!t&&Fr.Image&&((new Image).src=e.v,t=!0),t||(e.g=Jf(e.l,null),e.g.ea(e.v)),e.F=Date.now(),da(e)}Qf(n)}function Xd(n){n.g&&(Xh(n),n.g.cancel(),n.g=null)}function Yh(n){Xd(n),n.u&&(Fr.clearTimeout(n.u),n.u=null),Ic(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Fr.clearTimeout(n.m),n.m=null)}function Kh(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Qd(n)}function Qd(n){ud(n.i)||n.m||(n.m=!0,Il(n.Ha,n),n.C=0)}function ag(n,e){var t;t=e?e.m:n.V++;const s=Ia(n.F);Pi(s,"SID",n.J),Pi(s,"RID",t),Pi(s,"AID",n.U),gd(n,s),n.o&&n.s&&pd(s,n.o,n.s),t=new mc(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Xf(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),dd(n.i,t),Uu(t,s,e)}function gd(n,e){n.j&&od({},function(t,s){Pi(e,s,t)})}function Xf(n,e,t){t=Math.min(n.l.length,t);var s=n.j?bi(n.j.Oa,n.j,n):null;e:{var a=n.l;let p=-1;for(;;){const E=["count="+t];-1==p?0<t?(p=a[0].h,E.push("ofs="+p)):p=0:E.push("ofs="+p);let x=!0;for(let H=0;H<t;H++){let Q=a[H].h;const be=a[H].g;if(Q-=p,0>Q)p=Math.max(0,a[H].h-100),x=!1;else try{_(be,E,"req"+Q+"_")}catch(ze){s&&s(be)}}if(x){s=E.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,s}function Wu(n){n.g||n.u||(n.Y=1,Il(n.Ga,n),n.A=0)}function Zh(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Vu(bi(n.Ga,n),cg(n,n.A)),n.A++,0))}function Xh(n){null!=n.B&&(Fr.clearTimeout(n.B),n.B=null)}function lg(n){n.g=new mc(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Ia(n.oa);Pi(e,"RID","rpc"),Pi(e,"SID",n.J),Pi(e,"CI",n.N?"0":"1"),Pi(e,"AID",n.U),gd(n,e),Pi(e,"TYPE","xmlhttp"),n.o&&n.s&&pd(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=hu(Ia(e)),t.s=null,t.U=!0,$u(t,n)}function Ic(n){null!=n.v&&(Fr.clearTimeout(n.v),n.v=null)}function ug(n,e){var t=null;if(n.g==e){Ic(n),Xh(n),n.g=null;var s=2}else{if(!cd(n.i,e))return;t=e.D,qd(n.i,e),s=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=n.C;bs(s=Fs(),new fc(s,t,e,a)),Qd(n)}else Wu(n);else if(3==(a=e.o)||0==a&&0<n.I||!(1==s&&function Fm(n,e){return!(_c(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Vu(bi(n.Ha,n,e),cg(n,n.C)),n.C++,0)))}(n,e)||2==s&&Zh(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),a){case 1:Cc(n,5);break;case 4:Cc(n,10);break;case 3:Cc(n,6);break;default:Cc(n,2)}}function cg(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Cc(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var s=bi(n.jb,n);t||(t=new $a("//www.google.com/images/cleardot.gif"),Fr.location&&"http"==Fr.location.protocol||xs(t,"https"),hu(t)),function T(n,e){const t=new Dl;if(Fr.Image){const s=new Image;s.onload=el(Y,t,s,"TestLoadImage: loaded",!0,e),s.onerror=el(Y,t,s,"TestLoadImage: error",!1,e),s.onabort=el(Y,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=el(Y,t,s,"TestLoadImage: timeout",!1,e),Fr.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=n}else e(!1)}(t.toString(),s)}else po(2);n.G=0,n.j&&n.j.va(e),Qf(n),Yh(n)}function Qf(n){n.G=0,n.I=-1,n.j&&((0!=Yd(n.i).length||0!=n.l.length)&&(n.i.i.length=0,$s(n.l),n.l.length=0),n.j.ua())}function Qh(n,e,t){let s=function No(n){return n instanceof $a?Ia(n):new $a(n,void 0)}(t);if(""!=s.i)e&&ja(s,e+"."+s.i),du(s,s.m);else{const a=Fr.location;s=function fu(n,e,t,s){var a=new $a(null,void 0);return n&&xs(a,n),e&&ja(a,e),t&&du(a,t),s&&(a.l=s),a}(a.protocol,e?e+"."+a.hostname:a.hostname,+a.port,t)}return n.aa&&bo(n.aa,function(a,p){Pi(s,p,a)}),t=n.sa,(e=n.D)&&t&&Pi(s,e,t),Pi(s,"VER",n.ma),gd(n,s),s}function Jf(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new zr(t&&n.Ba&&!n.qa?new fe({ib:!0}):n.qa)).L=n.H,e}function md(){}function Dc(){if(Ne&&!(10<=Number(eo)))throw Error("Environmental error: no available transport.")}function ha(n,e){gs.call(this),this.g=new Kf(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!_l(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_l(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ko(this)}function Jh(n){gc.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function ep(){Hd.call(this),this.status=1}function Ko(n){this.g=n}(Bn=zr.prototype).ea=function(n,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Tl.g(),this.C=function pc(n){return n.h||(n.h=n.i())}(this.u?this.u:Tl),this.g.onreadystatechange=bi(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(p){return void Wh(this,p)}n=t||"";const a=new ju(this.headers);s&&od(s,function(p,E){a.set(E,p)}),s=function oc(n){e:{var e=Kd;const t=n.length,s="string"==typeof n?n.split(""):n;for(let a=0;a<t;a++)if(a in s&&e.call(void 0,s[a],a,n)){e=a;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(a.T()),t=Fr.FormData&&n instanceof Fr.FormData,!(0<=Ld(hd,e))||s||t||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(p,E){this.g.setRequestHeader(E,p)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{fd(this),0<this.B&&((this.K=function Ec(n){return Ne&&function Ql(){return function W(n){var e=si;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=tl(String(dr)).split("."),t=tl("9").split("."),s=Math.max(e.length,t.length);for(let E=0;0==n&&E<s;E++){var a=e[E]||"",p=t[E]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],p=/(\d*)(\D*)(.*)/.exec(p)||["","","",""],0==a[0].length&&0==p[0].length)break;n=Xl(0==a[1].length?0:parseInt(a[1],10),0==p[1].length?0:parseInt(p[1],10))||Xl(0==a[2].length,0==p[2].length)||Xl(a[2],p[2]),a=a[3],p=p[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bi(this.pa,this)):this.A=ca(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(p){Wh(this,p)}},Bn.pa=function(){void 0!==Nu&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,bs(this,"timeout"),this.abort(8))},Bn.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,bs(this,"complete"),bs(this,"abort"),zu(this))},Bn.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zu(this,!0)),zr.Z.M.call(this)},Bn.Fa=function(){this.s||(this.F||this.v||this.l?bc(this):this.cb())},Bn.cb=function(){bc(this)},Bn.ba=function(){try{return 2<ws(this)?this.g.status:-1}catch(n){return-1}},Bn.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Bn.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),hr(e)}},Bn.Da=function(){return this.m},Bn.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Bn=Kf.prototype).ma=8,Bn.G=1,Bn.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Bn.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const a=new mc(this,this.h,n,void 0);let p=this.s;if(this.P&&(p?(p=ac(p),ua(p,this.P)):p=this.P),null===this.o&&(a.H=p),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var s=this.l[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Xf(this,a,e),Pi(t=Ia(this.F),"RID",n),Pi(t,"CVER",22),this.D&&Pi(t,"X-HTTP-Session-Id",this.D),gd(this,t),this.o&&p&&pd(t,this.o,p),dd(this.i,a),this.Ra&&Pi(t,"TYPE","init"),this.ja?(Pi(t,"$req",e),Pi(t,"SID","null"),a.$=!0,Uu(a,t,null)):Uu(a,t,e),this.G=2}}else 3==this.G&&(n?ag(this,n):0==this.l.length||ud(this.i)||ag(this))},Bn.Ga=function(){if(this.u=null,lg(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Vu(bi(this.bb,this),n)}},Bn.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,po(10),Xd(this),lg(this))},Bn.ab=function(){null!=this.v&&(this.v=null,Xd(this),Zh(this),po(19))},Bn.jb=function(n){n?(this.h.info("Successfully pinged google.com"),po(2)):(this.h.info("Failed to ping google.com"),po(1))},(Bn=md.prototype).xa=function(){},Bn.wa=function(){},Bn.va=function(){},Bn.ua=function(){},Bn.Oa=function(){},Dc.prototype.g=function(n,e){return new ha(n,e)},Ui(ha,gs),ha.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Il(bi(n.hb,n,e))),po(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Qh(n,null,n.W),Qd(n)},ha.prototype.close=function(){Zf(this.g)},ha.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Kh(this.g,e)}else this.v?((e={}).__data__=hc(n),Kh(this.g,e)):Kh(this.g,n)},ha.prototype.M=function(){this.g.j=null,delete this.j,Zf(this.g),delete this.g,ha.Z.M.call(this)},Ui(Jh,gc),Ui(ep,Hd),Ui(Ko,md),Ko.prototype.xa=function(){bs(this.g,"a")},Ko.prototype.wa=function(n){bs(this.g,new Jh(n))},Ko.prototype.va=function(n){bs(this.g,new ep(n))},Ko.prototype.ua=function(){bs(this.g,"b")},Dc.prototype.createWebChannel=Dc.prototype.g,ha.prototype.send=ha.prototype.u,ha.prototype.open=ha.prototype.m,ha.prototype.close=ha.prototype.close,Jc.NO_ERROR=0,Jc.TIMEOUT=8,Jc.HTTP_ERROR=6,au.COMPLETE="complete",ed.EventType=ll,ll.OPEN="a",ll.CLOSE="b",ll.ERROR="c",ll.MESSAGE="d",gs.prototype.listen=gs.prototype.N,zr.prototype.listenOnce=zr.prototype.O,zr.prototype.getLastError=zr.prototype.La,zr.prototype.getLastErrorCode=zr.prototype.Da,zr.prototype.getStatus=zr.prototype.ba,zr.prototype.getResponseJson=zr.prototype.Qa,zr.prototype.getResponseText=zr.prototype.ga,zr.prototype.send=zr.prototype.ea;var Hs=zo.createWebChannelTransport=function(){return new Dc},Da=zo.getStatEventTarget=function(){return Fs()},qu=zo.ErrorCode=Jc,Lm=zo.EventType=au,Bm=zo.Event=al,tp=zo.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},np=zo.FetchXmlHttpFactory=fe,Ha=zo.WebChannel=ed,tv=zo.XhrIo=zr;const rp="@firebase/firestore";class Co{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Co.UNAUTHENTICATED=new Co(null),Co.GOOGLE_CREDENTIALS=new Co("google-credentials-uid"),Co.FIRST_PARTY=new Co("first-party-uid"),Co.MOCK_USER=new Co("mock-user");let Tc="9.6.11";const mu=new Kl.Yd("@firebase/firestore");function ef(){return mu.logLevel}function mn(n,...e){if(mu.logLevel<=Kl.in.DEBUG){const t=e.map(tf);mu.debug(`Firestore (${Tc}): ${n}`,...t)}}function ms(n,...e){if(mu.logLevel<=Kl.in.ERROR){const t=e.map(tf);mu.error(`Firestore (${Tc}): ${n}`,...t)}}function Jd(n,...e){if(mu.logLevel<=Kl.in.WARN){const t=e.map(tf);mu.warn(`Firestore (${Tc}): ${n}`,...t)}}function tf(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function Xn(n="Unexpected state"){const e=`FIRESTORE (${Tc}) INTERNAL ASSERTION FAILED: `+n;throw ms(e),new Error(e)}function Ur(n,e){n||Xn()}function On(n,e){return n}const Bt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class an extends Mn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ir{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class sp{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class op{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Co.UNAUTHENTICATED))}shutdown(){}}class dg{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class nf{constructor(e){this.t=e,this.currentUser=Co.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const p=Q=>this.i!==a?(a=this.i,t(Q)):Promise.resolve();let E=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),E.resolve(),E=new ir,e.enqueueRetryable(()=>p(this.currentUser))};const x=()=>{const Q=E;e.enqueueRetryable((0,Rt.Z)(function*(){yield Q.promise,yield p(s.currentUser)}))},H=Q=>{mn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Q,this.auth.addAuthTokenListener(this.o),x()};this.t.onInit(Q=>H(Q)),setTimeout(()=>{if(!this.auth){const Q=this.t.getImmediate({optional:!0});Q?H(Q):(mn("FirebaseAuthCredentialsProvider","Auth not yet detected"),E.resolve(),E=new ir)}},0),x()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(mn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ur("string"==typeof s.accessToken),new sp(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ur(null===e||"string"==typeof e),new Co(e)}}class za{constructor(e,t,s){this.type="FirstParty",this.user=Co.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const a=e.auth.getAuthHeaderValueForFirstParty([]);a&&this.headers.set("Authorization",a),s&&this.headers.set("X-Goog-Iam-Authorization-Token",s)}}class hg{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new za(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Co.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ap{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const s=p=>{null!=p.error&&mn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const E=p.token!==this.p;return this.p=p.token,mn("FirebaseAppCheckTokenProvider",`Received ${E?"new":"existing"} token.`),E?t(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>s(p))};const a=p=>{mn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.g.onInit(p=>a(p)),setTimeout(()=>{if(!this.appCheck){const p=this.g.getImmediate({optional:!0});p?a(p):mn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ur("string"==typeof t.token),this.p=t.token,new fg(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Zo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.I(s),this.T=s=>t.writeSequenceNumber(s))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function h(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}Zo.A=-1;class d{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=h(40);for(let p=0;p<a.length;++p)s.length<20&&a[p]<t&&(s+=e.charAt(a[p]%e.length))}return s}}function c(n,e){return n<e?-1:n>e?1:0}function m(n,e,t){return n.length===e.length&&n.every((s,a)=>t(s,e[a]))}function I(n){return n+"\0"}class M{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new an(Bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new an(Bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new an(Bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new an(Bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return M.fromMillis(Date.now())}static fromDate(e){return M.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new M(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?c(this.nanoseconds,e.nanoseconds):c(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class L{constructor(e){this.timestamp=e}static fromTimestamp(e){return new L(e)}static min(){return new L(new M(0,0))}static max(){return new L(new M(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function ce(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function we(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ge(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Mt{constructor(e,t,s){void 0===t?t=0:t>e.length&&Xn(),void 0===s?s=e.length-t:s>e.length-t&&Xn(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Mt.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Mt?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const p=e.get(a),E=t.get(a);if(p<E)return-1;if(p>E)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class gt extends Mt{construct(e,t,s){return new gt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new an(Bt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new gt(t)}static emptyPath(){return new gt([])}}const Zt=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wn extends Mt{construct(e,t,s){return new wn(e,t,s)}static isValidIdentifier(e){return Zt.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new wn(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const p=()=>{if(0===s.length)throw new an(Bt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let E=!1;for(;a<e.length;){const x=e[a];if("\\"===x){if(a+1===e.length)throw new an(Bt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const H=e[a+1];if("\\"!==H&&"."!==H&&"`"!==H)throw new an(Bt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=H,a+=2}else"`"===x?(E=!E,a++):"."!==x||E?(s+=x,a++):(p(),a++)}if(p(),E)throw new an(Bt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wn(t)}static emptyPath(){return new wn([])}}class ar{constructor(e){this.fields=e,e.sort(wn.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return m(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class yi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new yi(t)}static fromUint8Array(e){const t=function(s){let a="";for(let p=0;p<s.length;++p)a+=String.fromCharCode(s[p]);return a}(e);return new yi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return c(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yi.EMPTY_BYTE_STRING=new yi("");const Sc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xo(n){if(Ur(!!n),"string"==typeof n){let e=0;const t=Sc.exec(n);if(Ur(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Zi(n.seconds),nanos:Zi(n.nanos)}}function Zi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Yu(n){return"string"==typeof n?yi.fromBase64String(n):yi.fromUint8Array(n)}function Vm(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function pg(n){const e=n.mapValue.fields.__previous_value__;return Vm(e)?pg(e):e}function gg(n){const e=Xo(n.mapValue.fields.__local_write_time__.timestampValue);return new M(e.seconds,e.nanos)}class qw{constructor(e,t,s,a,p,E,x,H){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=p,this.forceLongPolling=E,this.autoDetectLongPolling=x,this.useFetchStreams=H}}class yd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new yd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof yd&&e.projectId===this.projectId&&e.database===this.database}}function rf(n){return null==n}function mg(n){return 0===n&&1/n==-1/0}function LE(n){return"number"==typeof n&&Number.isInteger(n)&&!mg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Rn{constructor(e){this.path=e}static fromPath(e){return new Rn(gt.fromString(e))}static fromName(e){return new Rn(gt.fromString(e).popFirst(5))}static empty(){return new Rn(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===gt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Rn(new gt(e.slice()))}}const BE={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},VE={nullValue:"NULL_VALUE"};function sf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Vm(n)?4:Hm(n)?9:10:Xn()}function Qo(n,e){if(n===e)return!0;const t=sf(n);if(t!==sf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return gg(n).isEqual(gg(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const p=Xo(s.timestampValue),E=Xo(a.timestampValue);return p.seconds===E.seconds&&p.nanos===E.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,Yu(n.bytesValue).isEqual(Yu(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return Zi(s.geoPointValue.latitude)===Zi(a.geoPointValue.latitude)&&Zi(s.geoPointValue.longitude)===Zi(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Zi(s.integerValue)===Zi(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const p=Zi(s.doubleValue),E=Zi(a.doubleValue);return p===E?mg(p)===mg(E):isNaN(p)&&isNaN(E)}return!1}(n,e);case 9:return m(n.arrayValue.values||[],e.arrayValue.values||[],Qo);case 10:return function(s,a){const p=s.mapValue.fields||{},E=a.mapValue.fields||{};if(ce(p)!==ce(E))return!1;for(const x in p)if(p.hasOwnProperty(x)&&(void 0===E[x]||!Qo(p[x],E[x])))return!1;return!0}(n,e);default:return Xn()}var a}function eh(n,e){return void 0!==(n.values||[]).find(t=>Qo(t,e))}function _d(n,e){if(n===e)return 0;const t=sf(n),s=sf(e);if(t!==s)return c(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return c(n.booleanValue,e.booleanValue);case 2:return function(a,p){const E=Zi(a.integerValue||a.doubleValue),x=Zi(p.integerValue||p.doubleValue);return E<x?-1:E>x?1:E===x?0:isNaN(E)?isNaN(x)?0:-1:1}(n,e);case 3:return Um(n.timestampValue,e.timestampValue);case 4:return Um(gg(n),gg(e));case 5:return c(n.stringValue,e.stringValue);case 6:return function(a,p){const E=Yu(a),x=Yu(p);return E.compareTo(x)}(n.bytesValue,e.bytesValue);case 7:return function(a,p){const E=a.split("/"),x=p.split("/");for(let H=0;H<E.length&&H<x.length;H++){const Q=c(E[H],x[H]);if(0!==Q)return Q}return c(E.length,x.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,p){const E=c(Zi(a.latitude),Zi(p.latitude));return 0!==E?E:c(Zi(a.longitude),Zi(p.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,p){const E=a.values||[],x=p.values||[];for(let H=0;H<E.length&&H<x.length;++H){const Q=_d(E[H],x[H]);if(Q)return Q}return c(E.length,x.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,p){const E=a.fields||{},x=Object.keys(E),H=p.fields||{},Q=Object.keys(H);x.sort(),Q.sort();for(let be=0;be<x.length&&be<Q.length;++be){const ze=c(x[be],Q[be]);if(0!==ze)return ze;const vt=_d(E[x[be]],H[Q[be]]);if(0!==vt)return vt}return c(x.length,Q.length)}(n.mapValue,e.mapValue);default:throw Xn()}}function Um(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return c(n,e);const t=Xo(n),s=Xo(e),a=c(t.seconds,s.seconds);return 0!==a?a:c(t.nanos,s.nanos)}function vd(n){return yg(n)}function yg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(s){const a=Xo(s);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Yu(n.bytesValue).toBase64():"referenceValue"in n?Rn.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(s){let a="[",p=!0;for(const E of s.values||[])p?p=!1:a+=",",a+=yg(E);return a+"]"}(n.arrayValue):"mapValue"in n?function(s){const a=Object.keys(s.fields||{}).sort();let p="{",E=!0;for(const x of a)E?E=!1:p+=",",p+=`${x}:${yg(s.fields[x])}`;return p+"}"}(n.mapValue):Xn();var e}function Ac(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function $m(n){return!!n&&"integerValue"in n}function Pl(n){return!!n&&"arrayValue"in n}function jm(n){return!!n&&"nullValue"in n}function nv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function af(n){return!!n&&"mapValue"in n}function lp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return we(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=lp(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=lp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Hm(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function UE(n){return"nullValue"in n?VE:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ac(yd.empty(),Rn.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Xn()}function $E(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ac(yd.empty(),Rn.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?BE:Xn()}function lf(n,e){return void 0===n?e:void 0===e||_d(n,e)>0?n:e}function th(n,e){return void 0===n?e:void 0===e||_d(n,e)<0?n:e}class Lo{constructor(e){this.value=e}static empty(){return new Lo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!af(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lp(t)}setAll(e){let t=wn.emptyPath(),s={},a=[];e.forEach((E,x)=>{if(!t.isImmediateParentOf(x)){const H=this.getFieldsMap(t);this.applyChanges(H,s,a),s={},a=[],t=x.popLast()}E?s[x.lastSegment()]=lp(E):a.push(x.lastSegment())});const p=this.getFieldsMap(t);this.applyChanges(p,s,a)}delete(e){const t=this.field(e.popLast());af(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];af(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){we(t,(a,p)=>e[a]=p);for(const a of s)delete e[a]}clone(){return new Lo(lp(this.value))}}function nh(n){const e=[];return we(n.fields,(t,s)=>{const a=new wn([t]);if(af(s)){const p=nh(s.mapValue).fields;if(0===p.length)e.push(a);else for(const E of p)e.push(a.child(E))}else e.push(a)}),new ar(e)}class as{constructor(e,t,s,a,p,E){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.data=p,this.documentState=E}static newInvalidDocument(e){return new as(e,0,L.min(),L.min(),Lo.empty(),0)}static newFoundDocument(e,t,s){return new as(e,1,t,L.min(),s,0)}static newNoDocument(e,t){return new as(e,2,t,L.min(),Lo.empty(),0)}static newUnknownDocument(e,t){return new as(e,3,t,L.min(),Lo.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof as&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new as(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xc{constructor(e,t,s,a){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=a}}function Gm(n){return n.fields.find(e=>2===e.kind)}function Ed(n){return n.fields.filter(e=>2!==e.kind)}xc.UNKNOWN_ID=-1;class up{constructor(e,t){this.fieldPath=e,this.kind=t}}class rh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new rh(0,Ol.min())}}function _g(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=L.fromTimestamp(1e9===s?new M(t+1,0):new M(t,s));return new Ol(a,Rn.empty(),e)}function rv(n){return new Ol(n.readTime,n.key,-1)}class Ol{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ol(L.min(),Rn.empty(),-1)}static max(){return new Ol(L.max(),Rn.empty(),-1)}}function jE(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Rn.comparator(n.documentKey,e.documentKey),0!==t?t:c(n.largestBatchId,e.largestBatchId))}class iv{constructor(e,t=null,s=[],a=[],p=null,E=null,x=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=p,this.startAt=E,this.endAt=x,this.P=null}}function HE(n,e=null,t=[],s=[],a=null,p=null,E=null){return new iv(n,e,t,s,a,p,E)}function bd(n){const e=On(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>{return(a=s).field.canonicalString()+a.op.toString()+vd(a.value);var a}).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),rf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>vd(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>vd(s)).join(",")),e.P=t}return e.P}function cp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<n.orderBy.length;a++)if(!WE(n.orderBy[a],e.orderBy[a]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let a=0;a<n.filters.length;a++)if((t=n.filters[a]).op!==(s=e.filters[a]).op||!t.field.isEqual(s.field)||!Qo(t.value,s.value))return!1;var t,s;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!lv(n.startAt,e.startAt)&&lv(n.endAt,e.endAt)}function dp(n){return Rn.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function vg(n,e){return n.filters.filter(t=>t instanceof Jo&&t.field.isEqual(e))}function ov(n,e,t){let s,a=!0;for(const p of vg(n,e)){let E,x=!0;switch(p.op){case"<":case"<=":E=UE(p.value);break;case"==":case"in":case">=":E=p.value;break;case">":E=p.value,x=!1;break;case"!=":case"not-in":E=VE}lf(s,E)===E&&(s=E,a=x)}if(null!==t)for(let p=0;p<n.orderBy.length;++p)if(n.orderBy[p].field.isEqual(e)){const E=t.position[p];lf(s,E)===E&&(s=E,a=t.inclusive);break}return{value:s,inclusive:a}}function Wa(n,e,t){let s,a=!0;for(const p of vg(n,e)){let E,x=!0;switch(p.op){case">=":case">":E=$E(p.value),x=!1;break;case"==":case"in":case"<=":E=p.value;break;case"<":E=p.value,x=!1;break;case"!=":case"not-in":E=BE}th(s,E)===E&&(s=E,a=x)}if(null!==t)for(let p=0;p<n.orderBy.length;++p)if(n.orderBy[p].field.isEqual(e)){const E=t.position[p];th(s,E)===E&&(s=E,a=t.inclusive);break}return{value:s,inclusive:a}}class Jo extends class{}{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,s):new GE(e,t,s):"array-contains"===t?new Zw(e,s):"in"===t?new zE(e,s):"not-in"===t?new Wm(e,s):"array-contains-any"===t?new av(e,s):new Jo(e,t,s)}static V(e,t,s){return"in"===t?new Yw(e,s):new Kw(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(_d(t,this.value)):null!==t&&sf(this.value)===sf(t)&&this.v(_d(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xn()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class GE extends Jo{constructor(e,t,s){super(e,t,s),this.key=Rn.fromName(s.referenceValue)}matches(e){const t=Rn.comparator(e.key,this.key);return this.v(t)}}class Yw extends Jo{constructor(e,t){super(e,"in",t),this.keys=zm(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Kw extends Jo{constructor(e,t){super(e,"not-in",t),this.keys=zm(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function zm(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>Rn.fromName(s.referenceValue))}class Zw extends Jo{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Pl(t)&&eh(t.arrayValue,this.value)}}class zE extends Jo{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&eh(this.value.arrayValue,t)}}class Wm extends Jo{constructor(e,t){super(e,"not-in",t)}matches(e){if(eh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!eh(this.value.arrayValue,t)}}class av extends Jo{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Pl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>eh(this.value.arrayValue,s))}}class wd{constructor(e,t){this.position=e,this.inclusive=t}}class uf{constructor(e,t="asc"){this.field=e,this.dir=t}}function WE(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function qm(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const p=e[a],E=n.position[a];if(s=p.field.isKeyField()?Rn.comparator(Rn.fromName(E.referenceValue),t.key):_d(E,t.data.field(p.field)),"desc"===p.dir&&(s*=-1),0!==s)break}return s}function lv(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Qo(n.position[t],e.position[t]))return!1;return!0}class Ku{constructor(e,t=null,s=[],a=[],p=null,E="F",x=null,H=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=p,this.limitType=E,this.startAt=x,this.endAt=H,this.D=null,this.C=null}}function uv(n,e,t,s,a,p,E,x){return new Ku(n,e,t,s,a,p,E,x)}function cf(n){return new Ku(n)}function hp(n){return!rf(n.limit)&&"F"===n.limitType}function fp(n){return!rf(n.limit)&&"L"===n.limitType}function Ym(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function kl(n){for(const e of n.filters)if(e.S())return e.field;return null}function pp(n){return null!==n.collectionGroup}function df(n){const e=On(n);if(null===e.D){e.D=[];const t=kl(e),s=Ym(e);if(null!==t&&null===s)t.isKeyField()||e.D.push(new uf(t)),e.D.push(new uf(wn.keyField(),"asc"));else{let a=!1;for(const p of e.explicitOrderBy)e.D.push(p),p.field.isKeyField()&&(a=!0);if(!a){const p=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new uf(wn.keyField(),p))}}}return e.D}function Nl(n){const e=On(n);if(!e.C)if("F"===e.limitType)e.C=HE(e.path,e.collectionGroup,df(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const p of df(e))t.push(new uf(p.field,"desc"===p.dir?"asc":"desc"));const s=e.endAt?new wd(e.endAt.position,!e.endAt.inclusive):null,a=e.startAt?new wd(e.startAt.position,!e.startAt.inclusive):null;e.C=HE(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e.C}function qE(n,e,t){return new Ku(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function hf(n,e){return cp(Nl(n),Nl(e))&&n.limitType===e.limitType}function cv(n){return`${bd(Nl(n))}|lt:${n.limitType}`}function Km(n){return`Query(target=${function sv(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(s=t).field.canonicalString()} ${s.op} ${vd(s.value)}`;var s}).join(", ")}]`),rf(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(s=t).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>vd(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>vd(t)).join(",")),`Target(${e})`}(Nl(n))}; limitType=${n.limitType})`}function Zm(n,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):Rn.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,s){for(const a of t.explicitOrderBy)if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(n,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(n,e)&&(s=e,!((t=n).startAt&&!function(a,p,E){const x=qm(a,p,E);return a.inclusive?x<=0:x<0}(t.startAt,df(t),s)||t.endAt&&!function(a,p,E){const x=qm(a,p,E);return a.inclusive?x>=0:x>0}(t.endAt,df(t),s)));var t,s}function Eg(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function dv(n){return(e,t)=>{let s=!1;for(const a of df(n)){const p=YE(a,e,t);if(0!==p)return p;s=s||a.field.isKeyField()}return 0}}function YE(n,e,t){const s=n.field.isKeyField()?Rn.comparator(e.key,t.key):function(a,p,E){const x=p.data.field(a),H=E.data.field(a);return null!==x&&null!==H?_d(x,H):Xn()}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Xn()}}function gp(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mg(e)?"-0":e}}function bg(n){return{integerValue:""+n}}function hv(n,e){return LE(e)?bg(e):gp(n,e)}class ff{constructor(){this._=void 0}}function Xm(n,e,t){return n instanceof pf?function(s,a){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&(p.fields.__previous_value__=a),{mapValue:p}}(t,e):n instanceof Mc?KE(n,e):n instanceof ih?Qm(n,e):function(s,a){const p=pv(s,a),E=Jm(p)+Jm(s.k);return $m(p)&&$m(s.k)?bg(E):gp(s.M,E)}(n,e)}function fv(n,e,t){return n instanceof Mc?KE(n,e):n instanceof ih?Qm(n,e):t}function pv(n,e){return n instanceof sh?$m(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class pf extends ff{}class Mc extends ff{constructor(e){super(),this.elements=e}}function KE(n,e){const t=ey(e);for(const s of n.elements)t.some(a=>Qo(a,s))||t.push(s);return{arrayValue:{values:t}}}class ih extends ff{constructor(e){super(),this.elements=e}}function Qm(n,e){let t=ey(e);for(const s of n.elements)t=t.filter(a=>!Qo(a,s));return{arrayValue:{values:t}}}class sh extends ff{constructor(e,t){super(),this.M=e,this.k=t}}function Jm(n){return Zi(n.integerValue||n.doubleValue)}function ey(n){return Pl(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class gf{constructor(e,t){this.field=e,this.transform=t}}class wg{constructor(e,t){this.version=e,this.transformResults=t}}class go{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new go}static exists(e){return new go(void 0,e)}static updateTime(e){return new go(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ig(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ty{}function ny(n,e,t){n instanceof oh?function(s,a,p){const E=s.value.clone(),x=sy(s.fieldTransforms,a,p.transformResults);E.setAll(x),a.convertToFoundDocument(p.version,E).setHasCommittedMutations()}(n,e,t):n instanceof Id?function(s,a,p){if(!Ig(s.precondition,a))return void a.convertToUnknownDocument(p.version);const E=sy(s.fieldTransforms,a,p.transformResults),x=a.data;x.setAll(iy(s)),x.setAll(E),a.convertToFoundDocument(p.version,x).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Cg(n,e,t){var a;n instanceof oh?function(s,a,p){if(!Ig(s.precondition,a))return;const E=s.value.clone(),x=mv(s.fieldTransforms,p,a);E.setAll(x),a.convertToFoundDocument(gv(a),E).setHasLocalMutations()}(n,e,t):n instanceof Id?function(s,a,p){if(!Ig(s.precondition,a))return;const E=mv(s.fieldTransforms,p,a),x=a.data;x.setAll(iy(s)),x.setAll(E),a.convertToFoundDocument(gv(a),x).setHasLocalMutations()}(n,e,t):Ig(n.precondition,a=e)&&a.convertToNoDocument(L.min())}function ry(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),p=pv(s.transform,a||null);null!=p&&(null==t&&(t=Lo.empty()),t.set(s.field,p))}return t||null}function mf(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===s||t&&s&&m(t,s,(a,p)=>function Rc(n,e){return n.field.isEqual(e.field)&&(s=e.transform,(t=n.transform)instanceof Mc&&s instanceof Mc||t instanceof ih&&s instanceof ih?m(t.elements,s.elements,Qo):t instanceof sh&&s instanceof sh?Qo(t.k,s.k):t instanceof pf&&s instanceof pf);var t,s}(a,p))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,s}function gv(n){return n.isFoundDocument()?n.version:L.min()}class oh extends ty{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}}class Id extends ty{constructor(e,t,s,a,p=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=p,this.type=1}}function iy(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function sy(n,e,t){const s=new Map;Ur(n.length===t.length);for(let a=0;a<t.length;a++){const p=n[a],E=p.transform,x=e.data.field(p.field);s.set(p.field,fv(E,x,t[a]))}return s}function mv(n,e,t){const s=new Map;for(const a of n){const p=a.transform,E=t.data.field(a.field);s.set(a.field,Xm(p,E,e))}return s}class ah extends ty{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class oy extends ty{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class ZE{constructor(e){this.count=e}}var ao,hi;function ay(n){switch(n){default:return Xn();case Bt.CANCELLED:case Bt.UNKNOWN:case Bt.DEADLINE_EXCEEDED:case Bt.RESOURCE_EXHAUSTED:case Bt.INTERNAL:case Bt.UNAVAILABLE:case Bt.UNAUTHENTICATED:return!1;case Bt.INVALID_ARGUMENT:case Bt.NOT_FOUND:case Bt.ALREADY_EXISTS:case Bt.PERMISSION_DENIED:case Bt.FAILED_PRECONDITION:case Bt.ABORTED:case Bt.OUT_OF_RANGE:case Bt.UNIMPLEMENTED:case Bt.DATA_LOSS:return!0}}function yv(n){if(void 0===n)return ms("GRPC error has no .code"),Bt.UNKNOWN;switch(n){case ao.OK:return Bt.OK;case ao.CANCELLED:return Bt.CANCELLED;case ao.UNKNOWN:return Bt.UNKNOWN;case ao.DEADLINE_EXCEEDED:return Bt.DEADLINE_EXCEEDED;case ao.RESOURCE_EXHAUSTED:return Bt.RESOURCE_EXHAUSTED;case ao.INTERNAL:return Bt.INTERNAL;case ao.UNAVAILABLE:return Bt.UNAVAILABLE;case ao.UNAUTHENTICATED:return Bt.UNAUTHENTICATED;case ao.INVALID_ARGUMENT:return Bt.INVALID_ARGUMENT;case ao.NOT_FOUND:return Bt.NOT_FOUND;case ao.ALREADY_EXISTS:return Bt.ALREADY_EXISTS;case ao.PERMISSION_DENIED:return Bt.PERMISSION_DENIED;case ao.FAILED_PRECONDITION:return Bt.FAILED_PRECONDITION;case ao.ABORTED:return Bt.ABORTED;case ao.OUT_OF_RANGE:return Bt.OUT_OF_RANGE;case ao.UNIMPLEMENTED:return Bt.UNIMPLEMENTED;case ao.DATA_LOSS:return Bt.DATA_LOSS;default:return Xn()}}(hi=ao||(ao={}))[hi.OK=0]="OK",hi[hi.CANCELLED=1]="CANCELLED",hi[hi.UNKNOWN=2]="UNKNOWN",hi[hi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hi[hi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hi[hi.NOT_FOUND=5]="NOT_FOUND",hi[hi.ALREADY_EXISTS=6]="ALREADY_EXISTS",hi[hi.PERMISSION_DENIED=7]="PERMISSION_DENIED",hi[hi.UNAUTHENTICATED=16]="UNAUTHENTICATED",hi[hi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hi[hi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hi[hi.ABORTED=10]="ABORTED",hi[hi.OUT_OF_RANGE=11]="OUT_OF_RANGE",hi[hi.UNIMPLEMENTED=12]="UNIMPLEMENTED",hi[hi.INTERNAL=13]="INTERNAL",hi[hi.UNAVAILABLE=14]="UNAVAILABLE",hi[hi.DATA_LOSS=15]="DATA_LOSS";class Cd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,p]of s)if(this.equalsFn(a,e))return p}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let p=0;p<a.length;p++)if(this.equalsFn(a[p][0],e))return void(a[p]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){we(this.inner,(t,s)=>{for(const[a,p]of s)e(a,p)})}isEmpty(){return Ge(this.inner)}size(){return this.innerSize}}class Is{constructor(e,t){this.comparator=e,this.root=t||ea.EMPTY}insert(e,t){return new Is(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ea.BLACK,null,null))}remove(e){return new Is(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ea.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dg(this.root,e,this.comparator,!0)}}class Dg{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=t?s(e.key,t):1,t&&a&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ea{constructor(e,t,s,a,p){this.key=e,this.value=t,this.color=null!=s?s:ea.RED,this.left=null!=a?a:ea.EMPTY,this.right=null!=p?p:ea.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,p){return new ea(null!=e?e:this.key,null!=t?t:this.value,null!=s?s:this.color,null!=a?a:this.left,null!=p?p:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const p=s(e,a.key);return a=p<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===p?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ea.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return ea.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ea.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ea.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xn();const e=this.left.check();if(e!==this.right.check())throw Xn();return e+(this.isRed()?0:1)}}ea.EMPTY=null,ea.RED=!0,ea.BLACK=!1,ea.EMPTY=new class{constructor(){this.size=0}get key(){throw Xn()}get value(){throw Xn()}get color(){throw Xn()}get left(){throw Xn()}get right(){throw Xn()}copy(n,e,t,s,a){return this}insert(n,e,t){return new ea(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ms{constructor(e){this.comparator=e,this.data=new Is(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _v(this.data.getIterator())}getIteratorFrom(e){return new _v(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ms)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,p=s.getNext().key;if(0!==this.comparator(a,p))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ms(this.comparator);return t.data=e,t}}class _v{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function fa(n){return n.hasNext()?n.getNext():void 0}const ly=new Is(Rn.comparator);function fl(){return ly}const vv=new Is(Rn.comparator);function Tg(){return vv}function yf(){return new Cd(n=>n.toString(),(n,e)=>n.isEqual(e))}const XE=new Is(Rn.comparator),QE=new Ms(Rn.comparator);function Xi(...n){let e=QE;for(const t of n)e=e.add(t);return e}const JE=new Ms(c);function mp(){return JE}class Sg{constructor(e,t,s,a,p){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,t){const s=new Map;return s.set(e,_f.createSynthesizedTargetChangeForCurrentChange(e,t)),new Sg(L.min(),s,mp(),fl(),Xi())}}class _f{constructor(e,t,s,a,p){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,t){return new _f(yi.EMPTY_BYTE_STRING,t,Xi(),Xi(),Xi())}}class Ag{constructor(e,t,s,a){this.O=e,this.removedTargetIds=t,this.key=s,this.F=a}}class Ev{constructor(e,t){this.targetId=e,this.$=t}}class eb{constructor(e,t,s=yi.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class tb{constructor(){this.B=0,this.L=cy(),this.U=yi.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Xi(),t=Xi(),s=Xi();return this.L.forEach((a,p)=>{switch(p){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Xn()}}),new _f(this.U,this.q,e,t,s)}J(){this.K=!1,this.L=cy()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class uy{constructor(e){this.nt=e,this.st=new Map,this.it=fl(),this.rt=bv(),this.ot=new Ms(c)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const s=this.lt(t);switch(e.state){case 0:this.ft(t)&&s.W(e.resumeToken);break;case 1:s.tt(),s.G||s.J(),s.W(e.resumeToken);break;case 2:s.tt(),s.G||this.removeTarget(t);break;case 3:this.ft(t)&&(s.et(),s.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),s.W(e.resumeToken));break;default:Xn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((s,a)=>{this.ft(a)&&t(a)})}_t(e){const t=e.targetId,s=e.$.count,a=this.wt(t);if(a){const p=a.target;if(dp(p))if(0===s){const E=new Rn(p.path);this.ct(t,E,as.newNoDocument(E,L.min()))}else Ur(1===s);else this.gt(t)!==s&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((p,E)=>{const x=this.wt(E);if(x){if(p.current&&dp(x.target)){const H=new Rn(x.target.path);null!==this.it.get(H)||this.It(E,H)||this.ct(E,H,as.newNoDocument(H,e))}p.j&&(t.set(E,p.H()),p.J())}});let s=Xi();this.rt.forEach((p,E)=>{let x=!0;E.forEachWhile(H=>{const Q=this.wt(H);return!Q||2===Q.purpose||(x=!1,!1)}),x&&(s=s.add(p))}),this.it.forEach((p,E)=>E.setReadTime(e));const a=new Sg(e,t,this.ot,this.it,s);return this.it=fl(),this.rt=bv(),this.ot=new Ms(c),a}at(e,t){if(!this.ft(e))return;const s=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,s),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,s){if(!this.ft(e))return;const a=this.lt(e);this.It(e,t)?a.Y(t,1):a.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),s&&(this.it=this.it.insert(t,s))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new tb,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Ms(c),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||mn("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new tb),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function bv(){return new Is(Rn.comparator)}function cy(){return new Is(Rn.comparator)}const wv={asc:"ASCENDING",desc:"DESCENDING"},Xw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class _u{constructor(e,t){this.databaseId=e,this.N=t}}function xg(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nb(n,e){return n.N?e.toBase64():e.toUint8Array()}function Iv(n,e){return xg(n,e.toTimestamp())}function Do(n){return Ur(!!n),L.fromTimestamp(function(e){const t=Xo(e);return new M(t.seconds,t.nanos)}(n))}function Mg(n,e){return(t=n,new gt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Cv(n){const e=gt.fromString(n);return Ur(uh(e)),e}function Rg(n,e){return Mg(n.databaseId,e.path)}function vu(n,e){const t=Cv(e);if(t.get(1)!==n.databaseId.projectId)throw new an(Bt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new an(Bt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Rn(Tv(t))}function yp(n,e){return Mg(n.databaseId,e)}function Dv(n){const e=Cv(n);return 4===e.length?gt.emptyPath():Tv(e)}function lh(n){return new gt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Tv(n){return Ur(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Sv(n,e,t){return{name:Rg(n,e),fields:t.value.mapValue.fields}}function Av(n,e,t){const s=vu(n,e.name),a=Do(e.updateTime),p=new Lo({mapValue:{fields:e.fields}}),E=as.newFoundDocument(s,a,p);return t&&E.setHasCommittedMutations(),t?E.setHasCommittedMutations():E}function _p(n,e){let t;if(e instanceof oh)t={update:Sv(n,e.key,e.value)};else if(e instanceof ah)t={delete:Rg(n,e.key)};else if(e instanceof Id)t={update:Sv(n,e.key,e.data),updateMask:dy(e.fieldMask)};else{if(!(e instanceof oy))return Xn();t={verify:Rg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,p){const E=p.transform;if(E instanceof pf)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(E instanceof Mc)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:E.elements}};if(E instanceof ih)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:E.elements}};if(E instanceof sh)return{fieldPath:p.field.canonicalString(),increment:E.k};throw Xn()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:Iv(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:Xn()),t;var a}function vf(n,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?go.updateTime(Do(a.updateTime)):void 0!==a.exists?go.exists(a.exists):go.none():go.none(),s=e.updateTransforms?e.updateTransforms.map(a=>function(p,E){let x=null;"setToServerValue"in E?(Ur("REQUEST_TIME"===E.setToServerValue),x=new pf):"appendMissingElements"in E?x=new Mc(E.appendMissingElements.values||[]):"removeAllFromArray"in E?x=new ih(E.removeAllFromArray.values||[]):"increment"in E?x=new sh(p,E.increment):Xn();const H=wn.fromServerFormat(E.fieldPath);return new gf(H,x)}(n,a)):[];var a;if(e.update){const a=vu(n,e.update.name),p=new Lo({mapValue:{fields:e.update.fields}});if(e.updateMask){const E=new ar((e.updateMask.fieldPaths||[]).map(Q=>wn.fromServerFormat(Q)));return new Id(a,p,E,t,s)}return new oh(a,p,t,s)}if(e.delete){const a=vu(n,e.delete);return new ah(a,t)}if(e.verify){const a=vu(n,e.verify);return new oy(a,t)}return Xn()}function xv(n,e){return{documents:[yp(n,e.path)]}}function bf(n,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=yp(n,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=yp(n,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(H){if(0===H.length)return;const Q=H.map(be=>function(ze){if("=="===ze.op){if(nv(ze.value))return{unaryFilter:{field:lo(ze.field),op:"IS_NAN"}};if(jm(ze.value))return{unaryFilter:{field:lo(ze.field),op:"IS_NULL"}}}else if("!="===ze.op){if(nv(ze.value))return{unaryFilter:{field:lo(ze.field),op:"IS_NOT_NAN"}};if(jm(ze.value))return{unaryFilter:{field:lo(ze.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lo(ze.field),op:vp(ze.op),value:ze.value}}}(be));return 1===Q.length?Q[0]:{compositeFilter:{op:"AND",filters:Q}}}(e.filters);a&&(t.structuredQuery.where=a);const p=function(H){if(0!==H.length)return H.map(Q=>{return{field:lo((be=Q).field),direction:Zu(be.dir)};var be})}(e.orderBy);p&&(t.structuredQuery.orderBy=p);const E=(Q=e.limit,n.N||rf(Q)?Q:{value:Q});var Q,x,H;return null!==E&&(t.structuredQuery.limit=E),e.startAt&&(t.structuredQuery.startAt={before:(x=e.startAt).inclusive,values:x.position}),e.endAt&&(t.structuredQuery.endAt={before:!(H=e.endAt).inclusive,values:H.position}),t}function Mv(n){let e=Dv(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Ur(1===s);const be=t.from[0];be.allDescendants?a=be.collectionId:e=e.child(be.collectionId)}let p=[];t.where&&(p=Pg(t.where));let E=[];t.orderBy&&(E=t.orderBy.map(be=>{return new uf(Fl((ze=be).field),function(vt){switch(vt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ze.direction));var ze}));let x=null;t.limit&&(x=function(be){let ze;return ze="object"==typeof be?be.value:be,rf(ze)?null:ze}(t.limit));let H=null;var be;t.startAt&&(H=new wd((be=t.startAt).values||[],!!be.before));let Q=null;return t.endAt&&(Q=function(be){return new wd(be.values||[],!be.before)}(t.endAt)),uv(e,a,E,p,x,"F",H,Q)}function Pg(n){return n?void 0!==n.unaryFilter?[Ll(n)]:void 0!==n.fieldFilter?[Og(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Pg(e)).reduce((e,t)=>e.concat(t)):Xn():[]}function Zu(n){return wv[n]}function vp(n){return Xw[n]}function lo(n){return{fieldPath:n.canonicalString()}}function Fl(n){return wn.fromServerFormat(n.fieldPath)}function Og(n){return Jo.create(Fl(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xn()}}(n.fieldFilter.op),n.fieldFilter.value)}function Ll(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Fl(n.unaryFilter.field);return Jo.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Fl(n.unaryFilter.field);return Jo.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Fl(n.unaryFilter.field);return Jo.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Fl(n.unaryFilter.field);return Jo.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Xn()}}function dy(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function uh(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function mo(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ch(e)),e=wf(n.get(t),e);return ch(e)}function wf(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const p=n.charAt(a);switch(p){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=p}}return t}function ch(n){return n+"\x01\x01"}function Ta(n){const e=n.length;if(Ur(e>=2),2===e)return Ur("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),gt.emptyPath();const t=e-2,s=[];let a="";for(let p=0;p<e;){const E=n.indexOf("\x01",p);switch((E<0||E>t)&&Xn(),n.charAt(E+1)){case"\x01":const x=n.substring(p,E);let H;0===a.length?H=x:(a+=x,H=a,a=""),s.push(H);break;case"\x10":a+=n.substring(p,E),a+="\0";break;case"\x11":a+=n.substring(p,E+1);break;default:Xn()}p=E+2}return new gt(s)}const dh=["userId","batchId"];function Pc(n,e){return[n,mo(e)]}function hh(n,e,t){return[n,mo(e),t]}const If={},Rv=["prefixPath","collectionGroup","readTime","documentId"],Pv=["prefixPath","collectionGroup","documentId"],Ov=["collectionGroup","readTime","prefixPath","documentId"],kv=["canonicalId","targetId"],Nv=["targetId","path"],Fv=["path","targetId"],Lv=["collectionId","parent"],Bv=["indexId","uid"],Vv=["uid","sequenceNumber"],ob=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Uv=["indexId","uid","orderedDocumentKey"],ab=["userId","collectionPath","documentId"],$v=["userId","collectionPath","largestBatchId"],jv=["userId","collectionGroup","largestBatchId"],Hv=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],lb=[...Hv,"documentOverlays"],hy=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ub=[...hy,"indexConfiguration","indexState","indexEntries"],fy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class $t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Xn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new $t((s,a)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(s,a)},this.catchCallback=p=>{this.wrapFailure(t,p).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof $t?t:$t.resolve(t)}catch(t){return $t.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):$t.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):$t.reject(t)}static resolve(e){return new $t((t,s)=>{t(e)})}static reject(e){return new $t((t,s)=>{s(e)})}static waitFor(e){return new $t((t,s)=>{let a=0,p=0,E=!1;e.forEach(x=>{++a,x.next(()=>{++p,E&&p===a&&t()},H=>s(H))}),E=!0,p===a&&t()})}static or(e){let t=$t.resolve(!1);for(const s of e)t=t.next(a=>a?$t.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,p)=>{s.push(t.call(this,a,p))}),this.waitFor(s)}}class py{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new ir,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new fh(e,t.error)):this.At.resolve()},this.transaction.onerror=s=>{const a=my(s.target.error);this.At.reject(new fh(e,a))}}static open(e,t,s,a){try{return new py(t,e.transaction(a,s))}catch(p){throw new fh(t,p)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(mn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Qw(t)}}class Eu{constructor(e,t,s){this.name=e,this.version=t,this.bt=s,12.2===Eu.Vt((0,Mn.z$)())&&ms("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return mn("SimpleDb","Removing database:",e),Cf(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Mn.hl)())return!1;if(Eu.St())return!0;const e=(0,Mn.z$)(),t=Eu.Vt(e),s=0<t&&t<10,a=Eu.Dt(e),p=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||p)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}Nt(e){var t=this;return(0,Rt.Z)(function*(){return t.db||(mn("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,a)=>{const p=indexedDB.open(t.name,t.version);p.onsuccess=E=>{s(E.target.result)},p.onblocked=()=>{a(new fh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=E=>{const x=E.target.error;a("VersionError"===x.name?new an(Bt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===x.name?new an(Bt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+x):new fh(e,x))},p.onupgradeneeded=E=>{mn("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',E.oldVersion),t.bt.kt(E.target.result,p.transaction,E.oldVersion,t.version).next(()=>{mn("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=s=>t.Mt(s)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,a){var p=this;return(0,Rt.Z)(function*(){const E="readonly"===t;let x=0;for(;;){++x;try{p.db=yield p.Nt(e);const H=py.open(p.db,e,E?"readonly":"readwrite",s),Q=a(H).next(be=>(H.Pt(),be)).catch(be=>(H.abort(be),$t.reject(be))).toPromise();return Q.catch(()=>{}),yield H.Rt,Q}catch(H){const Q="FirebaseError"!==H.name&&x<3;if(mn("SimpleDb","Transaction failed with error:",H.message,"Retrying:",Q),p.close(),!Q)return Promise.reject(H)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class gy{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Cf(this.Ft.delete())}}class fh extends an{constructor(e,t){super(Bt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ph(n){return"IndexedDbTransactionError"===n.name}class Qw{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(mn("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(mn("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Cf(s)}add(e){return mn("SimpleDb","ADD",this.store.name,e,e),Cf(this.store.add(e))}get(e){return Cf(this.store.get(e)).next(t=>(void 0===t&&(t=null),mn("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return mn("SimpleDb","DELETE",this.store.name,e),Cf(this.store.delete(e))}count(){return mn("SimpleDb","COUNT",this.store.name),Cf(this.store.count())}qt(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const a=this.cursor(s),p=[];return this.Kt(a,(E,x)=>{p.push(x)}).next(()=>p)}{const a=this.store.getAll(s.range);return new $t((p,E)=>{a.onerror=x=>{E(x.target.error)},a.onsuccess=x=>{p(x.target.result)}})}}Gt(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new $t((a,p)=>{s.onerror=E=>{p(E.target.error)},s.onsuccess=E=>{a(E.target.result)}})}Qt(e,t){mn("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.jt=!1;const a=this.cursor(s);return this.Kt(a,(p,E,x)=>x.delete())}Wt(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.Kt(a,t)}zt(e){const t=this.cursor({});return new $t((s,a)=>{t.onerror=p=>{const E=my(p.target.error);a(E)},t.onsuccess=p=>{const E=p.target.result;E?e(E.primaryKey,E.value).next(x=>{x?E.continue():s()}):s()}})}Kt(e,t){const s=[];return new $t((a,p)=>{e.onerror=E=>{p(E.target.error)},e.onsuccess=E=>{const x=E.target.result;if(!x)return void a();const H=new gy(x),Q=t(x.primaryKey,x.value,H);if(Q instanceof $t){const be=Q.catch(ze=>(H.done(),$t.reject(ze)));s.push(be)}H.isDone?a():null===H.Lt?x.continue():x.continue(H.Lt)}}).next(()=>$t.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.jt?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Cf(n){return new $t((e,t)=>{n.onsuccess=s=>{e(s.target.result)},n.onerror=s=>{const a=my(s.target.error);t(a)}})}let cb=!1;function my(n){const e=Eu.Vt((0,Mn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const s=new an("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return cb||(cb=!0,setTimeout(()=>{throw s},0)),s}}return n}class yy extends Gv{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function ta(n,e){const t=On(n);return Eu.xt(t.Ht,e)}class _y{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const p=this.mutations[a];p.key.isEqual(e.key)&&ny(p,e,s[a])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Cg(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Cg(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const s=e.get(t.key),a=s;this.applyToLocalView(a),s.isValidDocument()||a.convertToNoDocument(L.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Xi())}isEqual(e){return this.batchId===e.batchId&&m(this.mutations,e.mutations,(t,s)=>mf(t,s))&&m(this.baseMutations,e.baseMutations,(t,s)=>mf(t,s))}}class Dd{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Ur(e.mutations.length===s.length);let a=XE;const p=e.mutations;for(let E=0;E<p.length;E++)a=a.insert(p[E].key,s[E].version);return new Dd(e,t,s,a)}}class vy{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Oc{constructor(e,t,s,a,p=L.min(),E=L.min(),x=yi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=E,this.resumeToken=x}withSequenceNumber(e){return new Oc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Oc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Oc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class zv{constructor(e){this.Jt=e}}function Ep(n,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:kg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Rg(a=n.Jt,(p=e).key),fields:p.data.value.mapValue.fields,updateTime:xg(a,p.version.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:Td(e.version)};else{if(!e.isUnknownDocument())return Xn();s.unknownDocument={path:t.path.toArray(),version:Td(e.version)}}var a,p;return s}function kg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Td(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function gh(n){const e=new M(n.seconds,n.nanoseconds);return L.fromTimestamp(e)}function Df(n,e){const t=(e.baseMutations||[]).map(p=>vf(n.Jt,p));for(let p=0;p<e.mutations.length-1;++p){const E=e.mutations[p];p+1<e.mutations.length&&void 0!==e.mutations[p+1].transform&&(E.updateTransforms=e.mutations[p+1].transform.fieldTransforms,e.mutations.splice(p+1,1),++p)}const s=e.mutations.map(p=>vf(n.Jt,p)),a=M.fromMillis(e.localWriteTimeMs);return new _y(e.batchId,a,t,s)}function bp(n){const e=gh(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?gh(n.lastLimboFreeSnapshotVersion):L.min();let s;var a;return void 0!==n.query.documents?(Ur(1===(a=n.query).documents.length),s=Nl(cf(Dv(a.documents[0])))):s=Nl(Mv(n.query)),new Oc(s,n.targetId,0,n.lastListenSequenceNumber,e,t,yi.fromBase64String(n.resumeToken))}function qv(n,e){const t=Td(e.snapshotVersion),s=Td(e.lastLimboFreeSnapshotVersion);let a;a=dp(e.target)?xv(n.Jt,e.target):bf(n.Jt,e.target);const p=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:bd(e.target),readTime:t,resumeToken:p,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:a}}function Ey(n){const e=Mv({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?qE(e,e.limit,"L"):e}function Ng(n,e){return new vy(e.largestBatchId,vf(n.Jt,e.overlayMutation))}function Yv(n,e){const t=e.path.lastSegment();return[n,mo(e.path.popLast()),t]}class Kv{getBundleMetadata(e,t){return by(e).get(t).next(s=>{if(s)return{id:(a=s).bundleId,createTime:gh(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return by(e).put({bundleId:(s=t).id,createTime:Td(Do(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Fg(e).get(t).next(s=>{if(s)return{name:(a=s).name,query:Ey(a.bundledQuery),readTime:gh(a.readTime)};var a})}saveNamedQuery(e,t){return Fg(e).put({name:(s=t).name,readTime:Td(Do(s.readTime)),bundledQuery:s.bundledQuery});var s}}function by(n){return ta(n,"bundles")}function Fg(n){return ta(n,"namedQueries")}class Zv{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new Zv(e,t.uid||"")}getOverlay(e,t){return mh(e).get(Yv(this.userId,t)).next(s=>s?Ng(this.M,s):null)}saveOverlays(e,t,s){const a=[];return s.forEach((p,E)=>{const x=new vy(t,E);a.push(this.Xt(e,x))}),$t.waitFor(a)}removeOverlaysForBatchId(e,t,s){const a=new Set;t.forEach(E=>a.add(mo(E.getCollectionPath())));const p=[];return a.forEach(E=>{const x=IDBKeyRange.bound([this.userId,E,s],[this.userId,E,s+1],!1,!0);p.push(mh(e).Qt("collectionPathOverlayIndex",x))}),$t.waitFor(p)}getOverlaysForCollection(e,t,s){const a=yf(),p=mo(t),E=IDBKeyRange.bound([this.userId,p,s],[this.userId,p,Number.POSITIVE_INFINITY],!0);return mh(e).qt("collectionPathOverlayIndex",E).next(x=>{for(const H of x){const Q=Ng(this.M,H);a.set(Q.getKey(),Q)}return a})}getOverlaysForCollectionGroup(e,t,s,a){const p=yf();let E;const x=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return mh(e).Wt({index:"collectionGroupOverlayIndex",range:x},(H,Q,be)=>{const ze=Ng(this.M,Q);p.size()<a||ze.largestBatchId===E?(p.set(ze.getKey(),ze),E=ze.largestBatchId):be.done()}).next(()=>p)}Xt(e,t){return mh(e).put(function(s,a,p){const[E,x,H]=Yv(a,p.mutation.key);return{userId:a,collectionPath:x,documentId:H,collectionGroup:p.mutation.key.getCollectionGroup(),largestBatchId:p.largestBatchId,overlayMutation:_p(s.Jt,p.mutation)}}(this.M,this.userId,t))}}function mh(n){return ta(n,"documentOverlays")}class yh{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Zi(e.integerValue));else if("doubleValue"in e){const s=Zi(e.doubleValue);isNaN(s)?this.ne(t,13):(this.ne(t,15),mg(s)?t.se(0):t.se(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ne(t,20),"string"==typeof s?t.ie(s):(t.ie(`${s.seconds||""}`),t.se(s.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Yu(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ne(t,45),t.se(s.latitude||0),t.se(s.longitude||0)}else"mapValue"in e?Hm(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Xn()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const s=e.fields||{};this.ne(t,55);for(const a of Object.keys(s))this.re(a,t),this.te(s[a],t)}he(e,t){const s=e.values||[];this.ne(t,50);for(const a of s)this.te(a,t)}ae(e,t){this.ne(t,37),Rn.fromName(e).path.forEach(s=>{this.ne(t,60),this.le(s,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function Jw(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Tf(n){const e=64-function(t){let s=0;for(let a=0;a<8;++a){const p=Jw(255&t[a]);if(s+=p,8!==p)break}return s}(n);return Math.ceil(e/8)}yh.fe=new yh;class Xv{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this._e(s.value),s=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.ge(s.value),s=t.next();this.ye()}pe(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this._e(s);else if(s<2048)this._e(960|s>>>6),this._e(128|63&s);else if(t<"\ud800"||"\udbff"<t)this._e(480|s>>>12),this._e(128|63&s>>>6),this._e(128|63&s);else{const a=t.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}this.we()}Ie(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.ge(s);else if(s<2048)this.ge(960|s>>>6),this.ge(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.ge(480|s>>>12),this.ge(128|63&s>>>6),this.ge(128|63&s);else{const a=t.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}this.ye()}Te(e){const t=this.Ee(e),s=Tf(t);this.Ae(1+s),this.buffer[this.position++]=255&s;for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Re(e){const t=this.Ee(e),s=Tf(t);this.Ae(1+s),this.buffer[this.position++]=~(255&s);for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(a){const p=new DataView(new ArrayBuffer(8));return p.setFloat64(0,a,!1),new Uint8Array(p.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let a=1;a<t.length;++a)t[a]^=s?255:0;return t}_e(e){const t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const a=new Uint8Array(s);a.set(this.buffer),this.buffer=a}}class wy{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class Iy{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class wp{constructor(){this.De=new Xv,this.Ce=new wy(this.De),this.xe=new Iy(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class bu{constructor(e,t,s,a){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=a}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new bu(this.indexId,this.documentKey,this.arrayValue,s)}}function Xu(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Lg(n.arrayValue,e.arrayValue),0!==t?t:(t=Lg(n.directionalValue,e.directionalValue),0!==t?t:Rn.comparator(n.documentKey,e.documentKey)))}function Lg(n,e){for(let t=0;t<n.length&&t<e.length;++t){const s=n[t]-e[t];if(0!==s)return s}return n.length-e.length}class eI{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const s=t;s.S()?this.Fe=s:this.Oe.push(s)}}$e(e){const t=Gm(e);if(void 0!==t&&!this.Be(t))return!1;const s=Ed(e);let a=0,p=0;for(;a<s.length&&this.Be(s[a]);++a);if(a===s.length)return!0;if(void 0!==this.Fe){const E=s[a];if(!this.Le(this.Fe,E)||!this.Ue(this.Me[p++],E))return!1;++a}for(;a<s.length;++a){const E=s[a];if(p>=this.Me.length||!this.Ue(this.Me[p++],E))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class db{constructor(){this.qe=new Sf}addToCollectionParentIndex(e,t){return this.qe.add(t),$t.resolve()}getCollectionParents(e,t){return $t.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return $t.resolve()}deleteFieldIndex(e,t){return $t.resolve()}getDocumentsMatchingTarget(e,t){return $t.resolve(null)}getFieldIndex(e,t){return $t.resolve(null)}getFieldIndexes(e,t){return $t.resolve([])}getNextCollectionGroupToUpdate(e){return $t.resolve(null)}updateCollectionGroup(e,t,s){return $t.resolve()}updateIndexEntries(e,t){return $t.resolve()}}class Sf{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Ms(gt.comparator),p=!a.has(s);return this.index[t]=a.add(s),p}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Ms(gt.comparator)).toArray()}}const kc=new Uint8Array(0);class Cy{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new Sf,this.Ge=new Cd(s=>bd(s),(s,a)=>cp(s,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const p={collectionId:s,parent:mo(a)};return Dy(e).put(p)}return $t.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[I(t),""],!1,!0);return Dy(e).qt(a).next(p=>{for(const E of p){if(E.collectionId!==t)break;s.push(Ta(E.parent))}return s})}addFieldIndex(e,t){const s=Ip(e),a={indexId:(p=t).indexId,collectionGroup:p.collectionGroup,fields:p.fields.map(E=>[E.fieldPath.canonicalString(),E.kind])};var p;return delete a.indexId,s.add(a).next()}deleteFieldIndex(e,t){const s=Ip(e),a=Cp(e),p=_h(e);return s.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=_h(e);let a=!0;const p=new Map;return $t.forEach(this.Qe(t),E=>this.getFieldIndex(e,E).next(x=>{a&&(a=!!x),p.set(E,x)})).next(()=>{if(a){let E=Xi();const x=[];return $t.forEach(p,(H,Q)=>{var be;mn("IndexedDbIndexManager",`Using index ${be=H,`id=${be.indexId}|cg=${be.collectionGroup}|f=${be.fields.map(Jr=>`${Jr.fieldPath}:${Jr.kind}`).join(",")}`} to execute ${bd(t)}`);const ze=function(Jr,_i){const $i=Gm(_i);if(void 0===$i)return null;for(const Ji of vg(Jr,$i.fieldPath))switch(Ji.op){case"array-contains-any":return Ji.value.arrayValue.values||[];case"array-contains":return[Ji.value]}return null}(Q,H),vt=function(Jr,_i){const $i=new Map;for(const Ji of Ed(_i))for(const zs of vg(Jr,Ji.fieldPath))switch(zs.op){case"==":case"in":$i.set(Ji.fieldPath.canonicalString(),zs.value);break;case"not-in":case"!=":return $i.set(Ji.fieldPath.canonicalString(),zs.value),Array.from($i.values())}return null}(Q,H),jt=function(Jr,_i){const $i=[];let Ji=!0;for(const zs of Ed(_i)){const gl=0===zs.kind?ov(Jr,zs.fieldPath,Jr.startAt):Wa(Jr,zs.fieldPath,Jr.startAt);if(!gl.value)return null;$i.push(gl.value),Ji&&(Ji=gl.inclusive)}return new wd($i,Ji)}(Q,H),zt=function(Jr,_i){const $i=[];let Ji=!0;for(const zs of Ed(_i)){const gl=0===zs.kind?Wa(Jr,zs.fieldPath,Jr.endAt):ov(Jr,zs.fieldPath,Jr.endAt);if(!gl.value)return null;$i.push(gl.value),Ji&&(Ji=gl.inclusive)}return new wd($i,Ji)}(Q,H),Dn=this.je(H,Q,jt),Zn=this.je(H,Q,zt),Ai=this.We(H,Q,vt),Qi=this.ze(H.indexId,ze,Dn,!!jt&&jt.inclusive,Zn,!!zt&&zt.inclusive,Ai);return $t.forEach(Qi,Jr=>s.Gt(Jr,t.limit).next(_i=>{_i.forEach($i=>{const Ji=Rn.fromSegments($i.documentKey);E.has(Ji)||(E=E.add(Ji),x.push(Ji))})}))}).next(()=>x)}return $t.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}ze(e,t,s,a,p,E,x){const H=(null!=t?t.length:1)*Math.max(null!=s?s.length:1,null!=p?p.length:1),Q=H/(null!=t?t.length:1),be=[];for(let ze=0;ze<H;++ze){const vt=t?this.He(t[ze/Q]):kc,jt=s?this.Je(e,vt,s[ze%Q],a):this.Ye(e),zt=p?this.Xe(e,vt,p[ze%Q],E):this.Ye(e+1);be.push(...this.createRange(jt,zt,x.map(Dn=>this.Je(e,vt,Dn,!0))))}return be}Je(e,t,s,a){const p=new bu(e,Rn.empty(),t,s);return a?p:p.ke()}Xe(e,t,s,a){const p=new bu(e,Rn.empty(),t,s);return a?p.ke():p}Ye(e){return new bu(e,Rn.empty(),kc,kc)}getFieldIndex(e,t){const s=new eI(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(p=>{const E=p.filter(x=>s.$e(x));return E.sort((x,H)=>H.fields.length-x.fields.length),E.length>0?E[0]:null})}Ze(e,t){const s=new wp;for(const a of Ed(e)){const p=t.data.field(a.fieldPath);if(null==p)return null;const E=s.Ne(a.kind);yh.fe.Zt(p,E)}return s.Se()}He(e){const t=new wp;return yh.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const s=new wp;return yh.fe.Zt(Ac(this.databaseId,t),s.Ne(function(a){const p=Ed(a);return 0===p.length?0:p[p.length-1].kind}(e))),s.Se()}We(e,t,s){if(null===s)return[];let a=[];a.push(new wp);let p=0;for(const E of Ed(e)){const x=s[p++];for(const H of a)if(this.en(t,E.fieldPath)&&Pl(x))a=this.nn(a,E,x);else{const Q=H.Ne(E.kind);yh.fe.Zt(x,Q)}}return this.sn(a)}je(e,t,s){return null==s?null:this.We(e,t,s.position)}sn(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Se();return t}nn(e,t,s){const a=[...e],p=[];for(const E of s.arrayValue.values||[])for(const x of a){const H=new wp;H.seed(x.Se()),yh.fe.Zt(E,H.Ne(t.kind)),p.push(H)}return p}en(e,t){return!!e.filters.find(s=>s instanceof Jo&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=Ip(e),a=Cp(e);return(t?s.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.qt()).next(p=>{const E=[];return $t.forEach(p,x=>a.get([x.indexId,this.uid]).next(H=>{E.push(function(Q,be){const ze=be?new rh(be.sequenceNumber,new Ol(gh(be.readTime),new Rn(Ta(be.documentKey)),be.largestBatchId)):rh.empty(),vt=Q.fields.map(([jt,zt])=>new up(wn.fromServerFormat(jt),zt));return new xc(Q.indexId,Q.collectionGroup,vt,ze)}(x,H))})).next(()=>E)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,a)=>{const p=s.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==p?p:c(s.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const a=Ip(e),p=Cp(e);return this.rn(e).next(E=>a.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(x=>$t.forEach(x,H=>{return p.put({indexId:H.indexId,uid:this.user.uid||"",sequenceNumber:E,readTime:Td((vt=s).readTime),documentKey:mo(vt.documentKey.path),largestBatchId:vt.largestBatchId});var vt})))}updateIndexEntries(e,t){const s=new Map;return $t.forEach(t,(a,p)=>{const E=s.get(a.collectionGroup);return(E?$t.resolve(E):this.getFieldIndexes(e,a.collectionGroup)).next(x=>(s.set(a.collectionGroup,x),$t.forEach(x,H=>this.on(e,a,H).next(Q=>{const be=this.un(p,H);return Q.isEqual(be)?$t.resolve():this.an(e,p,H,Q,be)}))))})}cn(e,t,s,a){return _h(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.tn(s,t.key),documentKey:t.key.path.toArray()})}hn(e,t,s,a){return _h(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.tn(s,t.key),t.key.path.toArray()])}on(e,t,s){const a=_h(e);let p=new Ms(Xu);return a.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.tn(s,t)])},(E,x)=>{p=p.add(new bu(s.indexId,t,x.arrayValue,x.directionalValue))}).next(()=>p)}un(e,t){let s=new Ms(Xu);const a=this.Ze(t,e);if(null==a)return s;const p=Gm(t);if(null!=p){const E=e.data.field(p.fieldPath);if(Pl(E))for(const x of E.arrayValue.values||[])s=s.add(new bu(t.indexId,e.key,this.He(x),a))}else s=s.add(new bu(t.indexId,e.key,kc,a));return s}an(e,t,s,a,p){mn("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const E=[];return function(x,H,Q,be,ze){const vt=x.getIterator(),jt=H.getIterator();let zt=fa(vt),Dn=fa(jt);for(;zt||Dn;){let Zn=!1,Ai=!1;if(zt&&Dn){const Qi=Q(zt,Dn);Qi<0?Ai=!0:Qi>0&&(Zn=!0)}else null!=zt?Ai=!0:Zn=!0;Zn?(be(Dn),Dn=fa(jt)):Ai?(ze(zt),zt=fa(vt)):(zt=fa(vt),Dn=fa(jt))}}(a,p,Xu,x=>{E.push(this.cn(e,t,s,x))},x=>{E.push(this.hn(e,t,s,x))}),$t.waitFor(E)}rn(e){let t=1;return Cp(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,a,p)=>{p.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((E,x)=>Xu(E,x)).filter((E,x,H)=>!x||0!==Xu(E,H[x-1]));const a=[];a.push(e);for(const E of s){const x=Xu(E,e),H=Xu(E,t);if(0===x)a[0]=e.ke();else if(x>0&&H<0)a.push(E),a.push(E.ke());else if(H>0)break}a.push(t);const p=[];for(let E=0;E<a.length;E+=2)p.push(IDBKeyRange.bound([a[E].indexId,this.uid,a[E].arrayValue,a[E].directionalValue,kc,[]],[a[E+1].indexId,this.uid,a[E+1].arrayValue,a[E+1].directionalValue,kc,[]]));return p}}function Dy(n){return ta(n,"collectionParents")}function _h(n){return ta(n,"indexEntries")}function Ip(n){return ta(n,"indexConfiguration")}function Cp(n){return ta(n,"indexState")}const Bg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Sa{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Sa(e,Sa.DEFAULT_COLLECTION_PERCENTILE,Sa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Qv(n,e,t){const s=n.store("mutations"),a=n.store("documentMutations"),p=[],E=IDBKeyRange.only(t.batchId);let x=0;const H=s.Wt({range:E},(be,ze,vt)=>(x++,vt.delete()));p.push(H.next(()=>{Ur(1===x)}));const Q=[];for(const be of t.mutations){const ze=hh(e,be.key.path,t.batchId);p.push(a.delete(ze)),Q.push(be.key)}return $t.waitFor(p).next(()=>Q)}function Dp(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Xn();e=n.noDocument}return JSON.stringify(e).length}Sa.DEFAULT_COLLECTION_PERCENTILE=10,Sa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sa.DEFAULT=new Sa(41943040,Sa.DEFAULT_COLLECTION_PERCENTILE,Sa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sa.DISABLED=new Sa(-1,0,0);class Vg{constructor(e,t,s,a){this.userId=e,this.M=t,this.indexManager=s,this.referenceDelegate=a,this.ln={}}static Yt(e,t,s,a){Ur(""!==e.uid);const p=e.isAuthenticated()?e.uid:"";return new Vg(p,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Nc(e).Wt({index:"userMutationsIndex",range:s},(a,p,E)=>{t=!1,E.done()}).next(()=>t)}addMutationBatch(e,t,s,a){const p=Af(e),E=Nc(e);return E.add({}).next(x=>{Ur("number"==typeof x);const H=new _y(x,t,s,a),Q=function(vt,jt,zt){const Dn=zt.baseMutations.map(Ai=>_p(vt.Jt,Ai)),Zn=zt.mutations.map(Ai=>_p(vt.Jt,Ai));return{userId:jt,batchId:zt.batchId,localWriteTimeMs:zt.localWriteTime.toMillis(),baseMutations:Dn,mutations:Zn}}(this.M,this.userId,H),be=[];let ze=new Ms((vt,jt)=>c(vt.canonicalString(),jt.canonicalString()));for(const vt of a){const jt=hh(this.userId,vt.key.path,x);ze=ze.add(vt.key.path.popLast()),be.push(E.put(Q)),be.push(p.put(jt,If))}return ze.forEach(vt=>{be.push(this.indexManager.addToCollectionParentIndex(e,vt))}),e.addOnCommittedListener(()=>{this.ln[x]=H.keys()}),$t.waitFor(be).next(()=>H)})}lookupMutationBatch(e,t){return Nc(e).get(t).next(s=>s?(Ur(s.userId===this.userId),Df(this.M,s)):null)}fn(e,t){return this.ln[t]?$t.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const a=s.keys();return this.ln[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let p=null;return Nc(e).Wt({index:"userMutationsIndex",range:a},(E,x,H)=>{x.userId===this.userId&&(Ur(x.batchId>=s),p=Df(this.M,x)),H.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Nc(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(a,p,E)=>{s=p.batchId,E.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Nc(e).qt("userMutationsIndex",t).next(s=>s.map(a=>Df(this.M,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=Pc(this.userId,t.path),a=IDBKeyRange.lowerBound(s),p=[];return Af(e).Wt({range:a},(E,x,H)=>{const[Q,be,ze]=E,vt=Ta(be);if(Q===this.userId&&t.path.isEqual(vt))return Nc(e).get(ze).next(jt=>{if(!jt)throw Xn();Ur(jt.userId===this.userId),p.push(Df(this.M,jt))});H.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ms(c);const a=[];return t.forEach(p=>{const E=Pc(this.userId,p.path),x=IDBKeyRange.lowerBound(E),H=Af(e).Wt({range:x},(Q,be,ze)=>{const[vt,jt,zt]=Q,Dn=Ta(jt);vt===this.userId&&p.path.isEqual(Dn)?s=s.add(zt):ze.done()});a.push(H)}),$t.waitFor(a).next(()=>this.dn(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,p=Pc(this.userId,s),E=IDBKeyRange.lowerBound(p);let x=new Ms(c);return Af(e).Wt({range:E},(H,Q,be)=>{const[ze,vt,jt]=H,zt=Ta(vt);ze===this.userId&&s.isPrefixOf(zt)?zt.length===a&&(x=x.add(jt)):be.done()}).next(()=>this.dn(e,x))}dn(e,t){const s=[],a=[];return t.forEach(p=>{a.push(Nc(e).get(p).next(E=>{if(null===E)throw Xn();Ur(E.userId===this.userId),s.push(Df(this.M,E))}))}),$t.waitFor(a).next(()=>s)}removeMutationBatch(e,t){return Qv(e.Ht,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),$t.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return $t.resolve();const s=IDBKeyRange.lowerBound([this.userId]),a=[];return Af(e).Wt({range:s},(p,E,x)=>{if(p[0]===this.userId){const H=Ta(p[1]);a.push(H)}else x.done()}).next(()=>{Ur(0===a.length)})})}containsKey(e,t){return Ug(e,this.userId,t)}wn(e){return Ty(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Ug(n,e,t){const s=Pc(e,t.path),a=s[1],p=IDBKeyRange.lowerBound(s);let E=!1;return Af(n).Wt({range:p,jt:!0},(x,H,Q)=>{const[be,ze,vt]=x;be===e&&ze===a&&(E=!0),Q.done()}).next(()=>E)}function Nc(n){return ta(n,"mutations")}function Af(n){return ta(n,"documentMutations")}function Ty(n){return ta(n,"mutationQueues")}class Sd{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Sd(0)}static yn(){return new Sd(-1)}}class Sy{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const s=new Sd(t.highestTargetId);return t.highestTargetId=s.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>L.fromTimestamp(new M(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.pn(e).next(a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.In(e,a)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(s=>(s.targetCount+=1,this.En(t,s),this.In(e,s))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Ad(e).delete(t.targetId)).next(()=>this.pn(e)).next(s=>(Ur(s.targetCount>0),s.targetCount-=1,this.In(e,s)))}removeTargets(e,t,s){let a=0;const p=[];return Ad(e).Wt((E,x)=>{const H=bp(x);H.sequenceNumber<=t&&null===s.get(H.targetId)&&(a++,p.push(this.removeTargetData(e,H)))}).next(()=>$t.waitFor(p)).next(()=>a)}forEachTarget(e,t){return Ad(e).Wt((s,a)=>{const p=bp(a);t(p)})}pn(e){return Ay(e).get("targetGlobalKey").next(t=>(Ur(null!==t),t))}In(e,t){return Ay(e).put("targetGlobalKey",t)}Tn(e,t){return Ad(e).put(qv(this.M,t))}En(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const s=bd(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let p=null;return Ad(e).Wt({range:a,index:"queryTargetsIndex"},(E,x,H)=>{const Q=bp(x);cp(t,Q.target)&&(p=Q,H.done())}).next(()=>p)}addMatchingKeys(e,t,s){const a=[],p=Fc(e);return t.forEach(E=>{const x=mo(E.path);a.push(p.put({targetId:s,path:x})),a.push(this.referenceDelegate.addReference(e,s,E))}),$t.waitFor(a)}removeMatchingKeys(e,t,s){const a=Fc(e);return $t.forEach(t,p=>{const E=mo(p.path);return $t.waitFor([a.delete([s,E]),this.referenceDelegate.removeReference(e,s,p)])})}removeMatchingKeysForTargetId(e,t){const s=Fc(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=Fc(e);let p=Xi();return a.Wt({range:s,jt:!0},(E,x,H)=>{const Q=Ta(E[1]),be=new Rn(Q);p=p.add(be)}).next(()=>p)}containsKey(e,t){const s=mo(t.path),a=IDBKeyRange.bound([s],[I(s)],!1,!0);let p=0;return Fc(e).Wt({index:"documentTargetsIndex",jt:!0,range:a},([E,x],H,Q)=>{0!==E&&(p++,Q.done())}).next(()=>p>0)}Et(e,t){return Ad(e).get(t).next(s=>s?bp(s):null)}}function Ad(n){return ta(n,"targets")}function Ay(n){return ta(n,"targetGlobal")}function Fc(n){return ta(n,"targetDocuments")}function xd(n){return $g.apply(this,arguments)}function $g(){return $g=(0,Rt.Z)(function*(n){if(n.code!==Bt.FAILED_PRECONDITION||n.message!==fy)throw n;mn("LocalStore","Unexpectedly lost primary lease")}),$g.apply(this,arguments)}function xy([n,e],[t,s]){const a=c(n,t);return 0===a?c(e,s):a}class Jv{constructor(e){this.An=e,this.buffer=new Ms(xy),this.Rn=0}Pn(){return++this.Rn}bn(e){const t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();xy(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class e0{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const s=this.Vn?3e5:6e4;mn("LruGarbageCollector",`Garbage collection scheduled in ${s}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,(0,Rt.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(a){ph(a)?mn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield xd(a)}yield t.Sn(e)}))}}class t0{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return $t.resolve(Zo.A);const s=new Jv(t);return this.Dn.forEachTarget(e,a=>s.bn(a.sequenceNumber)).next(()=>this.Dn.xn(e,a=>s.bn(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Dn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(mn("LruGarbageCollector","Garbage collection skipped; disabled"),$t.resolve(Bg)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(mn("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Bg):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let s,a,p,E,x,H,Q;const be=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ze=>(ze>this.params.maximumSequenceNumbersToCollect?(mn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ze}`),a=this.params.maximumSequenceNumbersToCollect):a=ze,E=Date.now(),this.nthSequenceNumber(e,a))).next(ze=>(s=ze,x=Date.now(),this.removeTargets(e,s,t))).next(ze=>(p=ze,H=Date.now(),this.removeOrphanedDocuments(e,s))).next(ze=>(Q=Date.now(),ef()<=Kl.in.DEBUG&&mn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${E-be}ms\n\tDetermined least recently used ${a} in `+(x-E)+`ms\n\tRemoved ${p} targets in `+(H-x)+`ms\n\tRemoved ${ze} documents in `+(Q-H)+`ms\nTotal Duration: ${Q-be}ms`),$t.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:p,documentsRemoved:ze})))}}class tI{constructor(e,t){this.db=e,this.garbageCollector=new t0(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}kn(e){let t=0;return this.xn(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(s,a)=>t(a))}addReference(e,t,s){return jg(e,s)}removeReference(e,t,s){return jg(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return jg(e,t)}On(e,t){return function(s,a){let p=!1;return Ty(s).zt(E=>Ug(s,E,a).next(x=>(x&&(p=!0),$t.resolve(!x)))).next(()=>p)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let p=0;return this.Mn(e,(E,x)=>{if(x<=t){const H=this.On(e,E).next(Q=>{if(!Q)return p++,s.getEntry(e,E).next(()=>(s.removeEntry(E,L.min()),Fc(e).delete([0,mo(E.path)])))});a.push(H)}}).next(()=>$t.waitFor(a)).next(()=>s.apply(e)).next(()=>p)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return jg(e,t)}Mn(e,t){const s=Fc(e);let a,p=Zo.A;return s.Wt({index:"documentTargetsIndex"},([E,x],{path:H,sequenceNumber:Q})=>{0===E?(p!==Zo.A&&t(new Rn(Ta(a)),p),p=Q,a=H):p=Zo.A}).next(()=>{p!==Zo.A&&t(new Rn(Ta(a)),p)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jg(n,e){return Fc(n).put((s=n.currentSequenceNumber,{targetId:0,path:mo(e.path),sequenceNumber:s}));var s}class n0{constructor(){this.changes=new Cd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,as.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?$t.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class r0{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return Md(e).put(s)}removeEntry(e,t,s){return Md(e).delete(function(a,p){const E=a.path.toArray();return[E.slice(0,E.length-2),E[E.length-2],kg(p),E[E.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Fn(e,s)))}getEntry(e,t){let s=as.newInvalidDocument(t);return Md(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Tp(t))},(a,p)=>{s=this.$n(t,p)}).next(()=>s)}Bn(e,t){let s={size:0,document:as.newInvalidDocument(t)};return Md(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Tp(t))},(a,p)=>{s={document:this.$n(t,p),size:Dp(p)}}).next(()=>s)}getEntries(e,t){let s=fl();return this.Ln(e,t,(a,p)=>{const E=this.$n(a,p);s=s.insert(a,E)}).next(()=>s)}Un(e,t){let s=fl(),a=new Is(Rn.comparator);return this.Ln(e,t,(p,E)=>{const x=this.$n(p,E);s=s.insert(p,x),a=a.insert(p,Dp(E))}).next(()=>({documents:s,qn:a}))}Ln(e,t,s){if(t.isEmpty())return $t.resolve();let a=new Ms(My);t.forEach(H=>a=a.add(H));const p=IDBKeyRange.bound(Tp(a.first()),Tp(a.last())),E=a.getIterator();let x=E.getNext();return Md(e).Wt({index:"documentKeyIndex",range:p},(H,Q,be)=>{const ze=Rn.fromSegments([...Q.prefixPath,Q.collectionGroup,Q.documentId]);for(;x&&My(x,ze)<0;)s(x,null),x=E.getNext();x&&x.isEqual(ze)&&(s(x,Q),x=E.hasNext()?E.getNext():null),x?be.Ut(Tp(x)):be.done()}).next(()=>{for(;x;)s(x,null),x=E.hasNext()?E.getNext():null})}getAllFromCollection(e,t,s){const a=[t.popLast().toArray(),t.lastSegment(),kg(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],p=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Md(e).qt(IDBKeyRange.bound(a,p,!0)).next(E=>{let x=fl();for(const H of E){const Q=this.$n(Rn.fromSegments(H.prefixPath.concat(H.collectionGroup,H.documentId)),H);x=x.insert(Q.key,Q)}return x})}getAllFromCollectionGroup(e,t,s,a){let p=fl();const E=s0(t,s),x=s0(t,Ol.max());return Md(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(E,x,!0)},(H,Q,be)=>{const ze=this.$n(Rn.fromSegments(Q.prefixPath.concat(Q.collectionGroup,Q.documentId)),Q);p=p.insert(ze.key,ze),p.size===a&&be.done()}).next(()=>p)}newChangeBuffer(e){return new hb(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return yo(e).get("remoteDocumentGlobalKey").next(t=>(Ur(!!t),t))}Fn(e,t){return yo(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const s=function Wv(n,e){let t;if(e.document)t=Av(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Rn.fromSegments(e.noDocument.path),a=gh(e.noDocument.readTime);t=as.newNoDocument(s,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Xn();{const s=Rn.fromSegments(e.unknownDocument.path),a=gh(e.unknownDocument.version);t=as.newUnknownDocument(s,a)}}return e.readTime&&t.setReadTime(function(s){const a=new M(s[0],s[1]);return L.fromTimestamp(a)}(e.readTime)),t}(this.M,t);if(!s.isNoDocument()||!s.version.isEqual(L.min()))return s}return as.newInvalidDocument(e)}}class hb extends n0{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new Cd(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(e){const t=[];let s=0,a=new Ms((p,E)=>c(p.canonicalString(),E.canonicalString()));return this.changes.forEach((p,E)=>{const x=this.Gn.get(p);if(t.push(this.Kn.removeEntry(e,p,x.readTime)),E.isValidDocument()){const H=Ep(this.Kn.M,E);a=a.add(p.path.popLast()),s+=Dp(H)-x.size,t.push(this.Kn.addEntry(e,p,H))}else if(s-=x.size,this.trackRemovals){const H=Ep(this.Kn.M,E.convertToNoDocument(L.min()));t.push(this.Kn.addEntry(e,p,H))}}),a.forEach(p=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,p))}),t.push(this.Kn.updateMetadata(e,s)),$t.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(s=>(this.Gn.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:s,qn:a})=>(a.forEach((p,E)=>{this.Gn.set(p,{size:E,readTime:s.get(p).readTime})}),s))}}function yo(n){return ta(n,"remoteDocumentGlobal")}function Md(n){return ta(n,"remoteDocumentsV14")}function Tp(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function s0(n,e){const t=e.documentKey.path.toArray();return[n,kg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function My(n,e){const t=n.path.toArray(),s=e.path.toArray();let a=0;for(let p=0;p<t.length-2&&p<s.length-2;++p)if(a=c(t[p],s[p]),a)return a;return a=c(t.length,s.length),a||(a=c(t[t.length-2],s[s.length-2]),a||c(t[t.length-1],s[s.length-1]))}class fb{constructor(e){this.M=e}kt(e,t,s,a){const p=new py("createOrUpgrade",t);var x;s<1&&a>=1&&(e.createObjectStore("owner"),(x=e).createObjectStore("mutationQueues",{keyPath:"userId"}),x.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",dh,{unique:!0}),x.createObjectStore("documentMutations"),Ry(e),function(x){x.createObjectStore("remoteDocuments")}(e));let E=$t.resolve();return s<3&&a>=3&&(0!==s&&(function(x){x.deleteObjectStore("targetDocuments"),x.deleteObjectStore("targets"),x.deleteObjectStore("targetGlobal")}(e),Ry(e)),E=E.next(()=>function(x){const H=x.store("targetGlobal"),Q={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:L.min().toTimestamp(),targetCount:0};return H.put("targetGlobalKey",Q)}(p))),s<4&&a>=4&&(0!==s&&(E=E.next(()=>function(x,H){return H.store("mutations").qt().next(Q=>{x.deleteObjectStore("mutations"),x.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",dh,{unique:!0});const be=H.store("mutations"),ze=Q.map(vt=>be.put(vt));return $t.waitFor(ze)})}(e,p))),E=E.next(()=>{!function(x){x.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&a>=5&&(E=E.next(()=>this.Qn(p))),s<6&&a>=6&&(E=E.next(()=>(function(x){x.createObjectStore("remoteDocumentGlobal")}(e),this.jn(p)))),s<7&&a>=7&&(E=E.next(()=>this.Wn(p))),s<8&&a>=8&&(E=E.next(()=>this.zn(e,p))),s<9&&a>=9&&(E=E.next(()=>{!function(x){x.objectStoreNames.contains("remoteDocumentChanges")&&x.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&a>=10&&(E=E.next(()=>this.Hn(p))),s<11&&a>=11&&(E=E.next(()=>{(function(x){x.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(x){x.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&a>=12&&(E=E.next(()=>{!function(x){const H=x.createObjectStore("documentOverlays",{keyPath:ab});H.createIndex("collectionPathOverlayIndex",$v,{unique:!1}),H.createIndex("collectionGroupOverlayIndex",jv,{unique:!1})}(e)})),s<13&&a>=13&&(E=E.next(()=>function(x){const H=x.createObjectStore("remoteDocumentsV14",{keyPath:Rv});H.createIndex("documentKeyIndex",Pv),H.createIndex("collectionGroupIndex",Ov)}(e)).next(()=>this.Jn(e,p)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&a>=14&&(E=E.next(()=>{!function(x){x.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),x.createObjectStore("indexState",{keyPath:Bv}).createIndex("sequenceNumberIndex",Vv,{unique:!1}),x.createObjectStore("indexEntries",{keyPath:ob}).createIndex("documentKeyIndex",Uv,{unique:!1})}(e)})),E}jn(e){let t=0;return e.store("remoteDocuments").Wt((s,a)=>{t+=Dp(a)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Qn(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.qt().next(a=>$t.forEach(a,p=>{const E=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return s.qt("userMutationsIndex",E).next(x=>$t.forEach(x,H=>{Ur(H.userId===p.userId);const Q=Df(this.M,H);return Qv(e,p.userId,Q).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const p=[];return s.Wt((E,x)=>{const H=new gt(E),Q=[0,mo(H)];p.push(t.get(Q).next(be=>be?$t.resolve():t.put({targetId:0,path:mo(H),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>$t.waitFor(p))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:Lv});const s=t.store("collectionParents"),a=new Sf,p=E=>{if(a.add(E)){const x=E.lastSegment(),H=E.popLast();return s.put({collectionId:x,parent:mo(H)})}};return t.store("remoteDocuments").Wt({jt:!0},(E,x)=>{const H=new gt(E);return p(H.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([E,x,H],Q)=>{const be=Ta(x);return p(be.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((s,a)=>{const p=bp(a),E=qv(this.M,p);return t.put(E)})}Jn(e,t){const s=t.store("remoteDocuments"),a=[];return s.Wt((p,E)=>{const x=t.store("remoteDocumentsV14"),H=(Q=E,Q.document?new Rn(gt.fromString(Q.document.name).popFirst(5)):Q.noDocument?Rn.fromSegments(Q.noDocument.path):Q.unknownDocument?Rn.fromSegments(Q.unknownDocument.path):Xn()).path.toArray();var Q;const be={prefixPath:H.slice(0,H.length-2),collectionGroup:H[H.length-2],documentId:H[H.length-1],readTime:E.readTime||[0,0],unknownDocument:E.unknownDocument,noDocument:E.noDocument,document:E.document,hasCommittedMutations:!!E.hasCommittedMutations};a.push(x.put(be))}).next(()=>$t.waitFor(a))}}function Ry(n){n.createObjectStore("targetDocuments",{keyPath:Nv}).createIndex("documentTargetsIndex",Fv,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",kv,{unique:!0}),n.createObjectStore("targetGlobal")}const Hg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Rd{constructor(e,t,s,a,p,E,x,H,Q,be,ze=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Yn=p,this.window=E,this.document=x,this.Xn=Q,this.Zn=be,this.ts=ze,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=vt=>Promise.resolve(),!Rd.vt())throw new an(Bt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new tI(this,a),this.hs=t+"main",this.M=new zv(H),this.ls=new Eu(this.hs,this.ts,new fb(this.M)),this.fs=new Sy(this.referenceDelegate,this.M),this.ds=new r0(this.M),this._s=new Kv,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===be&&ms("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new an(Bt.FAILED_PRECONDITION,Hg);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new Zo(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var s=(0,Rt.Z)(function*(a){if(t.started)return e(a)});return function(a){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,Rt.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,Rt.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Gg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.Ps(e).next(()=>!0))).catch(e=>{if(ph(e))return mn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return mn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return Sp(e).get("owner").next(t=>$t.resolve(this.bs(t)))}Vs(e){return Gg(e).delete(this.clientId)}vs(){var e=this;return(0,Rt.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=ta(s,"clientMetadata");return a.qt().next(p=>{const E=e.Ds(p,18e5),x=p.filter(H=>-1===E.indexOf(H));return $t.forEach(x,H=>a.delete(H.clientId)).next(()=>x)})}).catch(()=>[]);if(e.ws)for(const s of t)e.ws.removeItem(e.Cs(s.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?$t.resolve(!0):Sp(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new an(Bt.FAILED_PRECONDITION,Hg);return!1}}return!(!this.networkEnabled||!this.inForeground)||Gg(e).qt().next(s=>void 0===this.Ds(s,5e3).find(a=>{if(this.clientId!==a.clientId){const E=!this.inForeground&&a.inForeground,x=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||E&&x)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&mn("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Rt.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new yy(t,Zo.A);return e.Rs(s).next(()=>e.Vs(s))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(s=>this.Ss(s.updateTimeMs,t)&&!this.xs(s.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>Gg(e).qt().next(t=>this.Ds(t,18e5).map(s=>s.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return Vg.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new Cy(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return Zv.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,s){mn("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",p=14===(E=this.ts)?ub:13===E?hy:12===E?lb:11===E?Hv:void Xn();var E;let x;return this.ls.runTransaction(e,a,p,H=>(x=new yy(H,this.es?this.es.next():Zo.A),"readwrite-primary"===t?this.Es(x).next(Q=>!!Q||this.As(x)).next(Q=>{if(!Q)throw ms(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new an(Bt.FAILED_PRECONDITION,fy);return s(x)}).next(Q=>this.Ps(x).next(()=>Q)):this.$s(x).next(()=>s(x)))).then(H=>(x.raiseOnCommittedEvent(),H))}$s(e){return Sp(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.bs(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new an(Bt.FAILED_PRECONDITION,Hg)})}Ps(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Sp(e).put("owner",t)}static vt(){return Eu.vt()}Rs(e){const t=Sp(e);return t.get("owner").next(s=>this.bs(s)?(mn("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):$t.resolve())}Ss(e,t){const s=Date.now();return!(e<s-t||e>s&&(ms(`Detected an update time that is in the future: ${e} > ${s}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Mn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const s=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return mn("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return ms("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){ms("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Sp(n){return ta(n,"owner")}function Gg(n){return ta(n,"clientMetadata")}function zg(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class pb{constructor(e,t,s){this.ds=e,this.Bs=t,this.indexManager=s}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(s=>this.Us(e,t,s))}Us(e,t,s){return this.ds.getEntry(e,t).next(a=>{for(const p of s)p.applyToLocalView(a);return a})}qs(e,t){e.forEach((s,a)=>{for(const p of t)p.applyToLocalView(a)})}Ks(e,t){return this.ds.getEntries(e,t).next(s=>this.Gs(e,s).next(()=>s))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>this.qs(t,s))}Qs(e,t,s){return Rn.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.js(e,t.path):pp(t)?this.Ws(e,t,s):this.zs(e,t,s);var a}js(e,t){return this.Ls(e,new Rn(t)).next(s=>{let a=Tg();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}Ws(e,t,s){const a=t.collectionGroup;let p=Tg();return this.indexManager.getCollectionParents(e,a).next(E=>$t.forEach(E,x=>{const H=(Q=t,be=x.child(a),new Ku(be,null,Q.explicitOrderBy.slice(),Q.filters.slice(),Q.limit,Q.limitType,Q.startAt,Q.endAt));var Q,be;return this.zs(e,H,s).next(Q=>{Q.forEach((be,ze)=>{p=p.insert(be,ze)})})}).next(()=>p))}zs(e,t,s){let a;return this.ds.getAllFromCollection(e,t.path,s).next(p=>(a=p,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(p=>{for(const E of p)for(const x of E.mutations){const H=x.key;let Q=a.get(H);null==Q&&(Q=as.newInvalidDocument(H),a=a.insert(H,Q)),Cg(x,Q,E.localWriteTime),Q.isFoundDocument()||(a=a.remove(H))}}).next(()=>(a.forEach((p,E)=>{Zm(t,E)||(a=a.remove(p))}),a))}}class Wg{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Hs=s,this.Js=a}static Ys(e,t){let s=Xi(),a=Xi();for(const p of t.docChanges)switch(p.type){case 0:s=s.add(p.doc.key);break;case 1:a=a.add(p.doc.key)}return new Wg(e,t.fromCache,s,a)}}class gb{Xs(e){this.Zs=e}Qs(e,t,s,a){return 0===(p=t).filters.length&&null===p.limit&&null==p.startAt&&null==p.endAt&&(0===p.explicitOrderBy.length||1===p.explicitOrderBy.length&&p.explicitOrderBy[0].field.isKeyField())||s.isEqual(L.min())?this.ti(e,t):this.Zs.Ks(e,a).next(p=>{const E=this.ei(t,p);return(hp(t)||fp(t))&&this.ni(t.limitType,E,a,s)?this.ti(e,t):(ef()<=Kl.in.DEBUG&&mn("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Km(t)),this.Zs.Qs(e,t,_g(s,-1)).next(x=>(E.forEach(H=>{x=x.insert(H.key,H)}),x)))});var p}ei(e,t){let s=new Ms(dv(e));return t.forEach((a,p)=>{Zm(e,p)&&(s=s.add(p))}),s}ni(e,t,s,a){if(s.size!==t.size)return!0;const p="F"===e?t.last():t.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(a)>0)}ti(e,t){return ef()<=Kl.in.DEBUG&&mn("QueryEngine","Using full collection scan to execute query:",Km(t)),this.Zs.Qs(e,t,Ol.min())}}class o0{constructor(e,t,s,a){this.persistence=e,this.si=t,this.M=a,this.ii=new Is(c),this.ri=new Cd(p=>bd(p),cp),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(s)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new pb(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ii))}}function qg(n,e,t,s){return new o0(n,e,t,s)}function wu(n,e){return Py.apply(this,arguments)}function Py(){return Py=(0,Rt.Z)(function*(n,e){const t=On(n);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.Bs.getAllMutationBatches(s).next(p=>(a=p,t.ai(e),t.Bs.getAllMutationBatches(s))).next(p=>{const E=[],x=[];let H=Xi();for(const Q of a){E.push(Q.batchId);for(const be of Q.mutations)H=H.add(be.key)}for(const Q of p){x.push(Q.batchId);for(const be of Q.mutations)H=H.add(be.key)}return t.ci.Ks(s,H).next(Q=>({hi:Q,removedBatchIds:E,addedBatchIds:x}))})})}),Py.apply(this,arguments)}function mb(n,e){const t=On(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),p=t.ui.newChangeBuffer({trackRemovals:!0});return function(E,x,H,Q){const be=H.batch,ze=be.keys();let vt=$t.resolve();return ze.forEach(jt=>{vt=vt.next(()=>Q.getEntry(x,jt)).next(zt=>{const Dn=H.docVersions.get(jt);Ur(null!==Dn),zt.version.compareTo(Dn)<0&&(be.applyToRemoteDocument(zt,H),zt.isValidDocument()&&(zt.setReadTime(H.commitVersion),Q.addEntry(zt)))})}),vt.next(()=>E.Bs.removeMutationBatch(x,be))}(t,s,e,p).next(()=>p.apply(s)).next(()=>t.Bs.performConsistencyCheck(s)).next(()=>t.ci.Ks(s,a))})}function Iu(n){const e=On(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function Cu(n,e){const t=On(n),s=e.snapshotVersion;let a=t.ii;return t.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const E=t.ui.newChangeBuffer({trackRemovals:!0});a=t.ii;const x=[];e.targetChanges.forEach((Q,be)=>{const ze=a.get(be);if(!ze)return;x.push(t.fs.removeMatchingKeys(p,Q.removedDocuments,be).next(()=>t.fs.addMatchingKeys(p,Q.addedDocuments,be)));let vt=ze.withSequenceNumber(p.currentSequenceNumber);var jt,zt,Dn;e.targetMismatches.has(be)?vt=vt.withResumeToken(yi.EMPTY_BYTE_STRING,L.min()).withLastLimboFreeSnapshotVersion(L.min()):Q.resumeToken.approximateByteSize()>0&&(vt=vt.withResumeToken(Q.resumeToken,s)),a=a.insert(be,vt),zt=vt,Dn=Q,(0===(jt=ze).resumeToken.approximateByteSize()||zt.snapshotVersion.toMicroseconds()-jt.snapshotVersion.toMicroseconds()>=3e8||Dn.addedDocuments.size+Dn.modifiedDocuments.size+Dn.removedDocuments.size>0)&&x.push(t.fs.updateTargetData(p,vt))});let H=fl();if(e.documentUpdates.forEach(Q=>{e.resolvedLimboDocuments.has(Q)&&x.push(t.persistence.referenceDelegate.updateLimboDocument(p,Q))}),x.push(Bl(p,E,e.documentUpdates).next(Q=>{H=Q})),!s.isEqual(L.min())){const Q=t.fs.getLastRemoteSnapshotVersion(p).next(be=>t.fs.setTargetsMetadata(p,p.currentSequenceNumber,s));x.push(Q)}return $t.waitFor(x).next(()=>E.apply(p)).next(()=>t.ci.Gs(p,H)).next(()=>H)}).then(p=>(t.ii=a,p))}function Bl(n,e,t){let s=Xi();return t.forEach(a=>s=s.add(a)),e.getEntries(n,s).next(a=>{let p=fl();return t.forEach((E,x)=>{const H=a.get(E);x.isNoDocument()&&x.version.isEqual(L.min())?(e.removeEntry(E,x.readTime),p=p.insert(E,x)):!H.isValidDocument()||x.version.compareTo(H.version)>0||0===x.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(x),p=p.insert(E,x)):mn("LocalStore","Ignoring outdated watch update for ",E,". Current version:",H.version," Watch version:",x.version)}),p})}function a0(n,e){const t=On(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(s,e)))}function vh(n,e){const t=On(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.fs.getTargetData(s,e).next(p=>p?(a=p,$t.resolve(a)):t.fs.allocateTargetId(s).next(E=>(a=new Oc(e,E,0,s.currentSequenceNumber),t.fs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.ii.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.ii=t.ii.insert(s.targetId,s),t.ri.set(e,s.targetId)),s})}function xf(n,e,t){return Oy.apply(this,arguments)}function Oy(){return Oy=(0,Rt.Z)(function*(n,e,t){const s=On(n),a=s.ii.get(e),p=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",p,E=>s.persistence.referenceDelegate.removeTarget(E,a)))}catch(E){if(!ph(E))throw E;mn("LocalStore",`Failed to update sequence numbers for target ${e}: ${E}`)}s.ii=s.ii.remove(e),s.ri.delete(a.target)}),Oy.apply(this,arguments)}function Yg(n,e,t){const s=On(n);let a=L.min(),p=Xi();return s.persistence.runTransaction("Execute query","readonly",E=>function(x,H,Q){const be=On(x),ze=be.ri.get(Q);return void 0!==ze?$t.resolve(be.ii.get(ze)):be.fs.getTargetData(H,Q)}(s,E,Nl(e)).next(x=>{if(x)return a=x.lastLimboFreeSnapshotVersion,s.fs.getMatchingKeysForTargetId(E,x.targetId).next(H=>{p=H})}).next(()=>s.si.Qs(E,e,t?a:L.min(),t?p:Xi())).next(x=>(Mf(s,Eg(e),x),{documents:x,li:p})))}function l0(n,e){const t=On(n),s=On(t.fs),a=t.ii.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",p=>s.Et(p,e).next(E=>E?E.target:null))}function Kg(n,e){const t=On(n),s=t.oi.get(e)||L.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.ui.getAllFromCollectionGroup(a,e,_g(s,-1),Number.MAX_SAFE_INTEGER)).then(a=>(Mf(t,e,a),a))}function Mf(n,e,t){let s=L.min();t.forEach((a,p)=>{p.readTime.compareTo(s)>0&&(s=p.readTime)}),n.oi.set(e,s)}function Zg(){return Zg=(0,Rt.Z)(function*(n,e,t,s){const a=On(n);let p=Xi(),E=fl();for(const Q of t){const be=e.fi(Q.metadata.name);Q.document&&(p=p.add(be));const ze=e.di(Q);ze.setReadTime(e._i(Q.metadata.readTime)),E=E.insert(be,ze)}const x=a.ui.newChangeBuffer({trackRemovals:!0}),H=yield vh(a,(Q=s,Nl(cf(gt.fromString(`__bundle__/docs/${Q}`)))));var Q;return a.persistence.runTransaction("Apply bundle documents","readwrite",Q=>Bl(Q,x,E).next(be=>(x.apply(Q),be)).next(be=>a.fs.removeMatchingKeysForTargetId(Q,H.targetId).next(()=>a.fs.addMatchingKeys(Q,p,H.targetId)).next(()=>a.ci.Gs(Q,be)).next(()=>be)))}),Zg.apply(this,arguments)}function _b(n,e){return Xg.apply(this,arguments)}function Xg(){return Xg=(0,Rt.Z)(function*(n,e,t=Xi()){const s=yield vh(n,Nl(Ey(e.bundledQuery))),a=On(n);return a.persistence.runTransaction("Save named query","readwrite",p=>{const E=Do(e.readTime);if(s.snapshotVersion.compareTo(E)>=0)return a._s.saveNamedQuery(p,e);const x=s.withResumeToken(yi.EMPTY_BYTE_STRING,E);return a.ii=a.ii.insert(x.targetId,x),a.fs.updateTargetData(p,x).next(()=>a.fs.removeMatchingKeysForTargetId(p,s.targetId)).next(()=>a.fs.addMatchingKeys(p,t,s.targetId)).next(()=>a._s.saveNamedQuery(p,e))})}),Xg.apply(this,arguments)}class u0{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,t){return $t.resolve(this.wi.get(t))}saveBundleMetadata(e,t){var s;return this.wi.set(t.id,{id:(s=t).id,version:s.version,createTime:Do(s.createTime)}),$t.resolve()}getNamedQuery(e,t){return $t.resolve(this.mi.get(t))}saveNamedQuery(e,t){return this.mi.set(t.name,{name:(s=t).name,query:Ey(s.bundledQuery),readTime:Do(s.readTime)}),$t.resolve();var s}}class Qg{constructor(){this.overlays=new Is(Rn.comparator),this.gi=new Map}getOverlay(e,t){return $t.resolve(this.overlays.get(t))}saveOverlays(e,t,s){return s.forEach((a,p)=>{this.Xt(e,t,p)}),$t.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.gi.get(s);return void 0!==a&&(a.forEach(p=>this.overlays=this.overlays.remove(p)),this.gi.delete(s)),$t.resolve()}getOverlaysForCollection(e,t,s){const a=yf(),p=t.length+1,E=new Rn(t.child("")),x=this.overlays.getIteratorFrom(E);for(;x.hasNext();){const H=x.getNext().value,Q=H.getKey();if(!t.isPrefixOf(Q.path))break;Q.path.length===p&&H.largestBatchId>s&&a.set(H.getKey(),H)}return $t.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let p=new Is((Q,be)=>Q-be);const E=this.overlays.getIterator();for(;E.hasNext();){const Q=E.getNext().value;if(Q.getKey().getCollectionGroup()===t&&Q.largestBatchId>s){let be=p.get(Q.largestBatchId);null===be&&(be=yf(),p=p.insert(Q.largestBatchId,be)),be.set(Q.getKey(),Q)}}const x=yf(),H=p.getIterator();for(;H.hasNext()&&(H.getNext().value.forEach((Q,be)=>x.set(Q,be)),!(x.size()>=a)););return $t.resolve(x)}Xt(e,t,s){if(null===s)return;const a=this.overlays.get(s.key);if(null!==a){const E=this.gi.get(a.largestBatchId).delete(s.key);this.gi.set(a.largestBatchId,E)}this.overlays=this.overlays.insert(s.key,new vy(t,s));let p=this.gi.get(t);void 0===p&&(p=Xi(),this.gi.set(t,p)),this.gi.set(t,p.add(s.key))}}class ky{constructor(){this.yi=new Ms(To.pi),this.Ii=new Ms(To.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,t){const s=new To(e,t);this.yi=this.yi.add(s),this.Ii=this.Ii.add(s)}Ei(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Ai(new To(e,t))}Ri(e,t){e.forEach(s=>this.removeReference(s,t))}Pi(e){const t=new Rn(new gt([])),s=new To(t,e),a=new To(t,e+1),p=[];return this.Ii.forEachInRange([s,a],E=>{this.Ai(E),p.push(E.key)}),p}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const t=new Rn(new gt([])),s=new To(t,e),a=new To(t,e+1);let p=Xi();return this.Ii.forEachInRange([s,a],E=>{p=p.add(E.key)}),p}containsKey(e){const t=new To(e,0),s=this.yi.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class To{constructor(e,t){this.key=e,this.vi=t}static pi(e,t){return Rn.comparator(e.key,t.key)||c(e.vi,t.vi)}static Ti(e,t){return c(e.vi,t.vi)||Rn.comparator(e.key,t.key)}}class c0{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.Si=1,this.Di=new Ms(To.pi)}checkEmpty(e){return $t.resolve(0===this.Bs.length)}addMutationBatch(e,t,s,a){const p=this.Si;this.Si++;const E=new _y(p,t,s,a);this.Bs.push(E);for(const x of a)this.Di=this.Di.add(new To(x.key,p)),this.indexManager.addToCollectionParentIndex(e,x.key.path.popLast());return $t.resolve(E)}lookupMutationBatch(e,t){return $t.resolve(this.Ci(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.xi(t+1),p=a<0?0:a;return $t.resolve(this.Bs.length>p?this.Bs[p]:null)}getHighestUnacknowledgedBatchId(){return $t.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return $t.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new To(t,0),a=new To(t,Number.POSITIVE_INFINITY),p=[];return this.Di.forEachInRange([s,a],E=>{const x=this.Ci(E.vi);p.push(x)}),$t.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ms(c);return t.forEach(a=>{const p=new To(a,0),E=new To(a,Number.POSITIVE_INFINITY);this.Di.forEachInRange([p,E],x=>{s=s.add(x.vi)})}),$t.resolve(this.Ni(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let p=s;Rn.isDocumentKey(p)||(p=p.child(""));const E=new To(new Rn(p),0);let x=new Ms(c);return this.Di.forEachWhile(H=>{const Q=H.key.path;return!!s.isPrefixOf(Q)&&(Q.length===a&&(x=x.add(H.vi)),!0)},E),$t.resolve(this.Ni(x))}Ni(e){const t=[];return e.forEach(s=>{const a=this.Ci(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){Ur(0===this.ki(t.batchId,"removed")),this.Bs.shift();let s=this.Di;return $t.forEach(t.mutations,a=>{const p=new To(a.key,t.batchId);return s=s.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Di=s})}_n(e){}containsKey(e,t){const s=new To(t,0),a=this.Di.firstAfterOrEqual(s);return $t.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return $t.resolve()}ki(e,t){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class Ny{constructor(e){this.Mi=e,this.docs=new Is(Rn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),p=a?a.size:0,E=this.Mi(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:E}),this.size+=E-p,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return $t.resolve(s?s.document.mutableCopy():as.newInvalidDocument(t))}getEntries(e,t){let s=fl();return t.forEach(a=>{const p=this.docs.get(a);s=s.insert(a,p?p.document.mutableCopy():as.newInvalidDocument(a))}),$t.resolve(s)}getAllFromCollection(e,t,s){let a=fl();const p=new Rn(t.child("")),E=this.docs.getIteratorFrom(p);for(;E.hasNext();){const{key:x,value:{document:H}}=E.getNext();if(!t.isPrefixOf(x.path))break;x.path.length>t.length+1||jE(rv(H),s)<=0||(a=a.insert(H.key,H.mutableCopy()))}return $t.resolve(a)}getAllFromCollectionGroup(e,t,s,a){Xn()}Oi(e,t){return $t.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new Jg(this)}getSize(e){return $t.resolve(this.size)}}class Jg extends n0{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.Kn.addEntry(e,a)):this.Kn.removeEntry(s)}),$t.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class d0{constructor(e){this.persistence=e,this.Fi=new Cd(t=>bd(t),cp),this.lastRemoteSnapshotVersion=L.min(),this.highestTargetId=0,this.$i=0,this.Bi=new ky,this.targetCount=0,this.Li=Sd.gn()}forEachTarget(e,t){return this.Fi.forEach((s,a)=>t(a)),$t.resolve()}getLastRemoteSnapshotVersion(e){return $t.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $t.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),$t.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$i&&(this.$i=t),$t.resolve()}Tn(e){this.Fi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Li=new Sd(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,$t.resolve()}updateTargetData(e,t){return this.Tn(t),$t.resolve()}removeTargetData(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,$t.resolve()}removeTargets(e,t,s){let a=0;const p=[];return this.Fi.forEach((E,x)=>{x.sequenceNumber<=t&&null===s.get(x.targetId)&&(this.Fi.delete(E),p.push(this.removeMatchingKeysForTargetId(e,x.targetId)),a++)}),$t.waitFor(p).next(()=>a)}getTargetCount(e){return $t.resolve(this.targetCount)}getTargetData(e,t){const s=this.Fi.get(t)||null;return $t.resolve(s)}addMatchingKeys(e,t,s){return this.Bi.Ei(t,s),$t.resolve()}removeMatchingKeys(e,t,s){this.Bi.Ri(t,s);const a=this.persistence.referenceDelegate,p=[];return a&&t.forEach(E=>{p.push(a.markPotentiallyOrphaned(e,E))}),$t.waitFor(p)}removeMatchingKeysForTargetId(e,t){return this.Bi.Pi(t),$t.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Bi.Vi(t);return $t.resolve(s)}containsKey(e,t){return $t.resolve(this.Bi.containsKey(t))}}class Fy{constructor(e,t){this.Ui={},this.overlays={},this.es=new Zo(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new d0(this),this.indexManager=new db,this.ds=new Ny(s=>this.referenceDelegate.qi(s)),this.M=new zv(t),this._s=new u0(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Qg,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Ui[e.toKey()];return s||(s=new c0(t,this.referenceDelegate),this.Ui[e.toKey()]=s),s}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,s){mn("MemoryPersistence","Starting transaction:",e);const a=new h0(this.es.next());return this.referenceDelegate.Ki(),s(a).next(p=>this.referenceDelegate.Gi(a).next(()=>p)).toPromise().then(p=>(a.raiseOnCommittedEvent(),p))}Qi(e,t){return $t.or(Object.values(this.Ui).map(s=>()=>s.containsKey(e,t)))}}class h0 extends Gv{constructor(e){super(),this.currentSequenceNumber=e}}class em{constructor(e){this.persistence=e,this.ji=new ky,this.Wi=null}static zi(e){return new em(e)}get Hi(){if(this.Wi)return this.Wi;throw Xn()}addReference(e,t,s){return this.ji.addReference(s,t),this.Hi.delete(s.toString()),$t.resolve()}removeReference(e,t,s){return this.ji.removeReference(s,t),this.Hi.add(s.toString()),$t.resolve()}markPotentiallyOrphaned(e,t){return this.Hi.add(t.toString()),$t.resolve()}removeTarget(e,t){this.ji.Pi(t.targetId).forEach(a=>this.Hi.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(p=>this.Hi.add(p.toString()))}).next(()=>s.removeTargetData(e,t))}Ki(){this.Wi=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $t.forEach(this.Hi,s=>{const a=Rn.fromPath(s);return this.Ji(e,a).next(p=>{p||t.removeEntry(a,L.min())})}).next(()=>(this.Wi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ji(e,t).next(s=>{s?this.Hi.delete(t.toString()):this.Hi.add(t.toString())})}qi(e){return 0}Ji(e,t){return $t.or([()=>$t.resolve(this.ji.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Qi(e,t)])}}function Ly(n,e){return`firestore_clients_${n}_${e}`}function By(n,e,t){let s=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function tm(n,e){return`firestore_targets_${n}_${e}`}class Ap{constructor(e,t,s,a){this.user=e,this.batchId=t,this.state=s,this.error=a}static Yi(e,t,s){const a=JSON.parse(s);let p,E="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return E&&a.error&&(E="string"==typeof a.error.message&&"string"==typeof a.error.code,E&&(p=new an(a.error.code,a.error.message))),E?new Ap(e,t,a.state,p):(ms("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class xp{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static Yi(e,t){const s=JSON.parse(t);let a,p="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return p&&s.error&&(p="string"==typeof s.error.message&&"string"==typeof s.error.code,p&&(a=new an(s.error.code,s.error.message))),p?new xp(e,s.state,a):(ms("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class nm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Yi(e,t){const s=JSON.parse(t);let a="object"==typeof s&&s.activeTargetIds instanceof Array,p=mp();for(let E=0;a&&E<s.activeTargetIds.length;++E)a=LE(s.activeTargetIds[E]),p=p.add(s.activeTargetIds[E]);return a?new nm(e,p):(ms("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Vy{constructor(e,t){this.clientId=e,this.onlineState=t}static Yi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Vy(t.clientId,t.onlineState):(ms("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Uy{constructor(){this.activeTargetIds=mp()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $y{constructor(e,t,s,a,p){this.window=e,this.Yn=t,this.persistenceKey=s,this.er=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new Is(c),this.started=!1,this.rr=[];const E=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.ur=Ly(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new Uy),this.cr=new RegExp(`^firestore_clients_${E}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${E}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${E}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(x){return`firestore_bundle_loaded_v2_${x}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Rt.Z)(function*(){const t=yield e.syncEngine.Fs();for(const a of t){if(a===e.er)continue;const p=e.getItem(Ly(e.persistenceKey,a));if(p){const E=nm.Yi(a,p);E&&(e.ir=e.ir.insert(E.clientId,E))}}e.wr();const s=e.storage.getItem(e.dr);if(s){const a=e.mr(s);a&&e.gr(a)}for(const a of e.rr)e.sr(a);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let t=!1;return this.ir.forEach((s,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,t,s){this.pr(e,t,s),this.Ir(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(tm(this.persistenceKey,e));if(s){const a=xp.Yi(e,s);a&&(t=a.state)}}return this.Tr.Zi(e),this.wr(),t}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(tm(this.persistenceKey,e))}updateQueryState(e,t,s){this.Er(e,t,s)}handleUserChange(e,t,s){t.forEach(a=>{this.Ir(a)}),this.currentUser=e,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return mn("SharedClientState","READ",e,t),t}setItem(e,t){mn("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){mn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(mn("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ur)return void ms("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,Rt.Z)(function*(){if(t.started){if(null!==s.key)if(t.cr.test(s.key)){if(null==s.newValue){const a=t.Pr(s.key);return t.br(a,null)}{const a=t.Vr(s.key,s.newValue);if(a)return t.br(a.clientId,a)}}else if(t.hr.test(s.key)){if(null!==s.newValue){const a=t.vr(s.key,s.newValue);if(a)return t.Sr(a)}}else if(t.lr.test(s.key)){if(null!==s.newValue){const a=t.Dr(s.key,s.newValue);if(a)return t.Cr(a)}}else if(s.key===t.dr){if(null!==s.newValue){const a=t.mr(s.newValue);if(a)return t.gr(a)}}else if(s.key===t.ar){const a=function(p){let E=Zo.A;if(null!=p)try{const x=JSON.parse(p);Ur("number"==typeof x),E=x}catch(x){ms("SharedClientState","Failed to read sequence number from WebStorage",x)}return E}(s.newValue);a!==Zo.A&&t.sequenceNumberHandler(a)}else if(s.key===t._r){const a=t.Nr(s.newValue);yield Promise.all(a.map(p=>t.syncEngine.kr(p)))}}else t.rr.push(s)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,t,s){const a=new Ap(this.currentUser,e,t,s),p=By(this.persistenceKey,this.currentUser,e);this.setItem(p,a.Xi())}Ir(e){const t=By(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,t,s){const a=tm(this.persistenceKey,e),p=new xp(e,t,s);this.setItem(a,p.Xi())}Rr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}Pr(e){const t=this.cr.exec(e);return t?t[1]:null}Vr(e,t){const s=this.Pr(e);return nm.Yi(s,t)}vr(e,t){const s=this.hr.exec(e),a=Number(s[1]);return Ap.Yi(new Co(void 0!==s[2]?s[2]:null),a,t)}Dr(e,t){const s=this.lr.exec(e),a=Number(s[1]);return xp.Yi(a,t)}mr(e){return Vy.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var t=this;return(0,Rt.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Mr(e.batchId,e.state,e.error);mn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const s=t?this.ir.insert(e,t):this.ir.remove(e),a=this.yr(this.ir),p=this.yr(s),E=[],x=[];return p.forEach(H=>{a.has(H)||E.push(H)}),a.forEach(H=>{p.has(H)||x.push(H)}),this.syncEngine.Fr(E,x).then(()=>{this.ir=s})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let t=mp();return e.forEach((s,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class f0{constructor(){this.$r=new Uy,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,t,s){this.Br[e]=t}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new Uy,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vb{Lr(e){}shutdown(){}}class p0{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){mn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){mn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Eb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class g0{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class bb extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,t,s,a,p){const E=this.uo(e,t);mn("RestConnection","Sending: ",E,s);const x={};return this.ao(x,a,p),this.co(e,E,x,s).then(H=>(mn("RestConnection","Received: ",H),H),H=>{throw Jd("RestConnection",`${e} failed with error: `,H,"url: ",E,"request:",s),H})}ho(e,t,s,a,p){return this.oo(e,t,s,a,p)}ao(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Tc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,p)=>e[p]=a),s&&s.headers.forEach((a,p)=>e[p]=a)}uo(e,t){return`${this.io}/v1/${t}:${Eb[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,s,a){return new Promise((p,E)=>{const x=new tv;x.listenOnce(Lm.COMPLETE,()=>{try{switch(x.getLastErrorCode()){case qu.NO_ERROR:const Q=x.getResponseJson();mn("Connection","XHR received:",JSON.stringify(Q)),p(Q);break;case qu.TIMEOUT:mn("Connection",'RPC "'+e+'" timed out'),E(new an(Bt.DEADLINE_EXCEEDED,"Request time out"));break;case qu.HTTP_ERROR:const be=x.getStatus();if(mn("Connection",'RPC "'+e+'" failed with status:',be,"response text:",x.getResponseText()),be>0){const ze=x.getResponseJson().error;if(ze&&ze.status&&ze.message){const vt=function(jt){const zt=jt.toLowerCase().replace(/_/g,"-");return Object.values(Bt).indexOf(zt)>=0?zt:Bt.UNKNOWN}(ze.status);E(new an(vt,ze.message))}else E(new an(Bt.UNKNOWN,"Server responded with status "+x.getStatus()))}else E(new an(Bt.UNAVAILABLE,"Connection failed."));break;default:Xn()}}finally{mn("Connection",'RPC "'+e+'" completed.')}});const H=JSON.stringify(a);x.send(t,"POST",H,s,15)})}lo(e,t,s){const a=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=Hs(),E=Da(),x={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(x.xmlHttpFactory=new np({})),this.ao(x.initMessageHeaders,t,s),(0,Mn.uI)()||(0,Mn.b$)()||(0,Mn.d)()||(0,Mn.w1)()||(0,Mn.Mn)()||(0,Mn.ru)()||(x.httpHeadersOverwriteParam="$httpHeaders");const H=a.join("");mn("Connection","Creating WebChannel: "+H,x);const Q=p.createWebChannel(H,x);let be=!1,ze=!1;const vt=new g0({Wr:zt=>{ze?mn("Connection","Not sending because WebChannel is closed:",zt):(be||(mn("Connection","Opening WebChannel transport."),Q.open(),be=!0),mn("Connection","WebChannel sending:",zt),Q.send(zt))},zr:()=>Q.close()}),jt=(zt,Dn,Zn)=>{zt.listen(Dn,Ai=>{try{Zn(Ai)}catch(Qi){setTimeout(()=>{throw Qi},0)}})};return jt(Q,Ha.EventType.OPEN,()=>{ze||mn("Connection","WebChannel transport opened.")}),jt(Q,Ha.EventType.CLOSE,()=>{ze||(ze=!0,mn("Connection","WebChannel transport closed"),vt.no())}),jt(Q,Ha.EventType.ERROR,zt=>{ze||(ze=!0,Jd("Connection","WebChannel transport errored:",zt),vt.no(new an(Bt.UNAVAILABLE,"The operation could not be completed")))}),jt(Q,Ha.EventType.MESSAGE,zt=>{var Dn;if(!ze){const Zn=zt.data[0];Ur(!!Zn);const Ai=Zn,Qi=Ai.error||(null===(Dn=Ai[0])||void 0===Dn?void 0:Dn.error);if(Qi){mn("Connection","WebChannel received error:",Qi);const Jr=Qi.status;let _i=function(Ji){const zs=ao[Ji];if(void 0!==zs)return yv(zs)}(Jr),$i=Qi.message;void 0===_i&&(_i=Bt.INTERNAL,$i="Unknown error status: "+Jr+" with message "+Qi.message),ze=!0,vt.no(new an(_i,$i)),Q.close()}else mn("Connection","WebChannel received:",Zn),vt.so(Zn)}}),jt(E,Bm.STAT_EVENT,zt=>{zt.stat===tp.PROXY?mn("Connection","Detected buffering proxy"):zt.stat===tp.NOPROXY&&mn("Connection","Detected no buffering proxy")}),setTimeout(()=>{vt.eo()},0),vt}}function m0(){return"undefined"!=typeof window?window:null}function rm(){return"undefined"!=typeof document?document:null}function Mp(n){return new _u(n,!0)}class jy{constructor(e,t,s=1e3,a=1.5,p=6e4){this.Yn=e,this.timerId=t,this.fo=s,this._o=a,this.wo=p,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),s=Math.max(0,Date.now()-this.po),a=Math.max(0,t-s);a>0&&mn("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,a,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class y0{constructor(e,t,s,a,p,E,x,H){this.Yn=e,this.Ro=s,this.Po=a,this.bo=p,this.authCredentialsProvider=E,this.appCheckCredentialsProvider=x,this.listener=H,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new jy(e,t)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,Rt.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,Rt.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,t){var s=this;return(0,Rt.Z)(function*(){s.$o(),s.Bo(),s.Do.cancel(),s.Vo++,4!==e?s.Do.reset():t&&t.code===Bt.RESOURCE_EXHAUSTED?(ms(t.toString()),ms("Using maximum backoff delay to prevent overloading the backend."),s.Do.Io()):t&&t.code===Bt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Lo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Yr(t)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Vo===t&&this.qo(s,a)},s=>{e(()=>{const a=new an(Bt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Ko(a)})})}qo(e,t){const s=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr(()=>{s(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(a=>{s(()=>this.Ko(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}No(){var e=this;this.state=5,this.Do.To((0,Rt.Z)(function*(){e.state=0,e.start()}))}Ko(e){return mn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Yn.enqueueAndForget(()=>this.Vo===e?t():(mn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wb extends y0{constructor(e,t,s,a,p,E){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,E),this.M=p}Go(e,t){return this.bo.lo("Listen",e,t)}onMessage(e){this.Do.reset();const t=function ib(n,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(H=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===H?1:"REMOVE"===H?2:"CURRENT"===H?3:"RESET"===H?4:Xn(),a=e.targetChange.targetIds||[],p=function(H,Q){return H.N?(Ur(void 0===Q||"string"==typeof Q),yi.fromBase64String(Q||"")):(Ur(void 0===Q||Q instanceof Uint8Array),yi.fromUint8Array(Q||new Uint8Array))}(n,e.targetChange.resumeToken),E=e.targetChange.cause,x=E&&function(H){const Q=void 0===H.code?Bt.UNKNOWN:yv(H.code);return new an(Q,H.message||"")}(E);t=new eb(s,a,p,x||null)}else if("documentChange"in e){const s=e.documentChange,a=vu(n,s.document.name),p=Do(s.document.updateTime),E=new Lo({mapValue:{fields:s.document.fields}}),x=as.newFoundDocument(a,p,E);t=new Ag(s.targetIds||[],s.removedTargetIds||[],x.key,x)}else if("documentDelete"in e){const s=e.documentDelete,a=vu(n,s.document),p=s.readTime?Do(s.readTime):L.min(),E=as.newNoDocument(a,p);t=new Ag([],s.removedTargetIds||[],E.key,E)}else if("documentRemove"in e){const s=e.documentRemove,a=vu(n,s.document);t=new Ag([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return Xn();{const s=e.filter,p=new ZE(s.count||0);t=new Ev(s.targetId,p)}}var H;return t}(this.M,e),s=function(a){if(!("targetChange"in a))return L.min();const p=a.targetChange;return p.targetIds&&p.targetIds.length?L.min():p.readTime?Do(p.readTime):L.min()}(e);return this.listener.Qo(t,s)}jo(e){const t={};t.database=lh(this.M),t.addTarget=function(a,p){let E;const x=p.target;return E=dp(x)?{documents:xv(a,x)}:{query:bf(a,x)},E.targetId=p.targetId,p.resumeToken.approximateByteSize()>0?E.resumeToken=nb(a,p.resumeToken):p.snapshotVersion.compareTo(L.min())>0&&(E.readTime=xg(a,p.snapshotVersion.toTimestamp())),E}(this.M,e);const s=function sb(n,e){const t=function(s,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Xn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Fo(t)}Wo(e){const t={};t.database=lh(this.M),t.removeTarget=e,this.Fo(t)}}class Ib extends y0{constructor(e,t,s,a,p,E){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,E),this.M=p,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,t){return this.bo.lo("Write",e,t)}onMessage(e){if(Ur(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const t=function Ef(n,e){return n&&n.length>0?(Ur(void 0!==e),n.map(t=>function(s,a){let p=Do(s.updateTime?s.updateTime:a);return p.isEqual(L.min())&&(p=Do(a)),new wg(p,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Do(e.commitTime);return this.listener.Yo(s,t)}return Ur(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=lh(this.M),this.Fo(e)}Jo(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>_p(this.M,s))};this.Fo(t)}}class _0 extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=s,this.M=a,this.tu=!1}eu(){if(this.tu)throw new an(Bt.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,t,s){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,p])=>this.bo.oo(e,t,s,a,p)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new an(Bt.UNKNOWN,a.toString())})}ho(e,t,s){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,p])=>this.bo.ho(e,t,s,a,p)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new an(Bt.UNKNOWN,a.toString())})}terminate(){this.tu=!0}}class v0{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(ms(t),this.iu=!1):mn("OnlineStateTracker",t)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class E0{constructor(e,t,s,a,p){var E=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=p,this._u.Lr(x=>{s.enqueueAndForget((0,Rt.Z)(function*(){var H;Pd(E)&&(mn("RemoteStore","Restarting streams for network reachability change."),yield(H=(0,Rt.Z)(function*(Q){const be=On(Q);be.fu.add(4),yield Eh(be),be.wu.set("Unknown"),be.fu.delete(4),yield Rf(be)}),function(Q){return H.apply(this,arguments)})(E))}))}),this.wu=new v0(s,a)}}function Rf(n){return im.apply(this,arguments)}function im(){return im=(0,Rt.Z)(function*(n){if(Pd(n))for(const e of n.du)yield e(!0)}),im.apply(this,arguments)}function Eh(n){return sm.apply(this,arguments)}function sm(){return sm=(0,Rt.Z)(function*(n){for(const e of n.du)yield e(!1)}),sm.apply(this,arguments)}function Rp(n,e){const t=On(n);t.lu.has(e.targetId)||(t.lu.set(e.targetId,e),Gy(t)?Lc(t):Nf(t).xo()&&om(t,e))}function Pf(n,e){const t=On(n),s=Nf(t);t.lu.delete(e),s.xo()&&Hy(t,e),0===t.lu.size&&(s.xo()?s.Mo():Pd(t)&&t.wu.set("Unknown"))}function om(n,e){n.mu.Z(e.targetId),Nf(n).jo(e)}function Hy(n,e){n.mu.Z(e),Nf(n).Wo(e)}function Lc(n){n.mu=new uy({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.lu.get(e)||null}),Nf(n).start(),n.wu.ru()}function Gy(n){return Pd(n)&&!Nf(n).Co()&&n.lu.size>0}function Pd(n){return 0===On(n).fu.size}function bh(n){n.mu=void 0}function nI(n){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,Rt.Z)(function*(n){n.lu.forEach((e,t)=>{om(n,e)})}),Pp.apply(this,arguments)}function rI(n,e){return am.apply(this,arguments)}function am(){return am=(0,Rt.Z)(function*(n,e){bh(n),Gy(n)?(n.wu.au(e),Lc(n)):n.wu.set("Unknown")}),am.apply(this,arguments)}function b0(n,e,t){return w0.apply(this,arguments)}function w0(){return w0=(0,Rt.Z)(function*(n,e,t){if(n.wu.set("Online"),e instanceof eb&&2===e.state&&e.cause)try{yield(s=(0,Rt.Z)(function*(a,p){const E=p.cause;for(const x of p.targetIds)a.lu.has(x)&&(yield a.remoteSyncer.rejectListen(x,E),a.lu.delete(x),a.mu.removeTarget(x))}),function(a,p){return s.apply(this,arguments)})(n,e)}catch(s){mn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Dr(n,s)}else if(e instanceof Ag?n.mu.ut(e):e instanceof Ev?n.mu._t(e):n.mu.ht(e),!t.isEqual(L.min()))try{const s=yield Iu(n.localStore);t.compareTo(s)>=0&&(yield function(a,p){const E=a.mu.yt(p);return E.targetChanges.forEach((x,H)=>{if(x.resumeToken.approximateByteSize()>0){const Q=a.lu.get(H);Q&&a.lu.set(H,Q.withResumeToken(x.resumeToken,p))}}),E.targetMismatches.forEach(x=>{const H=a.lu.get(x);if(!H)return;a.lu.set(x,H.withResumeToken(yi.EMPTY_BYTE_STRING,H.snapshotVersion)),Hy(a,x);const Q=new Oc(H.target,x,1,H.sequenceNumber);om(a,Q)}),a.remoteSyncer.applyRemoteEvent(E)}(n,t))}catch(s){mn("RemoteStore","Failed to raise snapshot:",s),yield Dr(n,s)}var s}),w0.apply(this,arguments)}function Dr(n,e,t){return zy.apply(this,arguments)}function zy(){return zy=(0,Rt.Z)(function*(n,e,t){if(!ph(e))throw e;n.fu.add(1),yield Eh(n),n.wu.set("Offline"),t||(t=()=>Iu(n.localStore)),n.asyncQueue.enqueueRetryable((0,Rt.Z)(function*(){mn("RemoteStore","Retrying IndexedDB access"),yield t(),n.fu.delete(1),yield Rf(n)}))}),zy.apply(this,arguments)}function I0(n,e){return e().catch(t=>Dr(n,t,e))}function Of(n){return kf.apply(this,arguments)}function kf(){return kf=(0,Rt.Z)(function*(n){const e=On(n),t=Od(e);let s=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;Cb(e);)try{const a=yield a0(e.localStore,s);if(null===a){0===e.hu.length&&t.Mo();break}s=a.batchId,lm(e,a)}catch(a){yield Dr(e,a)}Op(e)&&Gs(e)}),kf.apply(this,arguments)}function Cb(n){return Pd(n)&&n.hu.length<10}function lm(n,e){n.hu.push(e);const t=Od(n);t.xo()&&t.Ho&&t.Jo(e.mutations)}function Op(n){return Pd(n)&&!Od(n).Co()&&n.hu.length>0}function Gs(n){Od(n).start()}function iI(n){return um.apply(this,arguments)}function um(){return um=(0,Rt.Z)(function*(n){Od(n).Zo()}),um.apply(this,arguments)}function Db(n){return Wy.apply(this,arguments)}function Wy(){return Wy=(0,Rt.Z)(function*(n){const e=Od(n);for(const t of n.hu)e.Jo(t.mutations)}),Wy.apply(this,arguments)}function C0(n,e,t){return cm.apply(this,arguments)}function cm(){return cm=(0,Rt.Z)(function*(n,e,t){const s=n.hu.shift(),a=Dd.from(s,e,t);yield I0(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield Of(n)}),cm.apply(this,arguments)}function D0(n,e){return dm.apply(this,arguments)}function dm(){return dm=(0,Rt.Z)(function*(n,e){var t;e&&Od(n).Ho&&(yield(t=(0,Rt.Z)(function*(s,a){if(ay(p=a.code)&&p!==Bt.ABORTED){const E=s.hu.shift();Od(s).ko(),yield I0(s,()=>s.remoteSyncer.rejectFailedWrite(E.batchId,a)),yield Of(s)}var p}),function(s,a){return t.apply(this,arguments)})(n,e)),Op(n)&&Gs(n)}),dm.apply(this,arguments)}function T0(n,e){return qy.apply(this,arguments)}function qy(){return qy=(0,Rt.Z)(function*(n,e){const t=On(n);t.asyncQueue.verifyOperationInProgress(),mn("RemoteStore","RemoteStore received new credentials");const s=Pd(t);t.fu.add(3),yield Eh(t),s&&t.wu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.fu.delete(3),yield Rf(t)}),qy.apply(this,arguments)}function Yy(n,e){return wh.apply(this,arguments)}function wh(){return wh=(0,Rt.Z)(function*(n,e){const t=On(n);e?(t.fu.delete(2),yield Rf(t)):e||(t.fu.add(2),yield Eh(t),t.wu.set("Unknown"))}),wh.apply(this,arguments)}function Nf(n){return n.gu||(n.gu=function(e,t,s){const a=On(e);return a.eu(),new wb(t,a.bo,a.authCredentials,a.appCheckCredentials,a.M,s)}(n.datastore,n.asyncQueue,{Hr:nI.bind(null,n),Yr:rI.bind(null,n),Qo:b0.bind(null,n)}),n.du.push(function(){var e=(0,Rt.Z)(function*(t){t?(n.gu.ko(),Gy(n)?Lc(n):n.wu.set("Unknown")):(yield n.gu.stop(),bh(n))});return function(t){return e.apply(this,arguments)}}())),n.gu}function Od(n){return n.yu||(n.yu=function(e,t,s){const a=On(e);return a.eu(),new Ib(t,a.bo,a.authCredentials,a.appCheckCredentials,a.M,s)}(n.datastore,n.asyncQueue,{Hr:iI.bind(null,n),Yr:D0.bind(null,n),Xo:Db.bind(null,n),Yo:C0.bind(null,n)}),n.du.push(function(){var e=(0,Rt.Z)(function*(t){t?(n.yu.ko(),yield Of(n)):(yield n.yu.stop(),n.hu.length>0&&(mn("RemoteStore",`Stopping write stream with ${n.hu.length} pending writes`),n.hu=[]))});return function(t){return e.apply(this,arguments)}}())),n.yu}class Ky{constructor(e,t,s,a,p){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=p,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(E=>{})}static createAndSchedule(e,t,s,a,p){const E=Date.now()+s,x=new Ky(e,t,E,a,p);return x.start(s),x}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new an(Bt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bc(n,e){if(ms("AsyncQueue",`${e}: ${n}`),ph(n))return new an(Bt.UNAVAILABLE,`${e}: ${n}`);throw n}class Ih{constructor(e){this.comparator=e?(t,s)=>e(t,s)||Rn.comparator(t.key,s.key):(t,s)=>Rn.comparator(t.key,s.key),this.keyedMap=Tg(),this.sortedSet=new Is(this.comparator)}static emptySet(e){return new Ih(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ih)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,p=s.getNext().key;if(!a.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Ih;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Zy{constructor(){this.pu=new Is(Rn.comparator)}track(e){const t=e.doc.key,s=this.pu.get(t);s?0!==e.type&&3===s.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==s.type?this.pu=this.pu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.pu=this.pu.remove(t):1===e.type&&2===s.type?this.pu=this.pu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):Xn():this.pu=this.pu.insert(t,e)}Iu(){const e=[];return this.pu.inorderTraversal((t,s)=>{e.push(s)}),e}}class Ch{constructor(e,t,s,a,p,E,x,H){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=p,this.fromCache=E,this.syncStateChanged=x,this.excludesMetadataChanges=H}static fromInitialDocuments(e,t,s,a){const p=[];return t.forEach(E=>{p.push({type:0,doc:E})}),new Ch(e,t,Ih.emptySet(t),p,s,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class Tb{constructor(){this.Tu=void 0,this.listeners=[]}}class kp{constructor(){this.queries=new Cd(e=>cv(e),hf),this.onlineState="Unknown",this.Eu=new Set}}function Dh(n,e){return Xy.apply(this,arguments)}function Xy(){return Xy=(0,Rt.Z)(function*(n,e){const t=On(n),s=e.query;let a=!1,p=t.queries.get(s);if(p||(a=!0,p=new Tb),a)try{p.Tu=yield t.onListen(s)}catch(E){const x=Bc(E,`Initialization of query '${Km(e.query)}' failed`);return void e.onError(x)}t.queries.set(s,p),p.listeners.push(e),e.Au(t.onlineState),p.Tu&&e.Ru(p.Tu)&&hm(t)}),Xy.apply(this,arguments)}function Qy(n,e){return Jy.apply(this,arguments)}function Jy(){return Jy=(0,Rt.Z)(function*(n,e){const t=On(n),s=e.query;let a=!1;const p=t.queries.get(s);if(p){const E=p.listeners.indexOf(e);E>=0&&(p.listeners.splice(E,1),a=0===p.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),Jy.apply(this,arguments)}function S0(n,e){const t=On(n);let s=!1;for(const a of e){const E=t.queries.get(a.query);if(E){for(const x of E.listeners)x.Ru(a)&&(s=!0);E.Tu=a}}s&&hm(t)}function A0(n,e,t){const s=On(n),a=s.queries.get(e);if(a)for(const p of a.listeners)p.onError(t);s.queries.delete(e)}function hm(n){n.Eu.forEach(e=>{e.next()})}class e_{constructor(e,t,s){this.query=e,this.Pu=t,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=s||{}}Ru(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new Ch(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),t=!0):this.Su(e,this.onlineState)&&(this.Du(e),t=!0),this.Vu=e,t}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}Su(e,t){return!e.fromCache||!(this.options.Cu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=Ch.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class x0{constructor(e,t){this.payload=e,this.byteLength=t}xu(){return"metadata"in this.payload}}class M0{constructor(e){this.M=e}fi(e){return vu(this.M,e)}di(e){return e.metadata.exists?Av(this.M,e.document,!1):as.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return Do(e)}}class Sb{constructor(e,t,s){this.Nu=e,this.localStore=t,this.M=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ab(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const s=gt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,s=new M0(this.M);for(const a of e)if(a.metadata.queries){const p=s.fi(a.metadata.name);for(const E of a.metadata.queries){const x=(t.get(E)||Xi()).add(p);t.set(E,x)}}return t}complete(){var e=this;return(0,Rt.Z)(function*(){const t=yield function yb(n,e,t,s){return Zg.apply(this,arguments)}(e.localStore,new M0(e.M),e.documents,e.Nu.id),s=e.Mu(e.documents);for(const a of e.queries)yield _b(e.localStore,a,s.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:t}})()}}function Ab(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class xb{constructor(e){this.key=e}}class Mb{constructor(e){this.key=e}}class Rb{constructor(e,t){this.query=e,this.$u=t,this.Bu=null,this.current=!1,this.Lu=Xi(),this.mutatedKeys=Xi(),this.Uu=dv(e),this.qu=new Ih(this.Uu)}get Ku(){return this.$u}Gu(e,t){const s=t?t.Qu:new Zy,a=t?t.qu:this.qu;let p=t?t.mutatedKeys:this.mutatedKeys,E=a,x=!1;const H=hp(this.query)&&a.size===this.query.limit?a.last():null,Q=fp(this.query)&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((be,ze)=>{const vt=a.get(be),jt=Zm(this.query,ze)?ze:null,zt=!!vt&&this.mutatedKeys.has(vt.key),Dn=!!jt&&(jt.hasLocalMutations||this.mutatedKeys.has(jt.key)&&jt.hasCommittedMutations);let Zn=!1;vt&&jt?vt.data.isEqual(jt.data)?zt!==Dn&&(s.track({type:3,doc:jt}),Zn=!0):this.ju(vt,jt)||(s.track({type:2,doc:jt}),Zn=!0,(H&&this.Uu(jt,H)>0||Q&&this.Uu(jt,Q)<0)&&(x=!0)):!vt&&jt?(s.track({type:0,doc:jt}),Zn=!0):vt&&!jt&&(s.track({type:1,doc:vt}),Zn=!0,(H||Q)&&(x=!0)),Zn&&(jt?(E=E.add(jt),p=Dn?p.add(be):p.delete(be)):(E=E.delete(be),p=p.delete(be)))}),hp(this.query)||fp(this.query))for(;E.size>this.query.limit;){const be=hp(this.query)?E.last():E.first();E=E.delete(be.key),p=p.delete(be.key),s.track({type:1,doc:be})}return{qu:E,Qu:s,ni:x,mutatedKeys:p}}ju(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const p=e.Qu.Iu();p.sort((Q,be)=>function(ze,vt){const jt=zt=>{switch(zt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xn()}};return jt(ze)-jt(vt)}(Q.type,be.type)||this.Uu(Q.doc,be.doc)),this.Wu(s);const E=t?this.zu():[],x=0===this.Lu.size&&this.current?1:0,H=x!==this.Bu;return this.Bu=x,0!==p.length||H?{snapshot:new Ch(this.query,e.qu,a,p,e.mutatedKeys,0===x,H,!1),Hu:E}:{Hu:E}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new Zy,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(t=>this.$u=this.$u.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.$u=this.$u.delete(t)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=Xi(),this.qu.forEach(s=>{this.Ju(s.key)&&(this.Lu=this.Lu.add(s.key))});const t=[];return e.forEach(s=>{this.Lu.has(s)||t.push(new Mb(s))}),this.Lu.forEach(s=>{e.has(s)||t.push(new xb(s))}),t}Yu(e){this.$u=e.li,this.Lu=Xi();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Xu(){return Ch.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class R0{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class fm{constructor(e){this.key=e,this.Zu=!1}}class Pb{constructor(e,t,s,a,p,E){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=p,this.maxConcurrentLimboResolutions=E,this.ta={},this.ea=new Cd(x=>cv(x),hf),this.na=new Map,this.sa=new Set,this.ia=new Is(Rn.comparator),this.ra=new Map,this.oa=new ky,this.ua={},this.aa=new Map,this.ca=Sd.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function Ob(n,e){return pm.apply(this,arguments)}function pm(){return pm=(0,Rt.Z)(function*(n,e){const t=mm(n);let s,a;const p=t.ea.get(e);if(p)s=p.targetId,t.sharedClientState.addLocalQueryTarget(s),a=p.view.Xu();else{const E=yield vh(t.localStore,Nl(e));t.isPrimaryClient&&Rp(t.remoteStore,E);const x=t.sharedClientState.addLocalQueryTarget(E.targetId);s=E.targetId,a=yield Th(t,e,s,"current"===x)}return a}),pm.apply(this,arguments)}function Th(n,e,t,s){return t_.apply(this,arguments)}function t_(){return t_=(0,Rt.Z)(function*(n,e,t,s){n.la=(be,ze,vt)=>{return(jt=(0,Rt.Z)(function*(zt,Dn,Zn,Ai){let Qi=Dn.view.Gu(Zn);Qi.ni&&(Qi=yield Yg(zt.localStore,Dn.query,!1).then(({documents:$i})=>Dn.view.Gu($i,Qi)));const Jr=Ai&&Ai.targetChanges.get(Dn.targetId),_i=Dn.view.applyChanges(Qi,zt.isPrimaryClient,Jr);return h_(zt,Dn.targetId,_i.Hu),_i.snapshot}),function(zt,Dn,Zn,Ai){return jt.apply(this,arguments)})(n,be,ze,vt);var jt};const a=yield Yg(n.localStore,e,!0),p=new Rb(e,a.li),E=p.Gu(a.documents),x=_f.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==n.onlineState),H=p.applyChanges(E,n.isPrimaryClient,x);h_(n,t,H.Hu);const Q=new R0(e,t,p);return n.ea.set(e,Q),n.na.has(t)?n.na.get(t).push(e):n.na.set(t,[e]),H.snapshot}),t_.apply(this,arguments)}function kb(n,e){return n_.apply(this,arguments)}function n_(){return n_=(0,Rt.Z)(function*(n,e){const t=On(n),s=t.ea.get(e),a=t.na.get(s.targetId);if(a.length>1)return t.na.set(s.targetId,a.filter(p=>!hf(p,e))),void t.ea.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield xf(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Pf(t.remoteStore,s.targetId),Sh(t,s.targetId)}).catch(xd))):(Sh(t,s.targetId),yield xf(t.localStore,s.targetId,!0))}),n_.apply(this,arguments)}function r_(){return r_=(0,Rt.Z)(function*(n,e,t){const s=Lp(n);try{const a=yield function(p,E){const x=On(p),H=M.now(),Q=E.reduce((ze,vt)=>ze.add(vt.key),Xi());let be;return x.persistence.runTransaction("Locally write mutations","readwrite",ze=>x.ci.Ks(ze,Q).next(vt=>{be=vt;const jt=[];for(const zt of E){const Dn=ry(zt,be.get(zt.key));null!=Dn&&jt.push(new Id(zt.key,Dn,nh(Dn.value.mapValue),go.exists(!0)))}return x.Bs.addMutationBatch(ze,H,jt,E)})).then(ze=>(ze.applyToLocalDocumentSet(be),{batchId:ze.batchId,changes:be}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(p,E,x){let H=p.ua[p.currentUser.toKey()];H||(H=new Is(c)),H=H.insert(E,x),p.ua[p.currentUser.toKey()]=H}(s,a.batchId,t),yield Du(s,a.changes),yield Of(s.remoteStore)}catch(a){const p=Bc(a,"Failed to persist write");t.reject(p)}}),r_.apply(this,arguments)}function i_(n,e){return s_.apply(this,arguments)}function s_(){return s_=(0,Rt.Z)(function*(n,e){const t=On(n);try{const s=yield Cu(t.localStore,e);e.targetChanges.forEach((a,p)=>{const E=t.ra.get(p);E&&(Ur(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?E.Zu=!0:a.modifiedDocuments.size>0?Ur(E.Zu):a.removedDocuments.size>0&&(Ur(E.Zu),E.Zu=!1))}),yield Du(t,s,e)}catch(s){yield xd(s)}}),s_.apply(this,arguments)}function P0(n,e,t){const s=On(n);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.ea.forEach((p,E)=>{const x=E.view.Au(e);x.snapshot&&a.push(x.snapshot)}),function(p,E){const x=On(p);x.onlineState=E;let H=!1;x.queries.forEach((Q,be)=>{for(const ze of be.listeners)ze.Au(E)&&(H=!0)}),H&&hm(x)}(s.eventManager,e),a.length&&s.ta.Qo(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Ff(n,e,t){return o_.apply(this,arguments)}function o_(){return o_=(0,Rt.Z)(function*(n,e,t){const s=On(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.ra.get(e),p=a&&a.key;if(p){let E=new Is(Rn.comparator);E=E.insert(p,as.newNoDocument(p,L.min()));const x=Xi().add(p),H=new Sg(L.min(),new Map,new Ms(c),E,x);yield i_(s,H),s.ia=s.ia.remove(p),s.ra.delete(e),f_(s)}else yield xf(s.localStore,e,!1).then(()=>Sh(s,e,t)).catch(xd)}),o_.apply(this,arguments)}function O0(n,e){return a_.apply(this,arguments)}function a_(){return a_=(0,Rt.Z)(function*(n,e){const t=On(n),s=e.batch.batchId;try{const a=yield mb(t.localStore,e);c_(t,s,null),Np(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Du(t,a)}catch(a){yield xd(a)}}),a_.apply(this,arguments)}function k0(n,e,t){return l_.apply(this,arguments)}function l_(){return l_=(0,Rt.Z)(function*(n,e,t){const s=On(n);try{const a=yield function(p,E){const x=On(p);return x.persistence.runTransaction("Reject batch","readwrite-primary",H=>{let Q;return x.Bs.lookupMutationBatch(H,E).next(be=>(Ur(null!==be),Q=be.keys(),x.Bs.removeMutationBatch(H,be))).next(()=>x.Bs.performConsistencyCheck(H)).next(()=>x.ci.Ks(H,Q))})}(s.localStore,e);c_(s,e,t),Np(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Du(s,a)}catch(a){yield xd(a)}}),l_.apply(this,arguments)}function u_(){return u_=(0,Rt.Z)(function*(n,e){const t=On(n);Pd(t.remoteStore)||mn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(p){const E=On(p);return E.persistence.runTransaction("Get highest unacknowledged batch id","readonly",x=>E.Bs.getHighestUnacknowledgedBatchId(x))}(t.localStore);if(-1===s)return void e.resolve();const a=t.aa.get(s)||[];a.push(e),t.aa.set(s,a)}catch(s){const a=Bc(s,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),u_.apply(this,arguments)}function Np(n,e){(n.aa.get(e)||[]).forEach(t=>{t.resolve()}),n.aa.delete(e)}function c_(n,e,t){const s=On(n);let a=s.ua[s.currentUser.toKey()];if(a){const p=a.get(e);p&&(t?p.reject(t):p.resolve(),a=a.remove(e)),s.ua[s.currentUser.toKey()]=a}}function Sh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.na.get(e))n.ea.delete(s),t&&n.ta.fa(s,t);n.na.delete(e),n.isPrimaryClient&&n.oa.Pi(e).forEach(s=>{n.oa.containsKey(s)||d_(n,s)})}function d_(n,e){n.sa.delete(e.path.canonicalString());const t=n.ia.get(e);null!==t&&(Pf(n.remoteStore,t),n.ia=n.ia.remove(e),n.ra.delete(t),f_(n))}function h_(n,e,t){for(const s of t)s instanceof xb?(n.oa.addReference(s.key,e),Fb(n,s)):s instanceof Mb?(mn("SyncEngine","Document no longer in limbo: "+s.key),n.oa.removeReference(s.key,e),n.oa.containsKey(s.key)||d_(n,s.key)):Xn()}function Fb(n,e){const t=e.key,s=t.path.canonicalString();n.ia.get(t)||n.sa.has(s)||(mn("SyncEngine","New document in limbo: "+t),n.sa.add(s),f_(n))}function f_(n){for(;n.sa.size>0&&n.ia.size<n.maxConcurrentLimboResolutions;){const e=n.sa.values().next().value;n.sa.delete(e);const t=new Rn(gt.fromString(e)),s=n.ca.next();n.ra.set(s,new fm(t)),n.ia=n.ia.insert(t,s),Rp(n.remoteStore,new Oc(Nl(cf(t.path)),s,2,Zo.A))}}function Du(n,e,t){return p_.apply(this,arguments)}function p_(){return p_=(0,Rt.Z)(function*(n,e,t){const s=On(n),a=[],p=[],E=[];var x;s.ea.isEmpty()||(s.ea.forEach((x,H)=>{E.push(s.la(H,e,t).then(Q=>{if(Q){s.isPrimaryClient&&s.sharedClientState.updateQueryState(H.targetId,Q.fromCache?"not-current":"current"),a.push(Q);const be=Wg.Ys(H.targetId,Q);p.push(be)}}))}),yield Promise.all(E),s.ta.Qo(a),yield(x=(0,Rt.Z)(function*(H,Q){const be=On(H);try{yield be.persistence.runTransaction("notifyLocalViewChanges","readwrite",ze=>$t.forEach(Q,vt=>$t.forEach(vt.Hs,jt=>be.persistence.referenceDelegate.addReference(ze,vt.targetId,jt)).next(()=>$t.forEach(vt.Js,jt=>be.persistence.referenceDelegate.removeReference(ze,vt.targetId,jt)))))}catch(ze){if(!ph(ze))throw ze;mn("LocalStore","Failed to update sequence numbers: "+ze)}for(const ze of Q){const vt=ze.targetId;if(!ze.fromCache){const jt=be.ii.get(vt),Dn=jt.withLastLimboFreeSnapshotVersion(jt.snapshotVersion);be.ii=be.ii.insert(vt,Dn)}}}),function(H,Q){return x.apply(this,arguments)})(s.localStore,p))}),p_.apply(this,arguments)}function F0(n,e){return g_.apply(this,arguments)}function g_(){return g_=(0,Rt.Z)(function*(n,e){const t=On(n);if(!t.currentUser.isEqual(e)){mn("SyncEngine","User change. New user:",e.toKey());const s=yield wu(t.localStore,e);t.currentUser=e,(a=t).aa.forEach(E=>{E.forEach(x=>{x.reject(new an(Bt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.aa.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Du(t,s.hi)}var a}),g_.apply(this,arguments)}function Lb(n,e){const t=On(n),s=t.ra.get(e);if(s&&s.Zu)return Xi().add(s.key);{let a=Xi();const p=t.na.get(e);if(!p)return a;for(const E of p){const x=t.ea.get(E);a=a.unionWith(x.view.Ku)}return a}}function Bb(n,e){return m_.apply(this,arguments)}function m_(){return m_=(0,Rt.Z)(function*(n,e){const t=On(n),s=yield Yg(t.localStore,e.query,!0),a=e.view.Yu(s);return t.isPrimaryClient&&h_(t,e.targetId,a.Hu),a}),m_.apply(this,arguments)}function Vb(n,e){return y_.apply(this,arguments)}function y_(){return y_=(0,Rt.Z)(function*(n,e){const t=On(n);return Kg(t.localStore,e).then(s=>Du(t,s))}),y_.apply(this,arguments)}function Ub(n,e,t,s){return __.apply(this,arguments)}function __(){return __=(0,Rt.Z)(function*(n,e,t,s){const a=On(n),p=yield function(E,x){const H=On(E),Q=On(H.Bs);return H.persistence.runTransaction("Lookup mutation documents","readonly",be=>Q.fn(be,x).next(ze=>ze?H.ci.Ks(be,ze):$t.resolve(null)))}(a.localStore,e);var x;null!==p?("pending"===t?yield Of(a.remoteStore):"acknowledged"===t||"rejected"===t?(c_(a,e,s||null),Np(a,e),x=e,On(On(a.localStore).Bs)._n(x)):Xn(),yield Du(a,p)):mn("SyncEngine","Cannot apply mutation batch with id: "+e)}),__.apply(this,arguments)}function gm(){return gm=(0,Rt.Z)(function*(n,e){const t=On(n);if(mm(t),Lp(t),!0===e&&!0!==t.ha){const s=t.sharedClientState.getAllActiveQueryTargets(),a=yield B0(t,s.toArray());t.ha=!0,yield Yy(t.remoteStore,!0);for(const p of a)Rp(t.remoteStore,p)}else if(!1===e&&!1!==t.ha){const s=[];let a=Promise.resolve();t.na.forEach((p,E)=>{t.sharedClientState.isLocalQueryTarget(E)?s.push(E):a=a.then(()=>(Sh(t,E),xf(t.localStore,E,!0))),Pf(t.remoteStore,E)}),yield a,yield B0(t,s),function(p){const E=On(p);E.ra.forEach((x,H)=>{Pf(E.remoteStore,H)}),E.oa.bi(),E.ra=new Map,E.ia=new Is(Rn.comparator)}(t),t.ha=!1,yield Yy(t.remoteStore,!1)}}),gm.apply(this,arguments)}function B0(n,e,t){return v_.apply(this,arguments)}function v_(){return v_=(0,Rt.Z)(function*(n,e,t){const s=On(n),a=[],p=[];for(const E of e){let x;const H=s.na.get(E);if(H&&0!==H.length){x=yield vh(s.localStore,Nl(H[0]));for(const Q of H){const be=s.ea.get(Q),ze=yield Bb(s,be);ze.snapshot&&p.push(ze.snapshot)}}else{const Q=yield l0(s.localStore,E);x=yield vh(s.localStore,Q),yield Th(s,E_(Q),E,!1)}a.push(x)}return s.ta.Qo(p),a}),v_.apply(this,arguments)}function E_(n){return uv(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function $b(n){const e=On(n);return On(On(e.localStore).persistence).Fs()}function jb(n,e,t,s){return b_.apply(this,arguments)}function b_(){return b_=(0,Rt.Z)(function*(n,e,t,s){const a=On(n);if(a.ha)return void mn("SyncEngine","Ignoring unexpected query state notification.");const p=a.na.get(e);if(p&&p.length>0)switch(t){case"current":case"not-current":{const E=yield Kg(a.localStore,Eg(p[0])),x=Sg.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Du(a,E,x);break}case"rejected":yield xf(a.localStore,e,!0),Sh(a,e,s);break;default:Xn()}}),b_.apply(this,arguments)}function w_(n,e,t){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,Rt.Z)(function*(n,e,t){const s=mm(n);if(s.ha){for(const a of e){if(s.na.has(a)){mn("SyncEngine","Adding an already active target "+a);continue}const p=yield l0(s.localStore,a),E=yield vh(s.localStore,p);yield Th(s,E_(p),E.targetId,!1),Rp(s.remoteStore,E)}for(const a of t)s.na.has(a)&&(yield xf(s.localStore,a,!1).then(()=>{Pf(s.remoteStore,a),Sh(s,a)}).catch(xd))}}),Fp.apply(this,arguments)}function mm(n){const e=On(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=i_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ff.bind(null,e),e.ta.Qo=S0.bind(null,e.eventManager),e.ta.fa=A0.bind(null,e.eventManager),e}function Lp(n){const e=On(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O0.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=k0.bind(null,e),e}class V0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Rt.Z)(function*(){t.M=Mp(e.databaseInfo.databaseId),t.sharedClientState=t._a(e),t.persistence=t.wa(e),yield t.persistence.start(),t.gcScheduler=t.ma(e),t.localStore=t.ga(e)})()}ma(e){return null}ga(e){return qg(this.persistence,new gb,e.initialUser,this.M)}wa(e){return new Fy(em.zi,this.M)}_a(e){return new f0}terminate(){var e=this;return(0,Rt.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ym extends V0{constructor(e,t,s){super(),this.ya=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,Rt.Z)(function*(){yield t().call(s,e),yield s.ya.initialize(s,e),yield Lp(s.ya.syncEngine),yield Of(s.ya.remoteStore),yield s.persistence.Ts(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(s.localStore),Promise.resolve()))})()}ga(e){return qg(this.persistence,new gb,e.initialUser,this.M)}ma(e){return new e0(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const t=zg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Sa.withCacheSize(this.cacheSizeBytes):Sa.DEFAULT;return new Rd(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,m0(),rm(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new f0}}class Gb extends ym{constructor(e,t){super(e,t,!1),this.ya=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,Rt.Z)(function*(){yield t().call(s,e);const a=s.ya.syncEngine;s.sharedClientState instanceof $y&&(s.sharedClientState.syncEngine={Mr:Ub.bind(null,a),Or:jb.bind(null,a),Fr:w_.bind(null,a),Fs:$b.bind(null,a),kr:Vb.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.Ts(function(){var p=(0,Rt.Z)(function*(E){yield function L0(n,e){return gm.apply(this,arguments)}(s.ya.syncEngine,E),s.gcScheduler&&(E&&!s.gcScheduler.started?s.gcScheduler.start(s.localStore):E||s.gcScheduler.stop())});return function(E){return p.apply(this,arguments)}}())})()}_a(e){const t=m0();if(!$y.vt(t))throw new an(Bt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=zg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new $y(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class _m{initialize(e,t){var s=this;return(0,Rt.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>P0(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=F0.bind(null,s.syncEngine),yield Yy(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new kp}createDatastore(e){const t=Mp(e.databaseInfo.databaseId),s=new bb(e.databaseInfo);return new _0(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,p=x=>P0(this.syncEngine,x,0),E=p0.vt()?new p0:new vb,new E0(t,s,a,p,E);var t,s,a,p,E}createSyncEngine(e,t){return function(s,a,p,E,x,H,Q){const be=new Pb(s,a,p,E,x,H);return Q&&(be.ha=!0),be}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Rt.Z)(function*(t){const s=On(t);mn("RemoteStore","RemoteStore shutting down."),s.fu.add(5),yield Eh(s),s._u.shutdown(),s.wu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function U0(n,e=10240){let t=0;return{read:()=>(0,Rt.Z)(function*(){if(t<n.byteLength){const s={value:n.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,Rt.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Bp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class zb{constructor(e,t){this.Ta=e,this.M=t,this.metadata=new ir,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(s=>{s&&s.xu()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,Rt.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,Rt.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,Rt.Z)(function*(){const t=yield e.Ra();if(null===t)return null;const s=e.Ea.decode(t),a=Number(s);isNaN(a)&&e.Pa(`length string (${s}) is not valid number`);const p=yield e.ba(a);return new x0(JSON.parse(p),t.length+a)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,Rt.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const t=e.Va();t<0&&e.Pa("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}ba(e){var t=this;return(0,Rt.Z)(function*(){for(;t.buffer.length<e;)(yield t.va())&&t.Pa("Reached the end of bundle when more is expected.");const s=t.Ea.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,Rt.Z)(function*(){const t=yield e.Ta.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class $0{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Rt.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new an(Bt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,Rt.Z)(function*(p,E){const x=On(p),H=lh(x.M)+"/documents",Q={documents:E.map(jt=>Rg(x.M,jt))},be=yield x.ho("BatchGetDocuments",H,Q),ze=new Map;be.forEach(jt=>{const zt=function rb(n,e){return"found"in e?function(t,s){Ur(!!s.found);const a=vu(t,s.found.name),p=Do(s.found.updateTime),E=new Lo({mapValue:{fields:s.found.fields}});return as.newFoundDocument(a,p,E)}(n,e):"missing"in e?function(t,s){Ur(!!s.missing),Ur(!!s.readTime);const a=vu(t,s.missing),p=Do(s.readTime);return as.newNoDocument(a,p)}(n,e):Xn()}(x.M,jt);ze.set(zt.key.toString(),zt)});const vt=[];return E.forEach(jt=>{const zt=ze.get(jt.toString());Ur(!!zt),vt.push(zt)}),vt}),function(p,E){return a.apply(this,arguments)})(t.datastore,e);var a;return s.forEach(a=>t.recordVersion(a)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new ah(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Rt.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,a)=>{const p=Rn.fromPath(a);e.mutations.push(new oy(p,e.precondition(p)))}),yield(s=(0,Rt.Z)(function*(a,p){const E=On(a),x=lh(E.M)+"/documents",H={writes:p.map(Q=>_p(E.M,Q))};yield E.oo("Commit",x,H)}),function(a,p){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Xn();t=L.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new an(Bt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?go.updateTime(t):go.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(L.min()))throw new an(Bt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return go.updateTime(t)}return go.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class sI{constructor(e,t,s,a){this.asyncQueue=e,this.datastore=t,this.updateFunction=s,this.deferred=a,this.Sa=5,this.Do=new jy(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,Rt.Z)(function*(){const t=new $0(e.datastore),s=e.Ca(t);s&&s.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(p=>{e.xa(p)}))}).catch(a=>{e.xa(a)})}))}Ca(e){try{const t=this.updateFunction(e);return!rf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!ay(t)}return!1}}class Wb{constructor(e,t,s,a){var p=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=Co.UNAUTHENTICATED,this.clientId=d.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var E=(0,Rt.Z)(function*(x){mn("FirestoreClient","Received user=",x.uid),yield p.authCredentialListener(x),p.user=x});return function(x){return E.apply(this,arguments)}}()),this.appCheckCredentials.start(s,E=>(mn("FirestoreClient","Received new app check token=",E),this.appCheckCredentialListener(E,this.user)))}getConfiguration(){var e=this;return(0,Rt.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new an(Bt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Rt.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=Bc(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function Vp(n,e){return I_.apply(this,arguments)}function I_(){return I_=(0,Rt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),mn("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,Rt.Z)(function*(p){s.isEqual(p)||(yield wu(e.localStore,p),s=p)});return function(p){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),I_.apply(this,arguments)}function Ah(n,e){return xh.apply(this,arguments)}function xh(){return xh=(0,Rt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield C_(n);mn("FirestoreClient","Initializing OnlineComponentProvider");const s=yield n.getConfiguration();yield e.initialize(t,s),n.setCredentialChangeListener(a=>T0(e.remoteStore,a)),n.setAppCheckTokenChangeListener((a,p)=>T0(e.remoteStore,p)),n.onlineComponents=e}),xh.apply(this,arguments)}function C_(n){return j0.apply(this,arguments)}function j0(){return j0=(0,Rt.Z)(function*(n){return n.offlineComponents||(mn("FirestoreClient","Using default OfflineComponentProvider"),yield Vp(n,new V0)),n.offlineComponents}),j0.apply(this,arguments)}function Up(n){return D_.apply(this,arguments)}function D_(){return D_=(0,Rt.Z)(function*(n){return n.onlineComponents||(mn("FirestoreClient","Using default OnlineComponentProvider"),yield Ah(n,new _m)),n.onlineComponents}),D_.apply(this,arguments)}function H0(n){return C_(n).then(e=>e.persistence)}function T_(n){return C_(n).then(e=>e.localStore)}function G0(n){return Up(n).then(e=>e.remoteStore)}function vm(n){return Up(n).then(e=>e.syncEngine)}function Mh(n){return $p.apply(this,arguments)}function $p(){return $p=(0,Rt.Z)(function*(n){const e=yield Up(n),t=e.eventManager;return t.onListen=Ob.bind(null,e.syncEngine),t.onUnlisten=kb.bind(null,e.syncEngine),t}),$p.apply(this,arguments)}function S_(n,e,t={}){const s=new ir;return n.asyncQueue.enqueueAndForget((0,Rt.Z)(function*(){return function(a,p,E,x,H){const Q=new Bp({next:ze=>{p.enqueueAndForget(()=>Qy(a,be));const vt=ze.docs.has(E);!vt&&ze.fromCache?H.reject(new an(Bt.UNAVAILABLE,"Failed to get document because the client is offline.")):vt&&ze.fromCache&&x&&"server"===x.source?H.reject(new an(Bt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):H.resolve(ze)},error:ze=>H.reject(ze)}),be=new e_(cf(E.path),Q,{includeMetadataChanges:!0,Cu:!0});return Dh(a,be)}(yield Mh(n),n.asyncQueue,e,t,s)})),s.promise}function W0(n,e,t={}){const s=new ir;return n.asyncQueue.enqueueAndForget((0,Rt.Z)(function*(){return function(a,p,E,x,H){const Q=new Bp({next:ze=>{p.enqueueAndForget(()=>Qy(a,be)),ze.fromCache&&"server"===x.source?H.reject(new an(Bt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):H.resolve(ze)},error:ze=>H.reject(ze)}),be=new e_(E,Q,{includeMetadataChanges:!0,Cu:!0});return Dh(a,be)}(yield Mh(n),n.asyncQueue,e,t,s)})),s.promise}const q0=new Map;function x_(n,e,t){if(!t)throw new an(Bt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Rh(n,e,t,s){if(!0===e&&!0===s)throw new an(Bt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function M_(n){if(!Rn.isDocumentKey(n))throw new an(Bt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ph(n){if(Rn.isDocumentKey(n))throw new an(Bt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function R_(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Xn()}function wi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new an(Bt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=R_(n);throw new an(Bt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Y0(n,e){if(e<=0)throw new an(Bt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Zb{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new an(Bt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new an(Bt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Rh("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lf{constructor(e,t,s){this._authCredentials=t,this._appCheckCredentials=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zb({}),this._settingsFrozen=!1,e instanceof yd?this._databaseId=e:(this._app=e,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new an(Bt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yd(a.options.projectId)}(e))}get app(){if(!this._app)throw new an(Bt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new an(Bt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zb(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new op;switch(t.type){case"gapi":const s=t.client;return Ur(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new hg(s,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new an(Bt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=q0.get(e);t&&(mn("ComponentProvider","Removing Datastore"),q0.delete(e),t.terminate())}(this),Promise.resolve()}}class Cs{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cs(this.firestore,e,this._key)}}class Bo{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Bo(this.firestore,e,this._query)}}class Qu extends Bo{constructor(e,t,s){super(e,t,cf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cs(this.firestore,null,new Rn(e))}withConverter(e){return new Qu(this.firestore,e,this._path)}}function P_(n,e,...t){if(n=(0,Mn.m9)(n),x_("collection","path",e),n instanceof Lf){const s=gt.fromString(e,...t);return Ph(s),new Qu(n,null,s)}{if(!(n instanceof Cs||n instanceof Qu))throw new an(Bt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(gt.fromString(e,...t));return Ph(s),new Qu(n.firestore,null,s)}}function bm(n,e,...t){if(n=(0,Mn.m9)(n),1===arguments.length&&(e=d.R()),x_("doc","path",e),n instanceof Lf){const s=gt.fromString(e,...t);return M_(s),new Cs(n,null,new Rn(s))}{if(!(n instanceof Cs||n instanceof Qu))throw new an(Bt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(gt.fromString(e,...t));return M_(s),new Cs(n.firestore,n instanceof Qu?n.converter:null,new Rn(s))}}function Z0(n,e){return n=(0,Mn.m9)(n),e=(0,Mn.m9)(e),(n instanceof Cs||n instanceof Qu)&&(e instanceof Cs||e instanceof Qu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function X0(n,e){return n=(0,Mn.m9)(n),e=(0,Mn.m9)(e),n instanceof Bo&&e instanceof Bo&&n.firestore===e.firestore&&hf(n._query,e._query)&&n.converter===e.converter}class Xb{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new jy(this,"async_queue_retry"),this.qa=()=>{const t=rm();t&&mn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Do.Ao()};const e=rm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=rm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const t=new ir;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,Rt.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(t){if(!ph(t))throw t;mn("AsyncQueue","Operation failed with retryable error: "+t)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const t=this.ka.then(()=>(this.Ba=!0,e().catch(s=>{throw this.$a=s,this.Ba=!1,ms("INTERNAL UNHANDLED ERROR: ",function(p){let E=p.message||"";return p.stack&&(E=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),E}(s)),s}).then(s=>(this.Ba=!1,s))));return this.ka=t,t}enqueueAfterDelay(e,t,s){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const a=Ky.createAndSchedule(this,e,t,s,p=>this.ja(p));return this.Fa.push(a),a}Ka(){this.$a&&Xn()}verifyOperationInProgress(){}Wa(){var e=this;return(0,Rt.Z)(function*(){let t;do{t=e.ka,yield t}while(t!==e.ka)})()}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}function O_(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(n)}class Qb{constructor(){this._progressObserver={},this._taskCompletionResolver=new ir,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class fs extends Lf{constructor(e,t,s){super(e,t,s),this.type="firestore",this._queue=new Xb,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||k_(this),this._firestoreClient.terminate()}}function uo(n){return n._firestoreClient||k_(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function k_(n){var e;const t=n._freezeSettings(),s=(p=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new qw(n._databaseId,p,n._persistenceKey,(x=t).host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,x.useFetchStreams));var p,x;n._firestoreClient=new Wb(n._authCredentials,n._appCheckCredentials,n._queue,s)}function eE(n,e,t){const s=new ir;return n.asyncQueue.enqueue((0,Rt.Z)(function*(){try{yield Vp(n,t),yield Ah(n,e),s.resolve()}catch(a){if(!("FirebaseError"===(p=a).name?p.code===Bt.FAILED_PRECONDITION||p.code===Bt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&p instanceof DOMException)||22===p.code||20===p.code||11===p.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),s.reject(a)}var p})).then(()=>s.promise)}function wm(n){if(n._initialized||n._terminated)throw new an(Bt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Vo{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new an(Bt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Vl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vl(yi.fromBase64String(e))}catch(t){throw new an(Bt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Vl(yi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Tu{constructor(e){this._methodName=e}}class Im{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new an(Bt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new an(Bt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return c(this._lat,e._lat)||c(this._long,e._long)}}const sw=/^__.*__$/;class ow{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new Id(e,this.data,this.fieldMask,t,this.fieldTransforms):new oh(e,this.data,t,this.fieldTransforms)}}class Gp{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Id(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function zp(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xn()}}class Cm{constructor(e,t,s,a,p,E){this.settings=e,this.databaseId=t,this.M=s,this.ignoreUndefinedProperties=a,void 0===p&&this.Ya(),this.fieldTransforms=p||[],this.fieldMask=E||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new Cm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Za({path:s,ec:!1});return a.nc(e),a}sc(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Za({path:s,ec:!1});return a.Ya(),a}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return Yp(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(zp(this.Xa)&&sw.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class aw{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=s||Mp(e)}ac(e,t,s,a=!1){return new Cm({Xa:e,methodName:t,uc:s,path:wn.emptyPath(),ec:!1,oc:a},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function kd(n){const e=n._freezeSettings(),t=Mp(n._databaseId);return new aw(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Wp(n,e,t,s,a,p={}){const E=n.ac(p.merge||p.mergeFields?2:0,e,t,a);B_("Data must be an object, but it was:",E,s);const x=rE(s,E);let H,Q;if(p.merge)H=new ar(E.fieldMask),Q=E.fieldTransforms;else if(p.mergeFields){const be=[];for(const ze of p.mergeFields){const vt=V_(e,ze,t);if(!E.contains(vt))throw new an(Bt.INVALID_ARGUMENT,`Field '${vt}' is specified in your field mask but missing from your input data.`);U_(be,vt)||be.push(vt)}H=new ar(be),Q=E.fieldTransforms.filter(ze=>H.covers(ze.field))}else H=null,Q=E.fieldTransforms;return new ow(new Lo(x),H,Q)}class Oh extends Tu{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Oh}}function N_(n,e,t){return new Cm({Xa:3,uc:e.settings.uc,methodName:n._methodName,ec:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class F_ extends Tu{_toFieldTransform(e){return new gf(e.path,new pf)}isEqual(e){return e instanceof F_}}class lw extends Tu{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=N_(this,e,!0),s=this.cc.map(p=>Vc(p,t)),a=new Mc(s);return new gf(e.path,a)}isEqual(e){return this===e}}class cI extends Tu{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=N_(this,e,!0),s=this.cc.map(p=>Vc(p,t)),a=new ih(s);return new gf(e.path,a)}isEqual(e){return this===e}}class L_ extends Tu{constructor(e,t){super(e),this.hc=t}_toFieldTransform(e){const t=new sh(e.M,hv(e.M,this.hc));return new gf(e.path,t)}isEqual(e){return this===e}}function qp(n,e,t,s){const a=n.ac(1,e,t);B_("Data must be an object, but it was:",a,s);const p=[],E=Lo.empty();we(s,(H,Q)=>{const be=Bf(e,H,t);Q=(0,Mn.m9)(Q);const ze=a.sc(be);if(Q instanceof Oh)p.push(be);else{const vt=Vc(Q,ze);null!=vt&&(p.push(be),E.set(be,vt))}});const x=new ar(p);return new Gp(E,x,a.fieldTransforms)}function Dm(n,e,t,s,a,p){const E=n.ac(1,e,t),x=[V_(e,s,t)],H=[a];if(p.length%2!=0)throw new an(Bt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let vt=0;vt<p.length;vt+=2)x.push(V_(e,p[vt])),H.push(p[vt+1]);const Q=[],be=Lo.empty();for(let vt=x.length-1;vt>=0;--vt)if(!U_(Q,x[vt])){const jt=x[vt];let zt=H[vt];zt=(0,Mn.m9)(zt);const Dn=E.sc(jt);if(zt instanceof Oh)Q.push(jt);else{const Zn=Vc(zt,Dn);null!=Zn&&(Q.push(jt),be.set(jt,Zn))}}const ze=new ar(Q);return new Gp(be,ze,E.fieldTransforms)}function Tm(n,e,t,s=!1){return Vc(t,n.ac(s?4:3,e))}function Vc(n,e){if(iE(n=(0,Mn.m9)(n)))return B_("Unsupported field value:",e,n),rE(n,e);if(n instanceof Tu)return function(t,s){if(!zp(s.Xa))throw s.rc(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.rc(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(t,s){const a=[];let p=0;for(const E of t){let x=Vc(E,s.ic(p));null==x&&(x={nullValue:"NULL_VALUE"}),a.push(x),p++}return{arrayValue:{values:a}}}(n,e)}return function(t,s){if(null===(t=(0,Mn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return hv(s.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=M.fromDate(t);return{timestampValue:xg(s.M,a)}}if(t instanceof M){const a=new M(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:xg(s.M,a)}}if(t instanceof Im)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Vl)return{bytesValue:nb(s.M,t._byteString)};if(t instanceof Cs){const a=s.databaseId,p=t.firestore._databaseId;if(!p.isEqual(a))throw s.rc(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Mg(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.rc(`Unsupported field value: ${R_(t)}`)}(n,e)}function rE(n,e){const t={};return Ge(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):we(n,(s,a)=>{const p=Vc(a,e.tc(s));null!=p&&(t[s]=p)}),{mapValue:{fields:t}}}function iE(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof M||n instanceof Im||n instanceof Vl||n instanceof Cs||n instanceof Tu)}function B_(n,e,t){if(!iE(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=R_(t);throw e.rc("an object"===s?n+" a custom object":n+" "+s)}var s}function V_(n,e,t){if((e=(0,Mn.m9)(e))instanceof Vo)return e._internalPath;if("string"==typeof e)return Bf(n,e);throw Yp("Field path arguments must be of type string or ",n,!1,void 0,t)}const sE=new RegExp("[~\\*/\\[\\]]");function Bf(n,e,t){if(e.search(sE)>=0)throw Yp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Vo(...e.split("."))._internalPath}catch(s){throw Yp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Yp(n,e,t,s,a){const p=s&&!s.isEmpty(),E=void 0!==a;let x=`Function ${e}() called with invalid data`;t&&(x+=" (via `toFirestore()`)"),x+=". ";let H="";return(p||E)&&(H+=" (found",p&&(H+=` in field ${s}`),E&&(H+=` in document ${a}`),H+=")"),new an(Bt.INVALID_ARGUMENT,x+n+H)}function U_(n,e){return n.some(t=>t.isEqual(e))}class Vf{constructor(e,t,s,a,p){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new Cs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new oE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Sm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class oE extends Vf{data(){return super.data()}}function Sm(n,e){return"string"==typeof e?Bf(n,e):e instanceof Vo?e._internalPath:e._delegate._internalPath}class Nd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ju extends Vf{constructor(e,t,s,a,p,E){super(e,t,s,a,E),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Kp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Sm("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Kp extends Ju{data(e={}){return super.data(e)}}class Uc{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Nd(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Kp(this._firestore,this._userDataWriter,s.key,s,new Nd(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new an(Bt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let p=0;return s._snapshot.docChanges.map(E=>({type:"added",doc:new Kp(s._firestore,s._userDataWriter,E.doc.key,E.doc,new Nd(s._snapshot.mutatedKeys.has(E.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:p++}))}{let p=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(E=>a||3!==E.type).map(E=>{const x=new Kp(s._firestore,s._userDataWriter,E.doc.key,E.doc,new Nd(s._snapshot.mutatedKeys.has(E.doc.key),s._snapshot.fromCache),s.query.converter);let H=-1,Q=-1;return 0!==E.type&&(H=p.indexOf(E.doc.key),p=p.delete(E.doc.key)),1!==E.type&&(p=p.add(E.doc),Q=p.indexOf(E.doc.key)),{type:aE(E.type),doc:x,oldIndex:H,newIndex:Q}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function aE(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xn()}}function pa(n,e){return n instanceof Ju&&e instanceof Ju?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Uc&&e instanceof Uc&&n._firestore===e._firestore&&X0(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function kh(n){if(fp(n)&&0===n.explicitOrderBy.length)throw new an(Bt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zp{}function Fd(n,...e){for(const t of e)n=t._apply(n);return n}class dI extends Zp{constructor(e,t,s){super(),this.lc=e,this.fc=t,this.dc=s,this.type="where"}_apply(e){const t=kd(e.firestore),s=function(a,p,E,x,H,Q,be){let ze;if(H.isKeyField()){if("array-contains"===Q||"array-contains-any"===Q)throw new an(Bt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Q}' queries on documentId().`);if("in"===Q||"not-in"===Q){hE(be,Q);const jt=[];for(const zt of be)jt.push(z_(x,a,zt));ze={arrayValue:{values:jt}}}else ze=z_(x,a,be)}else"in"!==Q&&"not-in"!==Q&&"array-contains-any"!==Q||hE(be,Q),ze=Tm(E,"where",be,"in"===Q||"not-in"===Q);const vt=Jo.create(H,Q,ze);return function(jt,zt){if(zt.S()){const Zn=kl(jt);if(null!==Zn&&!Zn.isEqual(zt.field))throw new an(Bt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Zn.toString()}' and '${zt.field.toString()}'`);const Ai=Ym(jt);null!==Ai&&W_(0,zt.field,Ai)}const Dn=function(Zn,Ai){for(const Qi of Zn.filters)if(Ai.indexOf(Qi.op)>=0)return Qi.op;return null}(jt,function(Zn){switch(Zn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(zt.op));if(null!==Dn)throw new an(Bt.INVALID_ARGUMENT,Dn===zt.op?`Invalid query. You cannot use more than one '${zt.op.toString()}' filter.`:`Invalid query. You cannot use '${zt.op.toString()}' filters with '${Dn.toString()}' filters.`)}(a,vt),vt}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new Bo(e.firestore,e.converter,function(a,p){const E=a.filters.concat([p]);return new Ku(a.path,a.collectionGroup,a.explicitOrderBy.slice(),E,a.limit,a.limitType,a.startAt,a.endAt)}(e._query,s))}}class uw extends Zp{constructor(e,t){super(),this.lc=e,this._c=t,this.type="orderBy"}_apply(e){const t=function(s,a,p){if(null!==s.startAt)throw new an(Bt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new an(Bt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const E=new uf(a,p);return function(x,H){if(null===Ym(x)){const Q=kl(x);null!==Q&&W_(0,Q,H.field)}}(s,E),E}(e._query,this.lc,this._c);return new Bo(e.firestore,e.converter,function(s,a){const p=s.explicitOrderBy.concat([a]);return new Ku(s.path,s.collectionGroup,p,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class lE extends Zp{constructor(e,t,s){super(),this.type=e,this.wc=t,this.mc=s}_apply(e){return new Bo(e.firestore,e.converter,qE(e._query,this.wc,this.mc))}}class cE extends Zp{constructor(e,t,s){super(),this.type=e,this.gc=t,this.yc=s}_apply(e){const t=dw(e,this.type,this.gc,this.yc);return new Bo(e.firestore,e.converter,(a=t,new Ku((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}class H_ extends Zp{constructor(e,t,s){super(),this.type=e,this.gc=t,this.yc=s}_apply(e){const t=dw(e,this.type,this.gc,this.yc);return new Bo(e.firestore,e.converter,(a=t,new Ku((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function dw(n,e,t,s){if(t[0]=(0,Mn.m9)(t[0]),t[0]instanceof Vf)return function(a,p,E,x,H){if(!x)throw new an(Bt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${E}().`);const Q=[];for(const be of df(a))if(be.field.isKeyField())Q.push(Ac(p,x.key));else{const ze=x.data.field(be.field);if(Vm(ze))throw new an(Bt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+be.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ze){const vt=be.field.canonicalString();throw new an(Bt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${vt}' (used as the orderBy) does not exist.`)}Q.push(ze)}return new wd(Q,H)}(n._query,n.firestore._databaseId,e,t[0]._document,s);{const a=kd(n.firestore);return function(p,E,x,H,Q,be){const ze=p.explicitOrderBy;if(Q.length>ze.length)throw new an(Bt.INVALID_ARGUMENT,`Too many arguments provided to ${H}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const vt=[];for(let jt=0;jt<Q.length;jt++){const zt=Q[jt];if(ze[jt].field.isKeyField()){if("string"!=typeof zt)throw new an(Bt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${H}(), but got a ${typeof zt}`);if(!pp(p)&&-1!==zt.indexOf("/"))throw new an(Bt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${H}() must be a plain document ID, but '${zt}' contains a slash.`);const Dn=p.path.child(gt.fromString(zt));if(!Rn.isDocumentKey(Dn))throw new an(Bt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${H}() must result in a valid document path, but '${Dn}' is not because it contains an odd number of segments.`);const Zn=new Rn(Dn);vt.push(Ac(E,Zn))}else{const Dn=Tm(x,H,zt);vt.push(Dn)}}return new wd(vt,be)}(n._query,n.firestore._databaseId,a,e,t,s)}}function z_(n,e,t){if("string"==typeof(t=(0,Mn.m9)(t))){if(""===t)throw new an(Bt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pp(e)&&-1!==t.indexOf("/"))throw new an(Bt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(gt.fromString(t));if(!Rn.isDocumentKey(s))throw new an(Bt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Ac(n,new Rn(s))}if(t instanceof Cs)return Ac(n,t._key);throw new an(Bt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${R_(t)}.`)}function hE(n,e){if(!Array.isArray(n)||0===n.length)throw new an(Bt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new an(Bt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function W_(n,e,t){if(!t.isEqual(e))throw new an(Bt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Uf{convertValue(e,t="none"){switch(sf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Yu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Xn()}}convertObject(e,t){const s={};return we(e.fields,(a,p)=>{s[a]=this.convertValue(p,t)}),s}convertGeoPoint(e){return new Im(Zi(e.latitude),Zi(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=pg(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(gg(e));default:return null}}convertTimestamp(e){const t=Xo(e);return new M(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=gt.fromString(e);Ur(uh(s));const a=new yd(s.get(1),s.get(3)),p=new Rn(s.popFirst(5));return a.isEqual(t)||ms(`Document ${p} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),p}}function Qp(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class hw extends Uf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cs(this.firestore,null,t)}}class xm{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=kd(e)}set(e,t,s){this._verifyNotCommitted();const a=ec(e,this._firestore),p=Qp(a.converter,t,s),E=Wp(this._dataReader,"WriteBatch.set",a._key,p,null!==a.converter,s);return this._mutations.push(E.toMutation(a._key,go.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const p=ec(e,this._firestore);let E;return E="string"==typeof(t=(0,Mn.m9)(t))||t instanceof Vo?Dm(this._dataReader,"WriteBatch.update",p._key,t,s,a):qp(this._dataReader,"WriteBatch.update",p._key,t),this._mutations.push(E.toMutation(p._key,go.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ec(e,this._firestore);return this._mutations=this._mutations.concat(new ah(t._key,go.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new an(Bt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ec(n,e){if((n=(0,Mn.m9)(n)).firestore!==e)throw new an(Bt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Nh extends Uf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cs(this.firestore,null,t)}}function q_(n,e,t){n=wi(n,Cs);const s=wi(n.firestore,fs),a=Qp(n.converter,e,t);return Fh(s,[Wp(kd(s),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,go.none())])}function mE(n,e,t,...s){n=wi(n,Cs);const a=wi(n.firestore,fs),p=kd(a);let E;return E="string"==typeof(e=(0,Mn.m9)(e))||e instanceof Vo?Dm(p,"updateDoc",n._key,e,t,s):qp(p,"updateDoc",n._key,e),Fh(a,[E.toMutation(n._key,go.exists(!0))])}function _E(n,...e){var t,s,a;n=(0,Mn.m9)(n);let p={includeMetadataChanges:!1},E=0;"object"!=typeof e[E]||O_(e[E])||(p=e[E],E++);const x={includeMetadataChanges:p.includeMetadataChanges};if(O_(e[E])){const ze=e[E];e[E]=null===(t=ze.next)||void 0===t?void 0:t.bind(ze),e[E+1]=null===(s=ze.error)||void 0===s?void 0:s.bind(ze),e[E+2]=null===(a=ze.complete)||void 0===a?void 0:a.bind(ze)}let H,Q,be;if(n instanceof Cs)Q=wi(n.firestore,fs),be=cf(n._key.path),H={next:ze=>{e[E]&&e[E](Mm(Q,n,ze))},error:e[E+1],complete:e[E+2]};else{const ze=wi(n,Bo);Q=wi(ze.firestore,fs),be=ze._query;const vt=new Nh(Q);H={next:jt=>{e[E]&&e[E](new Uc(Q,vt,ze,jt))},error:e[E+1],complete:e[E+2]},kh(n._query)}return function(ze,vt,jt,zt){const Dn=new Bp(zt),Zn=new e_(vt,Dn,jt);return ze.asyncQueue.enqueueAndForget((0,Rt.Z)(function*(){return Dh(yield Mh(ze),Zn)})),()=>{Dn.Ia(),ze.asyncQueue.enqueueAndForget((0,Rt.Z)(function*(){return Qy(yield Mh(ze),Zn)}))}}(uo(Q),be,x,H)}function Fh(n,e){return function(t,s){const a=new ir;return t.asyncQueue.enqueueAndForget((0,Rt.Z)(function*(){return function Nb(n,e,t){return r_.apply(this,arguments)}(yield vm(t),s,a)})),a.promise}(uo(n),e)}function Mm(n,e,t){const s=t.docs.get(e._key),a=new Nh(n);return new Ju(n,a,e._key,s,new Nd(t.hasPendingWrites,t.fromCache),e.converter)}class EE extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=kd(e)}get(e){const t=ec(e,this._firestore),s=new hw(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return Xn();const p=a[0];if(p.isFoundDocument())return new Vf(this._firestore,s,p.key,p,t.converter);if(p.isNoDocument())return new Vf(this._firestore,s,t._key,null,t.converter);throw Xn()})}set(e,t,s){const a=ec(e,this._firestore),p=Qp(a.converter,t,s),E=Wp(this._dataReader,"Transaction.set",a._key,p,null!==a.converter,s);return this._transaction.set(a._key,E),this}update(e,t,s,...a){const p=ec(e,this._firestore);let E;return E="string"==typeof(t=(0,Mn.m9)(t))||t instanceof Vo?Dm(this._dataReader,"Transaction.update",p._key,t,s,a):qp(this._dataReader,"Transaction.update",p._key,t),this._transaction.update(p._key,E),this}delete(e){const t=ec(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ec(e,this._firestore),s=new Nh(this._firestore);return super.get(e).then(a=>new Ju(this._firestore,s,t._key,a._document,new Nd(!1,!1),t.converter))}}function wE(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new an("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Jp(){if("undefined"==typeof Uint8Array)throw new an("unimplemented","Uint8Arrays are not available in this environment.")}function vw(){if(!function Oi(){return"undefined"!=typeof atob}())throw new an("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Tc=di.SDK_VERSION,(0,di._registerComponent)(new qr.wA("firestore",(t,{options:s})=>{const a=t.getProvider("app").getImmediate(),p=new fs(a,new nf(t.getProvider("auth-internal")),new ap(t.getProvider("app-check-internal")));return s=Object.assign({useFetchStreams:e},s),p._setSettings(s),p},"PUBLIC")),(0,di.registerVersion)(rp,"3.4.8",n),(0,di.registerVersion)(rp,"3.4.8","esm2017")}();class $f{constructor(e){this._delegate=e}static fromBase64String(e){return vw(),new $f(Vl.fromBase64String(e))}static fromUint8Array(e){return Jp(),new $f(Vl.fromUint8Array(e))}toBase64(){return vw(),this._delegate.toBase64()}toUint8Array(){return Jp(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function eg(n){return function IE(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(n,["next","error","complete"])}class CE{enableIndexedDbPersistence(e,t){return function Q0(n,e){wm(n=wi(n,fs));const t=uo(n),s=n._freezeSettings(),a=new _m;return eE(t,a,new ym(a,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function J0(n){wm(n=wi(n,fs));const e=uo(n),t=n._freezeSettings(),s=new _m;return eE(e,s,new Gb(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function tE(n){if(n._initialized&&!n._terminated)throw new an(Bt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ir;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Rt.Z)(function*(){try{yield(t=(0,Rt.Z)(function*(s){if(!Eu.vt())return Promise.resolve();const a=s+"main";yield Eu.delete(a)}),function(s){return t.apply(this,arguments)})(zg(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Ew{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof yd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Jd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function aI(n,e,t,s={}){var a;const p=(n=wi(n,Lf))._getSettings();if("firestore.googleapis.com"!==p.host&&p.host!==e&&Jd("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},p),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let E,x;if("string"==typeof s.mockUserToken)E=s.mockUserToken,x=Co.MOCK_USER;else{E=(0,Mn.Sg)(s.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const H=s.mockUserToken.sub||s.mockUserToken.user_id;if(!H)throw new an(Bt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Co(H)}n._authCredentials=new dg(new sp(E,x))}}(this._delegate,e,t,s)}enableNetwork(){return function nw(n){return function Em(n){return n.asyncQueue.enqueue((0,Rt.Z)(function*(){const e=yield H0(n),t=yield G0(n);return e.setNetworkEnabled(!0),function(s){const a=On(s);return a.fu.delete(0),Rf(a)}(t)}))}(uo(n=wi(n,fs)))}(this._delegate)}disableNetwork(){return function rw(n){return function jp(n){return n.asyncQueue.enqueue((0,Rt.Z)(function*(){const e=yield H0(n),t=yield G0(n);return e.setNetworkEnabled(!1),(s=(0,Rt.Z)(function*(a){const p=On(a);p.fu.add(0),yield Eh(p),p.wu.set("Offline")}),function(a){return s.apply(this,arguments)})(t);var s}))}(uo(n=wi(n,fs)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,Rh("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function nE(n){return function(e){const t=new ir;return e.asyncQueue.enqueueAndForget((0,Rt.Z)(function*(){return function N0(n,e){return u_.apply(this,arguments)}(yield vm(e),t)})),t.promise}(uo(n=wi(n,fs)))}(this._delegate)}onSnapshotsInSync(e){return function vE(n,e){return function Yb(n,e){const t=new Bp(e);return n.asyncQueue.enqueueAndForget((0,Rt.Z)(function*(){return s=yield Mh(n),a=t,On(s).Eu.add(a),void a.next();var s,a})),()=>{t.Ia(),n.asyncQueue.enqueueAndForget((0,Rt.Z)(function*(){return s=yield Mh(n),a=t,void On(s).Eu.delete(a);var s,a}))}}(uo(n=wi(n,fs)),O_(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new an("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Gf(this,P_(this._delegate,e))}catch(t){throw Aa(t,"collection()","Firestore.collection()")}}doc(e){try{return new pl(this,bm(this._delegate,e))}catch(t){throw Aa(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new qa(this,function K0(n,e){if(n=wi(n,Lf),x_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new an(Bt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Bo(n,null,(t=e,new Ku(gt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Aa(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function mw(n,e){return function A_(n,e){const t=new ir;return n.asyncQueue.enqueueAndForget((0,Rt.Z)(function*(){const s=yield(a=n,Up(a).then(p=>p.datastore));var a;new sI(n.asyncQueue,s,e,t).run()})),t.promise}(uo(n=wi(n,fs)),t=>e(new EE(n,t)))}(this._delegate,t=>e(new Y_(this,t)))}batch(){return uo(this._delegate),new K_(new xm(this._delegate,e=>Fh(this._delegate,e)))}loadBundle(e){return function Hp(n,e){const t=uo(n=wi(n,fs)),s=new Qb;return function Kb(n,e,t,s){const a=function(p,E){let x;return x="string"==typeof p?(new TextEncoder).encode(p):p,H=function(H,Q){if(H instanceof Uint8Array)return U0(H,Q);if(H instanceof ArrayBuffer)return U0(new Uint8Array(H),Q);if(H instanceof ReadableStream)return H.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(x),new zb(H,E);var H}(t,Mp(e));n.asyncQueue.enqueueAndForget((0,Rt.Z)(function*(){!function Hb(n,e,t){const s=On(n);var a;(a=(0,Rt.Z)(function*(p,E,x){try{const H=yield E.getMetadata();if(yield function(vt,jt){const zt=On(vt),Dn=Do(jt.createTime);return zt.persistence.runTransaction("hasNewerBundle","readonly",Zn=>zt._s.getBundleMetadata(Zn,jt.id)).then(Zn=>!!Zn&&Zn.createTime.compareTo(Dn)>=0)}(p.localStore,H))return yield E.close(),x._completeWith({taskState:"Success",documentsLoaded:(vt=H).totalDocuments,bytesLoaded:vt.totalBytes,totalDocuments:vt.totalDocuments,totalBytes:vt.totalBytes}),Promise.resolve(new Set);x._updateProgress(Ab(H));const Q=new Sb(H,p.localStore,E.M);let be=yield E.da();for(;be;){const vt=yield Q.ku(be);vt&&x._updateProgress(vt),be=yield E.da()}const ze=yield Q.complete();return yield Du(p,ze.Fu,void 0),yield function(vt,jt){const zt=On(vt);return zt.persistence.runTransaction("Save bundle","readwrite",Dn=>zt._s.saveBundleMetadata(Dn,jt))}(p.localStore,H),x._completeWith(ze.progress),Promise.resolve(ze.Ou)}catch(H){return Jd("SyncEngine",`Loading bundle failed with ${H}`),x._failWith(H),Promise.resolve(new Set)}var vt}),function(p,E,x){return a.apply(this,arguments)})(s,e,t).then(a=>{s.sharedClientState.notifyBundleLoaded(a)})}(yield vm(n),a,s)}))}(t,n._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function iw(n,e){return function oI(n,e){return n.asyncQueue.enqueue((0,Rt.Z)(function*(){return function(t,s){const a=On(t);return a.persistence.runTransaction("Get named query","readonly",p=>a._s.getNamedQuery(p,s))}(yield T_(n),e)}))}(uo(n=wi(n,fs)),e).then(t=>t?new Bo(n,null,t.query):null)}(this._delegate,e).then(t=>t?new qa(this,t):null)}}class jf extends Uf{constructor(e){super(),this.firestore=e}convertBytes(e){return new $f(new Vl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return pl.forKey(t,this.firestore,null)}}class Y_{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new jf(e)}get(e){const t=zf(e);return this._delegate.get(t).then(s=>new Pm(this._firestore,new Ju(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const a=zf(e);return s?(wE("Transaction.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const p=zf(e);return 2===arguments.length?this._delegate.update(p,t):this._delegate.update(p,t,s,...a),this}delete(e){const t=zf(e);return this._delegate.delete(t),this}}class K_{constructor(e){this._delegate=e}set(e,t,s){const a=zf(e);return s?(wE("WriteBatch.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const p=zf(e);return 2===arguments.length?this._delegate.update(p,t):this._delegate.update(p,t,s,...a),this}delete(e){const t=zf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Hf{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new Kp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Om(this._firestore,s),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=Hf.INSTANCES;let a=s.get(e);a||(a=new WeakMap,s.set(e,a));let p=a.get(t);return p||(p=new Hf(e,new jf(e),t),a.set(t,p)),p}}Hf.INSTANCES=new WeakMap;class pl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jf(e)}static forPath(e,t,s){if(e.length%2!=0)throw new an("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new pl(t,new Cs(t._delegate,s,new Rn(e)))}static forKey(e,t,s){return new pl(t,new Cs(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new Gf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Gf(this.firestore,P_(this._delegate,e))}catch(t){throw Aa(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Mn.m9)(e))instanceof Cs&&Z0(this._delegate,e)}set(e,t){t=wE("DocumentReference.set",t);try{return t?q_(this._delegate,e,t):q_(this._delegate,e)}catch(s){throw Aa(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?mE(this._delegate,e):mE(this._delegate,e,t,...s)}catch(a){throw Aa(a,"updateDoc()","DocumentReference.update()")}}delete(){return function gw(n){return Fh(wi(n.firestore,fs),[new ah(n._key,go.none())])}(this._delegate)}onSnapshot(...e){const t=Rm(e),s=TE(e,a=>new Pm(this.firestore,new Ju(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return _E(this._delegate,t,s)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function fw(n){n=wi(n,Cs);const e=wi(n.firestore,fs),t=uo(e),s=new Nh(e);return function qb(n,e){const t=new ir;return n.asyncQueue.enqueueAndForget((0,Rt.Z)(function*(){return(s=(0,Rt.Z)(function*(a,p,E){try{const x=yield function(H,Q){const be=On(H);return be.persistence.runTransaction("read document","readonly",ze=>be.ci.Ls(ze,Q))}(a,p);x.isFoundDocument()?E.resolve(x):x.isNoDocument()?E.resolve(null):E.reject(new an(Bt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(x){const H=Bc(x,`Failed to get document '${p} from cache`);E.reject(H)}}),function(a,p,E){return s.apply(this,arguments)})(yield T_(n),e,t);var s})),t.promise}(t,n._key).then(a=>new Ju(e,s,n._key,a,new Nd(null!==a&&a.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function fE(n){n=wi(n,Cs);const e=wi(n.firestore,fs);return S_(uo(e),n._key,{source:"server"}).then(t=>Mm(e,n,t))}(this._delegate):function hI(n){n=wi(n,Cs);const e=wi(n.firestore,fs);return S_(uo(e),n._key).then(t=>Mm(e,n,t))}(this._delegate),t.then(s=>new Pm(this.firestore,new Ju(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new pl(this.firestore,this._delegate.withConverter(e?Hf.getInstance(this.firestore,e):null))}}function Aa(n,e,t){return n.message=n.message.replace(e,t),n}function Rm(n){for(const e of n)if("object"==typeof e&&!eg(e))return e;return{}}function TE(n,e){var t,s;let a;return a=eg(n[0])?n[0]:eg(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:p=>{a.next&&a.next(e(p))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(s=a.complete)||void 0===s?void 0:s.bind(a)}}class Pm{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new pl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return pa(this._delegate,e._delegate)}}class Om extends Pm{data(e){const t=this._delegate.data(e);return function ip(n,e){n||Xn()}(void 0!==t),t}}class qa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jf(e)}where(e,t,s){try{return new qa(this.firestore,Fd(this._delegate,function Xp(n,e,t){const s=e,a=Sm("where",n);return new dI(a,s,t)}(e,t,s)))}catch(a){throw Aa(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new qa(this.firestore,Fd(this._delegate,function $_(n,e="asc"){const t=e,s=Sm("orderBy",n);return new uw(s,t)}(e,t)))}catch(s){throw Aa(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new qa(this.firestore,Fd(this._delegate,function uE(n){return Y0("limit",n),new lE("limit",n,"F")}(e)))}catch(t){throw Aa(t,"limit()","Query.limit()")}}limitToLast(e){try{return new qa(this.firestore,Fd(this._delegate,function cw(n){return Y0("limitToLast",n),new lE("limitToLast",n,"L")}(e)))}catch(t){throw Aa(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new qa(this.firestore,Fd(this._delegate,function j_(...n){return new cE("startAt",n,!0)}(...e)))}catch(t){throw Aa(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new qa(this.firestore,Fd(this._delegate,function dE(...n){return new cE("startAfter",n,!1)}(...e)))}catch(t){throw Aa(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new qa(this.firestore,Fd(this._delegate,function Am(...n){return new H_("endBefore",n,!1)}(...e)))}catch(t){throw Aa(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new qa(this.firestore,Fd(this._delegate,function G_(...n){return new H_("endAt",n,!0)}(...e)))}catch(t){throw Aa(t,"endAt()","Query.endAt()")}}isEqual(e){return X0(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function pw(n){n=wi(n,Bo);const e=wi(n.firestore,fs),t=uo(e),s=new Nh(e);return function z0(n,e){const t=new ir;return n.asyncQueue.enqueueAndForget((0,Rt.Z)(function*(){return(s=(0,Rt.Z)(function*(a,p,E){try{const x=yield Yg(a,p,!0),H=new Rb(p,x.li),Q=H.Gu(x.documents),be=H.applyChanges(Q,!1);E.resolve(be.snapshot)}catch(x){const H=Bc(x,`Failed to execute query '${p} against cache`);E.reject(H)}}),function(a,p,E){return s.apply(this,arguments)})(yield T_(n),e,t);var s})),t.promise}(t,n._query).then(a=>new Uc(e,s,n,a))}(this._delegate):"server"===(null==e?void 0:e.source)?function gE(n){n=wi(n,Bo);const e=wi(n.firestore,fs),t=uo(e),s=new Nh(e);return W0(t,n._query,{source:"server"}).then(a=>new Uc(e,s,n,a))}(this._delegate):function pE(n){n=wi(n,Bo);const e=wi(n.firestore,fs),t=uo(e),s=new Nh(e);return kh(n._query),W0(t,n._query).then(a=>new Uc(e,s,n,a))}(this._delegate),t.then(s=>new Z_(this.firestore,new Uc(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=Rm(e),s=TE(e,a=>new Z_(this.firestore,new Uc(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return _E(this._delegate,t,s)}withConverter(e){return new qa(this.firestore,this._delegate.withConverter(e?Hf.getInstance(this.firestore,e):null))}}class bw{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Om(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Z_{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new qa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Om(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new bw(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new Om(this._firestore,s))})}isEqual(e){return pa(this._delegate,e._delegate)}}class Gf extends qa{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new pl(this.firestore,e):null}doc(e){try{return new pl(this.firestore,void 0===e?bm(this._delegate):bm(this._delegate,e))}catch(t){throw Aa(t,"doc()","CollectionReference.doc()")}}add(e){return function yE(n,e){const t=wi(n.firestore,fs),s=bm(n),a=Qp(n.converter,e);return Fh(t,[Wp(kd(n.firestore),"addDoc",s._key,a,null!==n.converter,{}).toMutation(s._key,go.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new pl(this.firestore,t))}isEqual(e){return Z0(this._delegate,e._delegate)}withConverter(e){return new Gf(this.firestore,this._delegate.withConverter(e?Hf.getInstance(this.firestore,e):null))}}function zf(n){return wi(n,Cs)}class X_{constructor(...e){this._delegate=new Vo(...e)}static documentId(){return new X_(wn.keyField().canonicalString())}isEqual(e){return(e=(0,Mn.m9)(e))instanceof Vo&&this._delegate._internalPath.isEqual(e._internalPath)}}class $c{constructor(e){this._delegate=e}static serverTimestamp(){const e=function fI(){return new F_("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new $c(e)}static delete(){const e=function yw(){return new Oh("deleteField")}();return e._methodName="FieldValue.delete",new $c(e)}static arrayUnion(...e){const t=function bE(...n){return new lw("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new $c(t)}static arrayRemove(...e){const t=function pI(...n){return new cI("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new $c(t)}static increment(e){const t=function gI(n){return new L_("increment",n)}(e);return t._methodName="FieldValue.increment",new $c(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const ww={Firestore:Ew,GeoPoint:Im,Timestamp:M,Blob:$f,Transaction:Y_,WriteBatch:K_,DocumentReference:pl,DocumentSnapshot:Pm,Query:qa,QueryDocumentSnapshot:Om,QuerySnapshot:Z_,CollectionReference:Gf,FieldPath:X_,FieldValue:$c,setLogLevel:function DE(n){!function Ga(n){mu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function SE(n,e){return function Q_(n,e=ri.z){return new Yr.y(t=>{let s;return null!=e?e.schedule(()=>{s=n.onSnapshot({includeMetadataChanges:!0},t)}):s=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=s&&s()}})}(n,e)}function tg(n,e){return SE(n,e).pipe((0,Ar.U)(t=>({payload:t,type:"query"})))}function ng(n,e){return tg(n,e).pipe((0,Nr.O)(void 0),so(),(0,Ar.U)(([t,s])=>{const a=s.payload.docChanges(),p=a.map(E=>({type:E.type,payload:E}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((E,x)=>{const H=a.find(be=>be.doc.ref.isEqual(E.ref)),Q=null==t?void 0:t.payload.docs.find(be=>be.ref.isEqual(E.ref));H&&JSON.stringify(H.doc.metadata)===JSON.stringify(E.metadata)||!H&&Q&&JSON.stringify(Q.metadata)===JSON.stringify(E.metadata)||p.push({type:"modified",payload:{oldIndex:x,newIndex:x,type:"modified",doc:E}})}),p}))}function J_(n,e,t){return ng(n,t).pipe((0,aa.R)((s,a)=>function Dw(n,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(n=function AE(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return km(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return km(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return km(n,e.oldIndex,1)}return n}(n,s))}),n}(s,a.map(p=>p.payload),e),[]),(0,Fa.x)(),(0,Ar.U)(s=>s.map(a=>({type:a.type,payload:a}))))}function km(n,e,t,...s){const a=n.slice();return a.splice(e,t,...s),a}function xE(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function Iw(n){(function Su(n,e){n.INTERNAL.registerComponent(new qr.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(s,a)},"PUBLIC").setServiceProps(Object.assign({},ww)))})(n,(e,t)=>new Ew(e,t,new CE)),n.registerVersion("@firebase/firestore-compat","0.1.17")}(xi.Z);class ME{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=ng(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ar.U)(s=>s.filter(a=>e.indexOf(a.type)>-1)))),t.pipe((0,Nr.O)(void 0),so(),(0,ss.h)(([s,a])=>a.length>0||!s),(0,Ar.U)(([s,a])=>a),In.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,aa.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=xE(e);return J_(this.query,t,this.afs.schedulers.outsideAngular).pipe(In.iC)}valueChanges(e={}){return tg(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ar.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),In.iC)}get(e){return(0,jn.D)(this.query.get(e)).pipe(In.iC)}add(e){return this.ref.add(e)}doc(e){return new Nm(this.ref.doc(e),this.afs)}}class Nm{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:a,query:p}=OE(s,t);return new ME(a,p,this.afs)}snapshotChanges(){return function Cw(n,e){return SE(n,e).pipe((0,Nr.O)(void 0),so(),(0,Ar.U)(([t,s])=>s.exists?(null==t?void 0:t.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(In.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ar.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,jn.D)(this.ref.get(e)).pipe(In.iC)}}class Au{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?ng(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ar.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,ss.h)(t=>t.length>0),In.iC):ng(this.query,this.afs.schedulers.outsideAngular).pipe(In.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,aa.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=xE(e);return J_(this.query,t,this.afs.schedulers.outsideAngular).pipe(In.iC)}valueChanges(e={}){return tg(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ar.U)(s=>s.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),In.iC)}get(e){return(0,jn.D)(this.query.get(e)).pipe(In.iC)}}const RE=new X.OlP("angularfire2.enableFirestorePersistence"),Tw=new X.OlP("angularfire2.firestore.persistenceSettings"),Sw=new X.OlP("angularfire2.firestore.settings"),PE=new X.OlP("angularfire2.firestore.use-emulator");function OE(n,e=(t=>t)){return{query:e(n),ref:n}}let Aw=(()=>{class n{constructor(t,s,a,p,E,x,H,Q,be,ze,vt,jt,zt,Dn,Zn,Ai,Qi){this.schedulers=H;const Jr=(0,Mr.on)(t,x,s),_i=be;ze&&(0,Hr.nw)(Jr,x,vt,zt,Dn,Zn,jt,Ai),[this.firestore,this.persistenceEnabled$]=(0,Mr.cc)(`${Jr.name}.firestore`,"AngularFirestore",Jr.name,()=>{const $i=x.runOutsideAngular(()=>Jr.firestore());if(p&&$i.settings(p),_i&&$i.useEmulator(..._i),a&&!(0,l.PM)(E)){const Ji=()=>{try{return(0,jn.D)($i.enablePersistence(Q||void 0).then(()=>!0,()=>!1))}catch(zs){return"undefined"!=typeof console&&console.warn(zs),(0,qt.of)(!1)}};return[$i,x.runOutsideAngular(Ji)]}return[$i,(0,qt.of)(!1)]},[p,_i,a])}collection(t,s){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:p,query:E}=OE(a,s),x=this.schedulers.ngZone.run(()=>p);return new ME(x,E,this)}collectionGroup(t,s){const a=s||(E=>E),p=this.firestore.collectionGroup(t);return new Au(a(p),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>s);return new Nm(a,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(X.LFG(Mr.Dh),X.LFG(Mr.xv,8),X.LFG(RE,8),X.LFG(Sw,8),X.LFG(X.Lbi),X.LFG(X.R0b),X.LFG(In.HU),X.LFG(Tw,8),X.LFG(PE,8),X.LFG(Hr.zQ,8),X.LFG(Hr.Qv,8),X.LFG(Hr.L6,8),X.LFG(Hr._Q,8),X.LFG(Hr.rT,8),X.LFG(Hr.lh,8),X.LFG(Hr.f7,8),X.LFG(R.nm,8))},n.\u0275prov=X.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),kE=(()=>{class n{constructor(){S.Z.registerVersion("angularfire",In.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:RE,useValue:!0},{provide:Tw,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=X.oAB({type:n}),n.\u0275inj=X.cJS({providers:[Aw]}),n})();var xw=$(791);const Mw_firebaseConfig={apiKey:"AIzaSyAmBIAZnkWXh6LQhbBJ3ZuRSp0phoiEr_c",authDomain:"firecast-a0fa5.firebaseapp.com",databaseURL:"https://firecast-a0fa5.firebaseio.com",projectId:"firecast-a0fa5",storageBucket:"firecast-a0fa5.appspot.com",messagingSenderId:"565771911818",appId:"1:565771911818:web:d1ccae7106e42ad2406373"};let NE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=X.oAB({type:n,bootstrap:[ci]}),n.\u0275inj=X.cJS({providers:[{provide:$r.wN,useClass:zn.r4},{provide:Un.TP,useClass:ui,multi:!0}],imports:[[zn.Pc,l.ez,Er.u5,Un.JF,yr,zn.Pc.forRoot(),Kn,Mr.hO.initializeApp(Mw_firebaseConfig),Hr.ww,kE,Xr,xw.JS]]}),n})();(0,X.G48)(),An().bootstrapModule(NE).catch(n=>console.log(n))},5867:(hn,ft,$)=>{"use strict";$.d(ft,{Mq:()=>l.getApp,C6:()=>l.getApps});var l=$(9681);(0,l.registerVersion)("firebase","9.7.0","app")},127:(hn,ft,$)=>{"use strict";$.d(ft,{Z:()=>l.Z});var l=$(3942);l.Z.registerVersion("firebase","9.7.0","app-compat")},820:(hn,ft,$)=>{"use strict";$.r(ft);var l=$(5861),X=$(3942),Z=$(2090),Be=$(9681),Se=$(655),ae=$(1877),Ee=$(4859);const Oe=function he(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},_e=function We(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ke=new Z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),st=new ae.Yd("@firebase/auth");function Le(w,...g){st.logLevel<=ae.in.ERROR&&st.error(`Auth (${Be.SDK_VERSION}): ${w}`,...g)}function qe(w,...g){throw Ct(w,...g)}function Ae(w,...g){return Ct(w,...g)}function Ze(w,g,_){const T=Object.assign(Object.assign({},_e()),{[g]:_});return new Z.LL("auth","Firebase",T).create(g,{appName:w.name})}function Dt(w,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&qe(w,"argument-error"),Ze(w,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ct(w,...g){if("string"!=typeof w){const _=g[0],T=[...g.slice(1)];return T[0]&&(T[0].appName=w.name),w._errorFactory.create(_,...T)}return ke.create(w,...g)}function Ue(w,g,..._){if(!w)throw Ct(g,..._)}function G(w){const g="INTERNAL ASSERTION FAILED: "+w;throw Le(g),new Error(g)}function Re(w,g){w||G(g)}const Te=new Map;function Ce(w){Re(w instanceof Function,"Expected a class definition");let g=Te.get(w);return g?(Re(g instanceof w,"Instance stored in cache mismatched with class"),g):(g=new w,Te.set(w,g),g)}function Xt(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function on(){return"http:"===mt()||"https:"===mt()}function mt(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class at{constructor(g,_){this.shortDelay=g,this.longDelay=_,Re(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,Z.uI)()||(0,Z.b$)()}get(){return function it(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(on()||(0,Z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function lt(w,g){Re(w.emulator,"Emulator should always be set here");const{url:_}=w.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class Me{static initialize(g,_,T){this.fetchImpl=g,_&&(this.headersImpl=_),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void G("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void G("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void G("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Je={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Tt=new at(3e4,6e4);function dt(w,g){return w.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:w.tenantId}):g}function Kt(w,g,_,T){return en.apply(this,arguments)}function en(){return(en=(0,l.Z)(function*(w,g,_,T,Y={}){return _n(w,Y,(0,l.Z)(function*(){let fe={},ht={};T&&("GET"===g?ht=T:fe={body:JSON.stringify(T)});const Ft=(0,Z.xO)(Object.assign({key:w.config.apiKey},ht)).slice(1),bn=yield w._getAdditionalHeaders();return bn["Content-Type"]="application/json",w.languageCode&&(bn["X-Firebase-Locale"]=w.languageCode),Me.fetch()(Cr(w,w.config.apiHost,_,Ft),Object.assign({method:g,headers:bn,referrerPolicy:"no-referrer"},fe))}))})).apply(this,arguments)}function _n(w,g,_){return fn.apply(this,arguments)}function fn(){return(fn=(0,l.Z)(function*(w,g,_){w._canInitEmulator=!1;const T=Object.assign(Object.assign({},Je),g);try{const Y=new yr(w),fe=yield Promise.race([_(),Y.promise]);Y.clearNetworkTimeout();const ht=yield fe.json();if("needConfirmation"in ht)throw Jn(w,"account-exists-with-different-credential",ht);if(fe.ok&&!("errorMessage"in ht))return ht;{const Ft=fe.ok?ht.errorMessage:ht.error.message,[bn,Vn]=Ft.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===bn)throw Jn(w,"credential-already-in-use",ht);if("EMAIL_EXISTS"===bn)throw Jn(w,"email-already-in-use",ht);const gr=T[bn]||bn.toLowerCase().replace(/[_\s]+/g,"-");if(Vn)throw Ze(w,gr,Vn);qe(w,gr)}}catch(Y){if(Y instanceof Z.ZR)throw Y;qe(w,"network-request-failed")}})).apply(this,arguments)}function Jt(w,g,_,T){return An.apply(this,arguments)}function An(){return(An=(0,l.Z)(function*(w,g,_,T,Y={}){const fe=yield Kt(w,g,_,T,Y);return"mfaPendingCredential"in fe&&qe(w,"multi-factor-auth-required",{_serverResponse:fe}),fe})).apply(this,arguments)}function Cr(w,g,_,T){const Y=`${g}${_}?${T}`;return w.config.emulator?lt(w.config,Y):`${w.config.apiScheme}://${Y}`}class yr{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,T)=>{this.timer=setTimeout(()=>T(Ae(this.auth,"network-request-failed")),Tt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jn(w,g,_){const T={appName:w.name};_.email&&(T.email=_.email),_.phoneNumber&&(T.phoneNumber=_.phoneNumber);const Y=Ae(w,g,T);return Y.customData._tokenResponse=_,Y}function nr(){return(nr=(0,l.Z)(function*(w,g){return Kt(w,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Nn(w,g){return er.apply(this,arguments)}function er(){return(er=(0,l.Z)(function*(w,g){return Kt(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Tn(w,g){return xr.apply(this,arguments)}function xr(){return(xr=(0,l.Z)(function*(w,g){return Kt(w,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function ot(w){if(w)try{const g=new Date(Number(w));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function Ht(){return(Ht=(0,l.Z)(function*(w,g=!1){const _=(0,Z.m9)(w),T=yield _.getIdToken(g),Y=Gt(T);Ue(Y&&Y.exp&&Y.auth_time&&Y.iat,_.auth,"internal-error");const fe="object"==typeof Y.firebase?Y.firebase:void 0,ht=null==fe?void 0:fe.sign_in_provider;return{claims:Y,token:T,authTime:ot(At(Y.auth_time)),issuedAtTime:ot(At(Y.iat)),expirationTime:ot(At(Y.exp)),signInProvider:ht||null,signInSecondFactor:(null==fe?void 0:fe.sign_in_second_factor)||null}})).apply(this,arguments)}function At(w){return 1e3*Number(w)}function Gt(w){const[g,_,T]=w.split(".");if(void 0===g||void 0===_||void 0===T)return Le("JWT malformed, contained fewer than 3 sections"),null;try{const Y=(0,Z.tV)(_);return Y?JSON.parse(Y):(Le("Failed to decode base64 JWT payload"),null)}catch(Y){return Le("Caught error parsing JWT payload as JSON",Y),null}}function Qn(w,g){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,l.Z)(function*(w,g,_=!1){if(_)return g;try{return yield g}catch(T){throw T instanceof Z.ZR&&Cn(T)&&w.auth.currentUser===w&&(yield w.auth.signOut()),T}})).apply(this,arguments)}function Cn({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class xn{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const Y=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,Y)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const T=this.getInterval(g);this.timerId=setTimeout((0,l.Z)(function*(){yield _.iteration()}),T)}iteration(){var g=this;return(0,l.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&g.schedule(!0))}g.schedule()})()}}class ei{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=ot(this.lastLoginAt),this.creationTime=ot(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function _r(w){return ln.apply(this,arguments)}function ln(){return(ln=(0,l.Z)(function*(w){var g;const _=w.auth,T=yield w.getIdToken(),Y=yield Qn(w,Tn(_,{idToken:T}));Ue(null==Y?void 0:Y.users.length,_,"internal-error");const fe=Y.users[0];w._notifyReloadListener(fe);const ht=(null===(g=fe.providerUserInfo)||void 0===g?void 0:g.length)?Nt(fe.providerUserInfo):[],Ft=pn(w.providerData,ht),gr=!!w.isAnonymous&&!(w.email&&fe.passwordHash||(null==Ft?void 0:Ft.length)),hr={uid:fe.localId,displayName:fe.displayName||null,photoURL:fe.photoUrl||null,email:fe.email||null,emailVerified:fe.emailVerified||!1,phoneNumber:fe.phoneNumber||null,tenantId:fe.tenantId||null,providerData:Ft,metadata:new ei(fe.createdAt,fe.lastLoginAt),isAnonymous:gr};Object.assign(w,hr)})).apply(this,arguments)}function Wn(){return(Wn=(0,l.Z)(function*(w){const g=(0,Z.m9)(w);yield _r(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function pn(w,g){return[...w.filter(T=>!g.some(Y=>Y.providerId===T.providerId)),...g]}function Nt(w){return w.map(g=>{var{providerId:_}=g,T=(0,Se._T)(g,["providerId"]);return{providerId:_,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function Pn(){return(Pn=(0,l.Z)(function*(w,g){const _=yield _n(w,{},(0,l.Z)(function*(){const T=(0,Z.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:Y,apiKey:fe}=w.config,ht=Cr(w,Y,"/v1/token",`key=${fe}`),Ft=yield w._getAdditionalHeaders();return Ft["Content-Type"]="application/x-www-form-urlencoded",Me.fetch()(ht,{method:"POST",headers:Ft,body:T})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class sr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Ue(g.idToken,"internal-error"),Ue(void 0!==g.idToken,"internal-error"),Ue(void 0!==g.refreshToken,"internal-error");const _="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function gn(w){const g=Gt(w);return Ue(g,"internal-error"),Ue(void 0!==g.exp,"internal-error"),Ue(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var T=this;return(0,l.Z)(function*(){return Ue(!T.accessToken||T.refreshToken,g,"user-token-expired"),_||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(g,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var T=this;return(0,l.Z)(function*(){const{accessToken:Y,refreshToken:fe,expiresIn:ht}=yield function cn(w,g){return Pn.apply(this,arguments)}(g,_);T.updateTokensAndExpiration(Y,fe,Number(ht))})()}updateTokensAndExpiration(g,_,T){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(g,_){const{refreshToken:T,accessToken:Y,expirationTime:fe}=_,ht=new sr;return T&&(Ue("string"==typeof T,"internal-error",{appName:g}),ht.refreshToken=T),Y&&(Ue("string"==typeof Y,"internal-error",{appName:g}),ht.accessToken=Y),fe&&(Ue("number"==typeof fe,"internal-error",{appName:g}),ht.expirationTime=fe),ht}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new sr,this.toJSON())}_performRefresh(){return G("not implemented")}}function Yn(w,g){Ue("string"==typeof w||void 0===w,"internal-error",{appName:g})}class $e{constructor(g){var{uid:_,auth:T,stsTokenManager:Y}=g,fe=(0,Se._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=T,this.stsTokenManager=Y,this.accessToken=Y.accessToken,this.displayName=fe.displayName||null,this.email=fe.email||null,this.emailVerified=fe.emailVerified||!1,this.phoneNumber=fe.phoneNumber||null,this.photoURL=fe.photoURL||null,this.isAnonymous=fe.isAnonymous||!1,this.tenantId=fe.tenantId||null,this.providerData=fe.providerData?[...fe.providerData]:[],this.metadata=new ei(fe.createdAt||void 0,fe.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,l.Z)(function*(){const T=yield Qn(_,_.stsTokenManager.getToken(_.auth,g));return Ue(T,_.auth,"internal-error"),_.accessToken!==T&&(_.accessToken=T,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),T})()}getIdTokenResult(g){return function ve(w){return Ht.apply(this,arguments)}(this,g)}reload(){return function fr(w){return Wn.apply(this,arguments)}(this)}_assign(g){this!==g&&(Ue(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new $e(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var T=this;return(0,l.Z)(function*(){let Y=!1;g.idToken&&g.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(g),Y=!0),_&&(yield _r(T)),yield T.auth._persistUserIfCurrent(T),Y&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var g=this;return(0,l.Z)(function*(){const _=yield g.getIdToken();return yield Qn(g,function rn(w,g){return nr.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var T,Y,fe,ht,Ft,bn,Vn,gr;const hr=null!==(T=_.displayName)&&void 0!==T?T:void 0,zr=null!==(Y=_.email)&&void 0!==Y?Y:void 0,Yo=null!==(fe=_.phoneNumber)&&void 0!==fe?fe:void 0,vc=null!==(ht=_.photoURL)&&void 0!==ht?ht:void 0,hd=null!==(Ft=_.tenantId)&&void 0!==Ft?Ft:void 0,Ec=null!==(bn=_._redirectEventId)&&void 0!==bn?bn:void 0,Kd=null!==(Vn=_.createdAt)&&void 0!==Vn?Vn:void 0,Wh=null!==(gr=_.lastLoginAt)&&void 0!==gr?gr:void 0,{uid:hl,emailVerified:bc,isAnonymous:zu,providerData:fd,stsTokenManager:ws}=_;Ue(hl&&ws,g,"internal-error");const qh=sr.fromJSON(this.name,ws);Ue("string"==typeof hl,g,"internal-error"),Yn(hr,g.name),Yn(zr,g.name),Ue("boolean"==typeof bc,g,"internal-error"),Ue("boolean"==typeof zu,g,"internal-error"),Yn(Yo,g.name),Yn(vc,g.name),Yn(hd,g.name),Yn(Ec,g.name),Yn(Kd,g.name),Yn(Wh,g.name);const wc=new $e({uid:hl,auth:g,email:zr,emailVerified:bc,displayName:hr,isAnonymous:zu,photoURL:vc,phoneNumber:Yo,tenantId:hd,stsTokenManager:qh,createdAt:Kd,lastLoginAt:Wh});return fd&&Array.isArray(fd)&&(wc.providerData=fd.map(pd=>Object.assign({},pd))),Ec&&(wc._redirectEventId=Ec),wc}static _fromIdTokenResponse(g,_,T=!1){return(0,l.Z)(function*(){const Y=new sr;Y.updateFromServerResponse(_);const fe=new $e({uid:_.localId,auth:g,stsTokenManager:Y,isAnonymous:T});return yield _r(fe),fe})()}}const je=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(_,T){var Y=this;return(0,l.Z)(function*(){Y.storage[_]=T})()}_get(_){var T=this;return(0,l.Z)(function*(){const Y=T.storage[_];return void 0===Y?null:Y})()}_remove(_){var T=this;return(0,l.Z)(function*(){delete T.storage[_]})()}_addListener(_,T){}_removeListener(_,T){}}return w.type="NONE",w})();function bt(w,g,_){return`firebase:${w}:${g}:${_}`}class pt{constructor(g,_,T){this.persistence=g,this.auth=_,this.userKey=T;const{config:Y,name:fe}=this.auth;this.fullUserKey=bt(this.userKey,Y.apiKey,fe),this.fullPersistenceKey=bt("persistence",Y.apiKey,fe),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,l.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?$e._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,l.Z)(function*(){if(_.persistence===g)return;const T=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,T?_.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,T="authUser"){return(0,l.Z)(function*(){if(!_.length)return new pt(Ce(je),g,T);const Y=(yield Promise.all(_.map(function(){var Vn=(0,l.Z)(function*(gr){if(yield gr._isAvailable())return gr});return function(gr){return Vn.apply(this,arguments)}}()))).filter(Vn=>Vn);let fe=Y[0]||Ce(je);const ht=bt(T,g.config.apiKey,g.name);let Ft=null;for(const Vn of _)try{const gr=yield Vn._get(ht);if(gr){const hr=$e._fromJSON(g,gr);Vn!==fe&&(Ft=hr),fe=Vn;break}}catch(gr){}const bn=Y.filter(Vn=>Vn._shouldAllowMigration);return fe._shouldAllowMigration&&bn.length?(fe=bn[0],Ft&&(yield fe._set(ht,Ft.toJSON())),yield Promise.all(_.map(function(){var Vn=(0,l.Z)(function*(gr){if(gr!==fe)try{yield gr._remove(ht)}catch(hr){}});return function(gr){return Vn.apply(this,arguments)}}())),new pt(fe,g,T)):new pt(fe,g,T)})()}}function sn(w){const g=w.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Er(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Un(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(zn(g))return"Blackberry";if(Br(g))return"Webos";if(vr(g))return"Safari";if((g.includes("chrome/")||ui(g))&&!g.includes("edge/"))return"Chrome";if($r(g))return"Android";{const T=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==T?void 0:T.length))return T[1]}return"Other"}function Un(w=(0,Z.z$)()){return/firefox\//i.test(w)}function vr(w=(0,Z.z$)()){const g=w.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function ui(w=(0,Z.z$)()){return/crios\//i.test(w)}function Er(w=(0,Z.z$)()){return/iemobile/i.test(w)}function $r(w=(0,Z.z$)()){return/android/i.test(w)}function zn(w=(0,Z.z$)()){return/blackberry/i.test(w)}function Br(w=(0,Z.z$)()){return/webos/i.test(w)}function Wr(w=(0,Z.z$)()){return/iphone|ipad|ipod/i.test(w)}function ci(w=(0,Z.z$)()){return Wr(w)||$r(w)||Br(w)||zn(w)||/windows phone/i.test(w)||Er(w)}function Hr(w,g=[]){let _;switch(w){case"Browser":_=sn((0,Z.z$)());break;case"Worker":_=`${sn((0,Z.z$)())}-${w}`;break;default:_=w}const T=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${Be.SDK_VERSION}/${T}`}class Yr{constructor(g,_,T){this.app=g,this.heartbeatServiceProvider=_,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jn(this),this.idTokenSubscription=new jn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ke,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(g,_){var T=this;return _&&(this._popupRedirectResolver=Ce(_)),this._initializationPromise=this.queue((0,l.Z)(function*(){var Y,fe;if(!T._deleted&&(T.persistenceManager=yield pt.create(T,g),!T._deleted)){if(null===(Y=T._popupRedirectResolver)||void 0===Y?void 0:Y._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch(ht){}yield T.initializeCurrentUser(_),T.lastNotifiedUid=(null===(fe=T.currentUser)||void 0===fe?void 0:fe.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,l.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_)}})()}initializeCurrentUser(g){var _=this;return(0,l.Z)(function*(){var T;let Y=yield _.assertedPersistence.getCurrentUser();if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const fe=null===(T=_.redirectUser)||void 0===T?void 0:T._redirectEventId,ht=null==Y?void 0:Y._redirectEventId,Ft=yield _.tryRedirectSignIn(g);(!fe||fe===ht)&&(null==Ft?void 0:Ft.user)&&(Y=Ft.user)}return Y?Y._redirectEventId?(Ue(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===Y._redirectEventId?_.directlySetCurrentUser(Y):_.reloadAndSetCurrentUserOrClear(Y)):_.reloadAndSetCurrentUserOrClear(Y):_.directlySetCurrentUser(null)})()}tryRedirectSignIn(g){var _=this;return(0,l.Z)(function*(){let T=null;try{T=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch(Y){yield _._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,l.Z)(function*(){try{yield _r(g)}catch(T){if("auth/network-request-failed"!==T.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Qe(){if("undefined"==typeof navigator)return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var g=this;return(0,l.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,l.Z)(function*(){const T=g?(0,Z.m9)(g):null;return T&&Ue(T.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(T&&T._clone(_))})()}_updateCurrentUser(g){var _=this;return(0,l.Z)(function*(){if(!_._deleted)return g&&Ue(_.tenantId===g.tenantId,_,"tenant-id-mismatch"),_.queue((0,l.Z)(function*(){yield _.directlySetCurrentUser(g),_.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,l.Z)(function*(){return(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null)})()}setPersistence(g){var _=this;return this.queue((0,l.Z)(function*(){yield _.assertedPersistence.setPersistence(Ce(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new Z.LL("auth","Firebase",g())}onAuthStateChanged(g,_,T){return this.registerStateListener(this.authStateSubscription,g,_,T)}onIdTokenChanged(g,_,T){return this.registerStateListener(this.idTokenSubscription,g,_,T)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var T=this;return(0,l.Z)(function*(){const Y=yield T.getOrInitRedirectPersistenceManager(_);return null===g?Y.removeCurrentUser():Y.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,l.Z)(function*(){if(!_.redirectPersistenceManager){const T=g&&Ce(g)||_._popupRedirectResolver;Ue(T,_,"argument-error"),_.redirectPersistenceManager=yield pt.create(_,[Ce(T._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,l.Z)(function*(){var T,Y;return _._isInitialized&&(yield _.queue((0,l.Z)(function*(){}))),(null===(T=_._currentUser)||void 0===T?void 0:T._redirectEventId)===g?_._currentUser:(null===(Y=_.redirectUser)||void 0===Y?void 0:Y._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,l.Z)(function*(){if(g===_.currentUser)return _.queue((0,l.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,T,Y){if(this._deleted)return()=>{};const fe="function"==typeof _?_:_.next.bind(_),ht=this._isInitialized?Promise.resolve():this._initializationPromise;return Ue(ht,this,"internal-error"),ht.then(()=>fe(this.currentUser)),"function"==typeof _?g.addObserver(_,T,Y):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,l.Z)(function*(){_.currentUser&&_.currentUser!==g&&(_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh()),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Hr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,l.Z)(function*(){var _;const T={"X-Client-Version":g.clientVersion};g.app.options.appId&&(T["X-Firebase-gmpid"]=g.app.options.appId);const Y=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return Y&&(T["X-Firebase-Client"]=Y),T})()}}function qt(w){return(0,Z.m9)(w)}class jn{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,Z.ne)(_=>this.observer=_)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ri(w){const g=w.indexOf(":");return g<0?"":w.substr(0,g+1)}function Tr(w){if(!w)return null;const g=Number(w);return isNaN(g)?null:g}class Sr{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return G("not implemented")}_getIdTokenResponse(g){return G("not implemented")}_linkToIdToken(g,_){return G("not implemented")}_getReauthenticationResolver(g){return G("not implemented")}}function Ar(w,g){return ki.apply(this,arguments)}function ki(){return(ki=(0,l.Z)(function*(w,g){return Kt(w,"POST","/v1/accounts:resetPassword",dt(w,g))})).apply(this,arguments)}function In(w,g){return xi.apply(this,arguments)}function xi(){return(xi=(0,l.Z)(function*(w,g){return Kt(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Rt(w,g){return di.apply(this,arguments)}function di(){return(di=(0,l.Z)(function*(w,g){return Kt(w,"POST","/v1/accounts:update",dt(w,g))})).apply(this,arguments)}function qr(){return(qr=(0,l.Z)(function*(w,g){return Jt(w,"POST","/v1/accounts:signInWithPassword",dt(w,g))})).apply(this,arguments)}function Di(w,g){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,l.Z)(function*(w,g){return Kt(w,"POST","/v1/accounts:sendOobCode",dt(w,g))})).apply(this,arguments)}function ee(w,g){return pe.apply(this,arguments)}function pe(){return(pe=(0,l.Z)(function*(w,g){return Di(w,g)})).apply(this,arguments)}function He(w,g){return ct.apply(this,arguments)}function ct(){return(ct=(0,l.Z)(function*(w,g){return Di(w,g)})).apply(this,arguments)}function ye(w,g){return xe.apply(this,arguments)}function xe(){return(xe=(0,l.Z)(function*(w,g){return Di(w,g)})).apply(this,arguments)}function ut(w,g){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,l.Z)(function*(w,g){return Di(w,g)})).apply(this,arguments)}function kt(){return(kt=(0,l.Z)(function*(w,g){return Jt(w,"POST","/v1/accounts:signInWithEmailLink",dt(w,g))})).apply(this,arguments)}function Ln(){return(Ln=(0,l.Z)(function*(w,g){return Jt(w,"POST","/v1/accounts:signInWithEmailLink",dt(w,g))})).apply(this,arguments)}class rr extends Sr{constructor(g,_,T,Y=null){super("password",T),this._email=g,this._password=_,this._tenantId=Y}static _fromEmailAndPassword(g,_){return new rr(g,_,"password")}static _fromEmailAndCode(g,_,T=null){return new rr(g,_,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,l.Z)(function*(){switch(_.signInMethod){case"password":return function Mn(w,g){return qr.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Lt(w,g){return kt.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:qe(g,"internal-error")}})()}_linkToIdToken(g,_){var T=this;return(0,l.Z)(function*(){switch(T.signInMethod){case"password":return In(g,{idToken:_,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function yn(w,g){return Ln.apply(this,arguments)}(g,{idToken:_,email:T._email,oobCode:T._password});default:qe(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function cr(w,g){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,l.Z)(function*(w,g){return Jt(w,"POST","/v1/accounts:signInWithIdp",dt(w,g))})).apply(this,arguments)}class Xe extends Sr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new Xe(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):qe("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:T,signInMethod:Y}=_,fe=(0,Se._T)(_,["providerId","signInMethod"]);if(!T||!Y)return null;const ht=new Xe(T,Y);return ht.idToken=fe.idToken||void 0,ht.accessToken=fe.accessToken||void 0,ht.secret=fe.secret,ht.nonce=fe.nonce,ht.pendingToken=fe.pendingToken||null,ht}_getIdTokenResponse(g){return cr(g,this.buildRequest())}_linkToIdToken(g,_){const T=this.buildRequest();return T.idToken=_,cr(g,T)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,cr(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,Z.xO)(_)}return g}}function tt(w,g){return _t.apply(this,arguments)}function _t(){return(_t=(0,l.Z)(function*(w,g){return Kt(w,"POST","/v1/accounts:sendVerificationCode",dt(w,g))})).apply(this,arguments)}function Ut(){return(Ut=(0,l.Z)(function*(w,g){return Jt(w,"POST","/v1/accounts:signInWithPhoneNumber",dt(w,g))})).apply(this,arguments)}function Ir(){return(Ir=(0,l.Z)(function*(w,g){const _=yield Jt(w,"POST","/v1/accounts:signInWithPhoneNumber",dt(w,g));if(_.temporaryProof)throw Jn(w,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Fn={USER_NOT_FOUND:"user-not-found"};function ys(){return(ys=(0,l.Z)(function*(w,g){return Jt(w,"POST","/v1/accounts:signInWithPhoneNumber",dt(w,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Fn)})).apply(this,arguments)}class Hi extends Sr{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new Hi({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new Hi({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function It(w,g){return Ut.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function Qt(w,g){return Ir.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function kr(w,g){return ys.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:T,verificationCode:Y}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:T,code:Y}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:T,phoneNumber:Y,temporaryProof:fe}=g;return T||_||Y||fe?new Hi({verificationId:_,verificationCode:T,phoneNumber:Y,temporaryProof:fe}):null}}class lr{constructor(g){var _,T,Y,fe,ht,Ft;const bn=(0,Z.zd)((0,Z.pd)(g)),Vn=null!==(_=bn.apiKey)&&void 0!==_?_:null,gr=null!==(T=bn.oobCode)&&void 0!==T?T:null,hr=function Bs(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Y=bn.mode)&&void 0!==Y?Y:null);Ue(Vn&&gr&&hr,"argument-error"),this.apiKey=Vn,this.operation=hr,this.code=gr,this.continueUrl=null!==(fe=bn.continueUrl)&&void 0!==fe?fe:null,this.languageCode=null!==(ht=bn.languageCode)&&void 0!==ht?ht:null,this.tenantId=null!==(Ft=bn.tenantId)&&void 0!==Ft?Ft:null}static parseLink(g){const _=function ti(w){const g=(0,Z.zd)((0,Z.pd)(w)).link,_=g?(0,Z.zd)((0,Z.pd)(g)).deep_link_id:null,T=(0,Z.zd)((0,Z.pd)(w)).deep_link_id;return(T?(0,Z.zd)((0,Z.pd)(T)).link:null)||T||_||g||w}(g);try{return new lr(_)}catch(T){return null}}}let _o=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(_,T){return rr._fromEmailAndPassword(_,T)}static credentialWithLink(_,T){const Y=lr.parseLink(T);return Ue(Y,"argument-error"),rr._fromEmailAndCode(_,Y.code,Y.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class _s{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class ni extends _s{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Ni extends ni{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return Ue("providerId"in _&&"signInMethod"in _,"argument-error"),Xe._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Ue(g.idToken||g.accessToken,"argument-error"),Xe._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Ni.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Ni.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:T,oauthTokenSecret:Y,pendingToken:fe,nonce:ht,providerId:Ft}=g;if(!T&&!Y&&!_&&!fe||!Ft)return null;try{return new Ni(Ft)._credential({idToken:_,accessToken:T,nonce:ht,pendingToken:fe})}catch(bn){return null}}}let Vs=(()=>{class w extends ni{constructor(){super("facebook.com")}static credential(_){return Xe._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return w.credential(_.oauthAccessToken)}catch(T){return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),us=(()=>{class w extends ni{constructor(){super("google.com"),this.addScope("profile")}static credential(_,T){return Xe._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:T})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:T,oauthAccessToken:Y}=_;if(!T&&!Y)return null;try{return w.credential(T,Y)}catch(fe){return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),co=(()=>{class w extends ni{constructor(){super("github.com")}static credential(_){return Xe._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return w.credential(_.oauthAccessToken)}catch(T){return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class Rs extends Sr{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return cr(g,this.buildRequest())}_linkToIdToken(g,_){const T=this.buildRequest();return T.idToken=_,cr(g,T)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,cr(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:T,signInMethod:Y,pendingToken:fe}=_;return T&&Y&&fe&&T===Y?new Rs(T,fe):null}static _create(g,_){return new Rs(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class vs extends _s{constructor(g){Ue(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return vs.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return vs.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=Rs.fromJSON(g);return Ue(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:T}=g;if(!_||!T)return null;try{return Rs._create(T,_)}catch(Y){return null}}}let Uo=(()=>{class w extends ni{constructor(){super("twitter.com")}static credential(_,T){return Xe._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:T})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:T,oauthTokenSecret:Y}=_;if(!T||!Y)return null;try{return w.credential(T,Y)}catch(fe){return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function cs(w,g){return fi.apply(this,arguments)}function fi(){return(fi=(0,l.Z)(function*(w,g){return Jt(w,"POST","/v1/accounts:signUp",dt(w,g))})).apply(this,arguments)}class Gi{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,T,Y=!1){return(0,l.Z)(function*(){const fe=yield $e._fromIdTokenResponse(g,T,Y),ht=Ws(T);return new Gi({user:fe,providerId:ht,_tokenResponse:T,operationType:_})})()}static _forOperation(g,_,T){return(0,l.Z)(function*(){yield g._updateTokensIfNecessary(T,!0);const Y=Ws(T);return new Gi({user:g,providerId:Y,_tokenResponse:T,operationType:_})})()}}function Ws(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function Kr(){return(Kr=(0,l.Z)(function*(w){var g;const _=qt(w);if(yield _._initializationPromise,null===(g=_.currentUser)||void 0===g?void 0:g.isAnonymous)return new Gi({user:_.currentUser,providerId:null,operationType:"signIn"});const T=yield cs(_,{returnSecureToken:!0}),Y=yield Gi._fromIdTokenResponse(_,"signIn",T,!0);return yield _._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class br extends Z.ZR{constructor(g,_,T,Y){var fe;super(_.code,_.message),this.operationType=T,this.user=Y,Object.setPrototypeOf(this,br.prototype),this.customData={appName:g.name,tenantId:null!==(fe=g.tenantId)&&void 0!==fe?fe:void 0,_serverResponse:_.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(g,_,T,Y){return new br(g,_,T,Y)}}function Ts(w,g,_,T){return("reauthenticate"===g?_._getReauthenticationResolver(w):_._getIdTokenResponse(w)).catch(fe=>{throw"auth/multi-factor-auth-required"===fe.code?br._fromErrorAndOperation(w,fe,g,T):fe})}function Fi(w){return new Set(w.map(({providerId:g})=>g).filter(g=>!!g))}function ds(){return(ds=(0,l.Z)(function*(w,g){const _=(0,Z.m9)(w);yield ne(!0,_,g);const{providerUserInfo:T}=yield Nn(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),Y=Fi(T||[]);return _.providerData=_.providerData.filter(fe=>Y.has(fe.providerId)),Y.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function jr(w,g){return U.apply(this,arguments)}function U(){return(U=(0,l.Z)(function*(w,g,_=!1){const T=yield Qn(w,g._linkToIdToken(w.auth,yield w.getIdToken()),_);return Gi._forOperation(w,"link",T)})).apply(this,arguments)}function ne(w,g,_){return V.apply(this,arguments)}function V(){return(V=(0,l.Z)(function*(w,g,_){yield _r(g);const Y=!1===w?"provider-already-linked":"no-such-provider";Ue(Fi(g.providerData).has(_)===w,g.auth,Y)})).apply(this,arguments)}function ue(w,g){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,l.Z)(function*(w,g,_=!1){const{auth:T}=w,Y="reauthenticate";try{const fe=yield Qn(w,Ts(T,Y,g,w),_);Ue(fe.idToken,T,"internal-error");const ht=Gt(fe.idToken);Ue(ht,T,"internal-error");const{sub:Ft}=ht;return Ue(w.uid===Ft,T,"user-mismatch"),Gi._forOperation(w,Y,fe)}catch(fe){throw"auth/user-not-found"===(null==fe?void 0:fe.code)&&qe(T,"user-mismatch"),fe}})).apply(this,arguments)}function Ot(w,g){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,l.Z)(function*(w,g,_=!1){const T="signIn",Y=yield Ts(w,T,g),fe=yield Gi._fromIdTokenResponse(w,T,Y);return _||(yield w._updateCurrentUser(fe.user)),fe})).apply(this,arguments)}function nn(w,g){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,l.Z)(function*(w,g){return Ot(qt(w),g)})).apply(this,arguments)}function or(w,g){return ur.apply(this,arguments)}function ur(){return(ur=(0,l.Z)(function*(w,g){const _=(0,Z.m9)(w);return yield ne(!1,_,g.providerId),jr(_,g)})).apply(this,arguments)}function Rr(w,g){return pi.apply(this,arguments)}function pi(){return(pi=(0,l.Z)(function*(w,g){return ue((0,Z.m9)(w),g)})).apply(this,arguments)}function ai(w,g){return li.apply(this,arguments)}function li(){return(li=(0,l.Z)(function*(w,g){return Jt(w,"POST","/v1/accounts:signInWithCustomToken",dt(w,g))})).apply(this,arguments)}function Pr(){return(Pr=(0,l.Z)(function*(w,g){const _=qt(w),T=yield ai(_,{token:g,returnSecureToken:!0}),Y=yield Gi._fromIdTokenResponse(_,"signIn",T);return yield _._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class qn{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?no._fromServerResponse(g,_):qe(g,"internal-error")}}class no extends qn{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new no(_)}}function z(w,g,_){var T;Ue((null===(T=_.url)||void 0===T?void 0:T.length)>0,w,"invalid-continue-uri"),Ue(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(Ue(_.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(Ue(_.android.packageName.length>0,w,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function k(){return(k=(0,l.Z)(function*(w,g,_){const T=(0,Z.m9)(w),Y={requestType:"PASSWORD_RESET",email:g};_&&z(T,Y,_),yield He(T,Y)})).apply(this,arguments)}function xt(){return(xt=(0,l.Z)(function*(w,g,_){yield Ar((0,Z.m9)(w),{oobCode:g,newPassword:_})})).apply(this,arguments)}function P(){return(P=(0,l.Z)(function*(w,g){yield Rt((0,Z.m9)(w),{oobCode:g})})).apply(this,arguments)}function b(w,g){return j.apply(this,arguments)}function j(){return(j=(0,l.Z)(function*(w,g){const _=(0,Z.m9)(w),T=yield Ar(_,{oobCode:g}),Y=T.requestType;switch(Ue(Y,_,"internal-error"),Y){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ue(T.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ue(T.mfaInfo,_,"internal-error");default:Ue(T.email,_,"internal-error")}let fe=null;return T.mfaInfo&&(fe=qn._fromServerResponse(qt(_),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:fe},operation:Y}})).apply(this,arguments)}function wt(){return(wt=(0,l.Z)(function*(w,g){const{data:_}=yield b((0,Z.m9)(w),g);return _.email})).apply(this,arguments)}function En(){return(En=(0,l.Z)(function*(w,g,_){const T=qt(w),Y=yield cs(T,{returnSecureToken:!0,email:g,password:_}),fe=yield Gi._fromIdTokenResponse(T,"signIn",Y);return yield T._updateCurrentUser(fe.user),fe})).apply(this,arguments)}function Ii(){return(Ii=(0,l.Z)(function*(w,g,_){const T=(0,Z.m9)(w),Y={requestType:"EMAIL_SIGNIN",email:g};Ue(_.handleCodeInApp,T,"argument-error"),_&&z(T,Y,_),yield ye(T,Y)})).apply(this,arguments)}function hs(){return(hs=(0,l.Z)(function*(w,g,_){const T=(0,Z.m9)(w),Y=_o.credentialWithLink(g,_||Xt());return Ue(Y._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),nn(T,Y)})).apply(this,arguments)}function Ti(w,g){return mi.apply(this,arguments)}function mi(){return(mi=(0,l.Z)(function*(w,g){return Kt(w,"POST","/v1/accounts:createAuthUri",dt(w,g))})).apply(this,arguments)}function Ys(){return(Ys=(0,l.Z)(function*(w,g){const T={identifier:g,continueUri:on()?Xt():"http://localhost"},{signinMethods:Y}=yield Ti((0,Z.m9)(w),T);return Y||[]})).apply(this,arguments)}function Ul(){return(Ul=(0,l.Z)(function*(w,g){const _=(0,Z.m9)(w),Y={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};g&&z(_.auth,Y,g);const{email:fe}=yield ee(_.auth,Y);fe!==w.email&&(yield w.reload())})).apply(this,arguments)}function zi(){return(zi=(0,l.Z)(function*(w,g,_){const T=(0,Z.m9)(w),fe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:g};_&&z(T.auth,fe,_);const{email:ht}=yield ut(T.auth,fe);ht!==w.email&&(yield w.reload())})).apply(this,arguments)}function Ya(w,g){return na.apply(this,arguments)}function na(){return(na=(0,l.Z)(function*(w,g){return Kt(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ma(){return(Ma=(0,l.Z)(function*(w,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const T=(0,Z.m9)(w),fe={idToken:yield T.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},ht=yield Qn(T,Ya(T.auth,fe));T.displayName=ht.displayName||null,T.photoURL=ht.photoUrl||null;const Ft=T.providerData.find(({providerId:bn})=>"password"===bn);Ft&&(Ft.displayName=T.displayName,Ft.photoURL=T.photoURL),yield T._updateTokensIfNecessary(ht)})).apply(this,arguments)}function Ks(w,g,_){return $o.apply(this,arguments)}function $o(){return($o=(0,l.Z)(function*(w,g,_){const{auth:T}=w,fe={idToken:yield w.getIdToken(),returnSecureToken:!0};g&&(fe.email=g),_&&(fe.password=_);const ht=yield Qn(w,In(T,fe));yield w._updateTokensIfNecessary(ht,!0)})).apply(this,arguments)}class Eo{constructor(g,_,T={}){this.isNewUser=g,this.providerId=_,this.profile=T}}class jl extends Eo{constructor(g,_,T,Y){super(g,_,T),this.username=Y}}class Ra extends Eo{constructor(g,_){super(g,"facebook.com",_)}}class Os extends jl{constructor(g,_){super(g,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class Ru extends Eo{constructor(g,_){super(g,"google.com",_)}}class ga extends jl{constructor(g,_,T){super(g,"twitter.com",_,T)}}function ns(w){const{user:g,_tokenResponse:_}=w;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Mu(w){var g,_;if(!w)return null;const{providerId:T}=w,Y=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},fe=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!T&&(null==w?void 0:w.idToken)){const ht=null===(_=null===(g=Gt(w.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(ht)return new Eo(fe,"anonymous"!==ht&&"custom"!==ht?ht:null)}if(!T)return null;switch(T){case"facebook.com":return new Ra(fe,Y);case"github.com":return new Os(fe,Y);case"google.com":return new Ru(fe,Y);case"twitter.com":return new ga(fe,Y,w.screenName||null);case"custom":case"anonymous":return new Eo(fe,null);default:return new Eo(fe,T,Y)}}(_)}class rs{constructor(g,_){this.type=g,this.credential=_}static _fromIdtoken(g){return new rs("enroll",g)}static _fromMfaPendingCredential(g){return new rs("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,T;if(null==g?void 0:g.multiFactorSession){if(null===(_=g.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return rs._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(T=g.multiFactorSession)||void 0===T?void 0:T.idToken)return rs._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Ao{constructor(g,_,T){this.session=g,this.hints=_,this.signInResolver=T}static _fromError(g,_){const T=qt(g),Y=_.customData._serverResponse,fe=(Y.mfaInfo||[]).map(Ft=>qn._fromServerResponse(T,Ft));Ue(Y.mfaPendingCredential,T,"internal-error");const ht=rs._fromMfaPendingCredential(Y.mfaPendingCredential);return new Ao(ht,fe,function(){var Ft=(0,l.Z)(function*(bn){const Vn=yield bn._process(T,ht);delete Y.mfaInfo,delete Y.mfaPendingCredential;const gr=Object.assign(Object.assign({},Y),{idToken:Vn.idToken,refreshToken:Vn.refreshToken});switch(_.operationType){case"signIn":const hr=yield Gi._fromIdTokenResponse(T,_.operationType,gr);return yield T._updateCurrentUser(hr.user),hr;case"reauthenticate":return Ue(_.user,T,"internal-error"),Gi._forOperation(_.user,_.operationType,gr);default:qe(T,"internal-error")}});return function(bn){return Ft.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,l.Z)(function*(){return _.signInResolver(g)})()}}function is(w,g){return Kt(w,"POST","/v2/accounts/mfaEnrollment:start",dt(w,g))}class ks{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(T=>qn._fromServerResponse(g.auth,T)))})}static _fromUser(g){return new ks(g)}getSession(){var g=this;return(0,l.Z)(function*(){return rs._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,_){var T=this;return(0,l.Z)(function*(){const Y=g,fe=yield T.getSession(),ht=yield Qn(T.user,Y._process(T.user.auth,fe,_));return yield T.user._updateTokensIfNecessary(ht),T.user.reload()})()}unenroll(g){var _=this;return(0,l.Z)(function*(){const T="string"==typeof g?g:g.uid,Y=yield _.user.getIdToken(),fe=yield Qn(_.user,function ka(w,g){return Kt(w,"POST","/v2/accounts/mfaEnrollment:withdraw",dt(w,g))}(_.user.auth,{idToken:Y,mfaEnrollmentId:T}));_.enrolledFactors=_.enrolledFactors.filter(({uid:ht})=>ht!==T),yield _.user._updateTokensIfNecessary(fe);try{yield _.user.reload()}catch(ht){if("auth/user-token-expired"!==ht.code)throw ht}})()}}const Zs=new WeakMap,Na="__sak";class qi{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Na,"1"),this.storage.removeItem(Na),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Vi=(()=>{class w extends qi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,T)=>this.onStorageEvent(_,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ia(){const w=(0,Z.z$)();return vr(w)||Wr(w)}()&&function Mr(){try{return!(!window||window===window.top)}catch(w){return!1}}(),this.fallbackToPolling=ci(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const T of Object.keys(this.listeners)){const Y=this.storage.getItem(T),fe=this.localCache[T];Y!==fe&&_(T,fe,Y)}}onStorageEvent(_,T=!1){if(!_.key)return void this.forAllChangedKeys((Ft,bn,Vn)=>{this.notifyListeners(Ft,Vn)});const Y=_.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ft=this.storage.getItem(Y);if(_.newValue!==Ft)null!==_.newValue?this.storage.setItem(Y,_.newValue):this.storage.removeItem(Y);else if(this.localCache[Y]===_.newValue&&!T)return}const fe=()=>{const Ft=this.storage.getItem(Y);!T&&this.localCache[Y]===Ft||this.notifyListeners(Y,Ft)},ht=this.storage.getItem(Y);!function ls(){return(0,Z.w1)()&&10===document.documentMode}()||ht===_.newValue||_.newValue===_.oldValue?fe():setTimeout(fe,10)}notifyListeners(_,T){this.localCache[_]=T;const Y=this.listeners[_];if(Y)for(const fe of Array.from(Y))fe(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,T,Y)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:T,newValue:Y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(T)}_removeListener(_,T){this.listeners[_]&&(this.listeners[_].delete(T),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,T){var Y=()=>super._set,fe=this;return(0,l.Z)(function*(){yield Y().call(fe,_,T),fe.localCache[_]=JSON.stringify(T)})()}_get(_){var T=()=>super._get,Y=this;return(0,l.Z)(function*(){const fe=yield T().call(Y,_);return Y.localCache[_]=JSON.stringify(fe),fe})()}_remove(_){var T=()=>super._remove,Y=this;return(0,l.Z)(function*(){yield T().call(Y,_),delete Y.localCache[_]})()}}return w.type="LOCAL",w})(),ho=(()=>{class w extends qi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,T){}_removeListener(_,T){}}return w.type="SESSION",w})();let sa=(()=>{class w{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const T=this.receivers.find(fe=>fe.isListeningto(_));if(T)return T;const Y=new w(_);return this.receivers.push(Y),Y}isListeningto(_){return this.eventTarget===_}handleEvent(_){var T=this;return(0,l.Z)(function*(){const Y=_,{eventId:fe,eventType:ht,data:Ft}=Y.data,bn=T.handlersMap[ht];if(!(null==bn?void 0:bn.size))return;Y.ports[0].postMessage({status:"ack",eventId:fe,eventType:ht});const Vn=Array.from(bn).map(function(){var hr=(0,l.Z)(function*(zr){return zr(Y.origin,Ft)});return function(zr){return hr.apply(this,arguments)}}()),gr=yield function Mo(w){return Promise.all(w.map(function(){var g=(0,l.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(T){return{fulfilled:!1,reason:T}}});return function(_){return g.apply(this,arguments)}}()))}(Vn);Y.ports[0].postMessage({status:"done",eventId:fe,eventType:ht,response:gr})})()}_subscribe(_,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(T)}_unsubscribe(_,T){this.handlersMap[_]&&T&&this.handlersMap[_].delete(T),(!T||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function ma(w="",g=10){let _="";for(let T=0;T<g;T++)_+=Math.floor(10*Math.random());return w+_}class Ei{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,T=50){var Y=this;return(0,l.Z)(function*(){const fe="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!fe)throw new Error("connection_unavailable");let ht,Ft;return new Promise((bn,Vn)=>{const gr=ma("",20);fe.port1.start();const hr=setTimeout(()=>{Vn(new Error("unsupported_event"))},T);Ft={messageChannel:fe,onMessage(zr){const Yo=zr;if(Yo.data.eventId===gr)switch(Yo.data.status){case"ack":clearTimeout(hr),ht=setTimeout(()=>{Vn(new Error("timeout"))},3e3);break;case"done":clearTimeout(ht),bn(Yo.data.response);break;default:clearTimeout(hr),clearTimeout(ht),Vn(new Error("invalid_response"))}}},Y.handlers.add(Ft),fe.port1.addEventListener("message",Ft.onMessage),Y.target.postMessage({eventType:g,eventId:gr,data:_},[fe.port2])}).finally(()=>{Ft&&Y.removeMessageHandler(Ft)})})()}}function Gr(){return window}function Es(){return void 0!==Gr().WorkerGlobalScope&&"function"==typeof Gr().importScripts}function Ro(){return(Ro=(0,l.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(w){return null}})).apply(this,arguments)}const Po="firebaseLocalStorageDb",Xs="firebaseLocalStorage",Ho="fbase_key";class ro{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Qs(w,g){return w.transaction([Xs],g?"readwrite":"readonly").objectStore(Xs)}function Oo(){const w=indexedDB.open(Po,1);return new Promise((g,_)=>{w.addEventListener("error",()=>{_(w.error)}),w.addEventListener("upgradeneeded",()=>{const T=w.result;try{T.createObjectStore(Xs,{keyPath:Ho})}catch(Y){_(Y)}}),w.addEventListener("success",(0,l.Z)(function*(){const T=w.result;T.objectStoreNames.contains(Xs)?g(T):(T.close(),yield function io(){const w=indexedDB.deleteDatabase(Po);return new ro(w).toPromise()}(),g(yield Oo()))}))})}function Yl(w,g,_){return ya.apply(this,arguments)}function ya(){return(ya=(0,l.Z)(function*(w,g,_){const T=Qs(w,!0).put({[Ho]:g,value:_});return new ro(T).toPromise()})).apply(this,arguments)}function Ja(){return(Ja=(0,l.Z)(function*(w,g){const _=Qs(w,!1).get(g),T=yield new ro(_).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function _a(w,g){const _=Qs(w,!0).delete(g);return new ro(_).toPromise()}const B=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,l.Z)(function*(){return _.db||(_.db=yield Oo()),_.db})()}_withRetries(_){var T=this;return(0,l.Z)(function*(){let Y=0;for(;;)try{const fe=yield T._openDb();return yield _(fe)}catch(fe){if(Y++>3)throw fe;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,l.Z)(function*(){return Es()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,l.Z)(function*(){_.receiver=sa._getInstance(function ku(){return Es()?self:null}()),_.receiver._subscribe("keyChanged",function(){var T=(0,l.Z)(function*(Y,fe){return{keyProcessed:(yield _._poll()).includes(fe.key)}});return function(Y,fe){return T.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var T=(0,l.Z)(function*(Y,fe){return["keyChanged"]});return function(Y,fe){return T.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,l.Z)(function*(){var T,Y;if(_.activeServiceWorker=yield function Xa(){return Ro.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Ei(_.activeServiceWorker);const fe=yield _.sender._send("ping",{},800);!fe||(null===(T=fe[0])||void 0===T?void 0:T.fulfilled)&&(null===(Y=fe[0])||void 0===Y?void 0:Y.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var T=this;return(0,l.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function Qa(){var w;return(null===(w=null==navigator?void 0:navigator.serviceWorker)||void 0===w?void 0:w.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:_},T.serviceWorkerReceiverAvailable?800:50)}catch(Y){}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Oo();return yield Yl(_,Na,"1"),yield _a(_,Na),!0}catch(_){}return!1})()}_withPendingWrite(_){var T=this;return(0,l.Z)(function*(){T.pendingWrites++;try{yield _()}finally{T.pendingWrites--}})()}_set(_,T){var Y=this;return(0,l.Z)(function*(){return Y._withPendingWrite((0,l.Z)(function*(){return yield Y._withRetries(fe=>Yl(fe,_,T)),Y.localCache[_]=T,Y.notifyServiceWorker(_)}))})()}_get(_){var T=this;return(0,l.Z)(function*(){const Y=yield T._withRetries(fe=>function yl(w,g){return Ja.apply(this,arguments)}(fe,_));return T.localCache[_]=Y,Y})()}_remove(_){var T=this;return(0,l.Z)(function*(){return T._withPendingWrite((0,l.Z)(function*(){return yield T._withRetries(Y=>_a(Y,_)),delete T.localCache[_],T.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,l.Z)(function*(){const T=yield _._withRetries(ht=>{const Ft=Qs(ht,!1).getAll();return new ro(Ft).toPromise()});if(!T)return[];if(0!==_.pendingWrites)return[];const Y=[],fe=new Set;for(const{fbase_key:ht,value:Ft}of T)fe.add(ht),JSON.stringify(_.localCache[ht])!==JSON.stringify(Ft)&&(_.notifyListeners(ht,Ft),Y.push(ht));for(const ht of Object.keys(_.localCache))_.localCache[ht]&&!fe.has(ht)&&(_.notifyListeners(ht,null),Y.push(ht));return Y})()}notifyListeners(_,T){this.localCache[_]=T;const Y=this.listeners[_];if(Y)for(const fe of Array.from(Y))fe(T)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(T)}_removeListener(_,T){this.listeners[_]&&(this.listeners[_].delete(T),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function q(w,g){return Kt(w,"POST","/v2/accounts/mfaSignIn:start",dt(w,g))}function Ye(){return(Ye=(0,l.Z)(function*(w){return(yield Kt(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Sn(w){return new Promise((g,_)=>{const T=document.createElement("script");T.setAttribute("src",w),T.onload=g,T.onerror=Y=>{const fe=Ae("internal-error");fe.customData=Y,_(fe)},T.type="text/javascript",T.charset="UTF-8",function Vt(){var w,g;return null!==(g=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==g?g:document}().appendChild(T)})}function Vr(w){return`__${w}${Math.floor(1e6*Math.random())}`}const Nr=1e12;class so{constructor(g){this.auth=g,this.counter=Nr,this._widgets=new Map}render(g,_){const T=this.counter;return this._widgets.set(T,new Go(g,this.auth.name,_||{})),this.counter++,T}reset(g){var _;const T=g||Nr;null===(_=this._widgets.get(T))||void 0===_||_.delete(),this._widgets.delete(T)}getResponse(g){var _;return(null===(_=this._widgets.get(g||Nr))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,l.Z)(function*(){var T;return null===(T=_._widgets.get(g||Nr))||void 0===T||T.execute(),""})()}}class Go{constructor(g,_,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Y="string"==typeof g?document.getElementById(g):g;Ue(Y,"argument-error",{appName:_}),this.container=Y,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function oa(w){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<w;T++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch(T){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(T){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const aa=Vr("rcb"),Fa=new at(3e4,6e4);class Wf{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Gr().grecaptcha}load(g,_=""){return Ue(function Kl(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(_),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Gr().grecaptcha):new Promise((T,Y)=>{const fe=Gr().setTimeout(()=>{Y(Ae(g,"network-request-failed"))},Fa.get());Gr()[aa]=()=>{Gr().clearTimeout(fe),delete Gr()[aa];const Ft=Gr().grecaptcha;if(!Ft)return void Y(Ae(g,"internal-error"));const bn=Ft.render;Ft.render=(Vn,gr)=>{const hr=bn(Vn,gr);return this.counter++,hr},this.hostLanguage=_,T(Ft)},Sn(`https://www.google.com/recaptcha/api.js??${(0,Z.xO)({onload:aa,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(fe),Y(Ae(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!Gr().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Lh{load(g){return(0,l.Z)(function*(){return new so(g)})()}clearedOneInstance(){}}const zo="recaptcha",Bn={theme:"light",type:"image"};class Nu{constructor(g,_=Object.assign({},Bn),T){this.parameters=_,this.type=zo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=qt(T),this.isInvisible="invisible"===this.parameters.size,Ue("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const Y="string"==typeof g?document.getElementById(g):g;Ue(Y,this.auth,"argument-error"),this.container=Y,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Lh:new Wf,this.validateStartingState()}verify(){var g=this;return(0,l.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),T=g.getAssertedRecaptcha();return T.getResponse(_)||new Promise(fe=>{const ht=Ft=>{!Ft||(g.tokenChangeListeners.delete(ht),fe(Ft))};g.tokenChangeListeners.add(ht),g.isInvisible&&T.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Ue(!this.parameters.sitekey,this.auth,"argument-error"),Ue(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ue("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(T=>T(_)),"function"==typeof g)g(_);else if("string"==typeof g){const T=Gr()[g];"function"==typeof T&&T(_)}}}assertNotDestroyed(){Ue(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,l.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const T=document.createElement("div");_.appendChild(T),_=T}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,l.Z)(function*(){Ue(on()&&!Es(),g.auth,"internal-error"),yield function Fr(){let w=null;return new Promise(g=>{"complete"!==document.readyState?(w=()=>g(),window.addEventListener("load",w)):g()}).catch(g=>{throw w&&window.removeEventListener("load",w),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function Pe(w){return Ye.apply(this,arguments)}(g.auth);Ue(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return Ue(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class la{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=Hi._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function Si(){return(Si=(0,l.Z)(function*(w,g,_){const T=qt(w),Y=yield Us(T,g,(0,Z.m9)(_));return new la(Y,fe=>nn(T,fe))})).apply(this,arguments)}function va(){return(va=(0,l.Z)(function*(w,g,_){const T=(0,Z.m9)(w);yield ne(!1,T,"phone");const Y=yield Us(T.auth,g,(0,Z.m9)(_));return new la(Y,fe=>or(T,fe))})).apply(this,arguments)}function Zl(){return(Zl=(0,l.Z)(function*(w,g,_){const T=(0,Z.m9)(w),Y=yield Us(T.auth,g,(0,Z.m9)(_));return new la(Y,fe=>Rr(T,fe))})).apply(this,arguments)}function Us(w,g,_){return bi.apply(this,arguments)}function bi(){return(bi=(0,l.Z)(function*(w,g,_){var T;const Y=yield _.verify();try{let fe;if(Ue("string"==typeof Y,w,"argument-error"),Ue(_.type===zo,w,"argument-error"),fe="string"==typeof g?{phoneNumber:g}:g,"session"in fe){const ht=fe.session;if("phoneNumber"in fe)return Ue("enroll"===ht.type,w,"internal-error"),(yield is(w,{idToken:ht.credential,phoneEnrollmentInfo:{phoneNumber:fe.phoneNumber,recaptchaToken:Y}})).phoneSessionInfo.sessionInfo;{Ue("signin"===ht.type,w,"internal-error");const Ft=(null===(T=fe.multiFactorHint)||void 0===T?void 0:T.uid)||fe.multiFactorUid;return Ue(Ft,w,"missing-multi-factor-info"),(yield q(w,{mfaPendingCredential:ht.credential,mfaEnrollmentId:Ft,phoneSignInInfo:{recaptchaToken:Y}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ht}=yield tt(w,{phoneNumber:fe.phoneNumber,recaptchaToken:Y});return ht}}finally{_._reset()}})).apply(this,arguments)}function Ui(){return(Ui=(0,l.Z)(function*(w,g){yield jr((0,Z.m9)(w),g)})).apply(this,arguments)}let Ns=(()=>{class w{constructor(_){this.providerId=w.PROVIDER_ID,this.auth=qt(_)}verifyPhoneNumber(_,T){return Us(this.auth,_,(0,Z.m9)(T))}static credential(_,T){return Hi._fromVerification(_,T)}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:T,temporaryProof:Y}=_;return T&&Y?Hi._fromTokenResponse(T,Y):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function La(w,g){return g?Ce(g):(Ue(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class sc extends Sr{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return cr(g,this._buildIdpRequest())}_linkToIdToken(g,_){return cr(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return cr(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function Ld(w){return Ot(w.auth,new sc(w),w.bypassAuthState)}function Hc(w){const{auth:g,user:_}=w;return Ue(_,g,"internal-error"),ue(_,new sc(w),w.bypassAuthState)}function oc(w){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,l.Z)(function*(w){const{auth:g,user:_}=w;return Ue(_,g,"internal-error"),jr(_,new sc(w),w.bypassAuthState)})).apply(this,arguments)}class $s{constructor(g,_,T,Y,fe=!1){this.auth=g,this.resolver=T,this.user=Y,this.bypassAuthState=fe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,l.Z)(function*(T,Y){g.pendingPromise={resolve:T,reject:Y};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(fe){g.reject(fe)}});return function(T,Y){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,l.Z)(function*(){const{urlResponse:T,sessionId:Y,postBody:fe,tenantId:ht,error:Ft,type:bn}=g;if(Ft)return void _.reject(Ft);const Vn={auth:_.auth,requestUri:T,sessionId:Y,tenantId:ht||void 0,postBody:fe||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(bn)(Vn))}catch(gr){_.reject(gr)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Ld;case"linkViaPopup":case"linkViaRedirect":return oc;case"reauthViaPopup":case"reauthViaRedirect":return Hc;default:qe(this.auth,"internal-error")}}resolve(g){Re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _l=new at(2e3,1e4);function Yi(){return(Yi=(0,l.Z)(function*(w,g,_){const T=qt(w);Dt(w,g,_s);const Y=La(T,_);return new bo(T,"signInViaPopup",g,Y).executeNotNull()})).apply(this,arguments)}function os(){return(os=(0,l.Z)(function*(w,g,_){const T=(0,Z.m9)(w);Dt(T.auth,g,_s);const Y=La(T.auth,_);return new bo(T.auth,"reauthViaPopup",g,Y,T).executeNotNull()})).apply(this,arguments)}function Fu(){return(Fu=(0,l.Z)(function*(w,g,_){const T=(0,Z.m9)(w);Dt(T.auth,g,_s);const Y=La(T.auth,_);return new bo(T.auth,"linkViaPopup",g,Y,T).executeNotNull()})).apply(this,arguments)}let bo=(()=>{class w extends $s{constructor(_,T,Y,fe,ht){super(_,T,fe,ht),this.provider=Y,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var _=this;return(0,l.Z)(function*(){const T=yield _.execute();return Ue(T,_.auth,"internal-error"),T})()}onExecution(){var _=this;return(0,l.Z)(function*(){Re(1===_.filter.length,"Popup operations only handle one event");const T=ma();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],T),_.authWindow.associatedEvent=T,_.resolver._originValidation(_.auth).catch(Y=>{_.reject(Y)}),_.resolver._isIframeWebStorageSupported(_.auth,Y=>{Y||_.reject(Ae(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Ae(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const _=()=>{var T,Y;this.pollId=(null===(Y=null===(T=this.authWindow)||void 0===T?void 0:T.window)||void 0===Y?void 0:Y.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ae(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,_l.get())};_()}}return w.currentPopupAction=null,w})();const nl=new Map;class ua extends $s{constructor(g,_,T=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,T),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,l.Z)(function*(){let T=nl.get(_.auth._key());if(!T){try{const fe=(yield function N(w,g){return W.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;T=()=>Promise.resolve(fe)}catch(Y){T=()=>Promise.reject(Y)}nl.set(_.auth._key(),T)}return _.bypassAuthState||nl.set(_.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,T=this;return(0,l.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(T,g);if("unknown"!==g.type){if(g.eventId){const Y=yield T.auth._redirectUserForId(g.eventId);if(Y)return T.user=Y,_().call(T,g);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function W(){return(W=(0,l.Z)(function*(w,g){const _=un(g),T=St(w);if(!(yield T._isAvailable()))return!1;const Y="true"===(yield T._get(_));return yield T._remove(_),Y})).apply(this,arguments)}function oe(w,g){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,l.Z)(function*(w,g){return St(w)._set(un(g),"true")})).apply(this,arguments)}function St(w){return Ce(w._redirectPersistence)}function un(w){return bt("pendingRedirect",w.config.apiKey,w.name)}function dr(){return(dr=(0,l.Z)(function*(w,g,_){const T=qt(w);Dt(w,g,_s);const Y=La(T,_);return yield oe(Y,T),Y._openRedirect(T,g,"signInViaRedirect")})).apply(this,arguments)}function Js(){return(Js=(0,l.Z)(function*(w,g,_){const T=(0,Z.m9)(w);Dt(T.auth,g,_s);const Y=La(T.auth,_);yield oe(Y,T.auth);const fe=yield Jl(T);return Y._openRedirect(T.auth,g,"reauthViaRedirect",fe)})).apply(this,arguments)}function rl(){return(rl=(0,l.Z)(function*(w,g,_){const T=(0,Z.m9)(w);Dt(T.auth,g,_s);const Y=La(T.auth,_);yield ne(!1,T,g.providerId),yield oe(Y,T.auth);const fe=yield Jl(T);return Y._openRedirect(T.auth,g,"linkViaRedirect",fe)})).apply(this,arguments)}function eo(){return(eo=(0,l.Z)(function*(w,g){return yield qt(w)._initializationPromise,ba(w,g,!1)})).apply(this,arguments)}function ba(w,g){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,l.Z)(function*(w,g,_=!1){const T=qt(w),Y=La(T,g),ht=yield new ua(T,Y,_).execute();return ht&&!_&&(delete ht.user._redirectEventId,yield T._persistUserIfCurrent(ht.user),yield T._setRedirectUser(null,g)),ht})).apply(this,arguments)}function Jl(w){return eu.apply(this,arguments)}function eu(){return(eu=(0,l.Z)(function*(w){const g=ma(`${w.uid}:::`);return w._redirectEventId=g,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),g})).apply(this,arguments)}class Lu{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(g,T)&&(_=!0,this.sendToConsumer(g,T),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function nu(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tu(w);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var T;if(g.error&&!tu(g)){const Y=(null===(T=g.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";_.onError(Ae(this.auth,Y))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const T=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&T}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(il(g))}saveEventToCache(g){this.cachedEventUids.add(il(g)),this.lastProcessedEventTime=Date.now()}}function il(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(g=>g).join("-")}function tu({type:w,error:g}){return"unknown"===w&&"auth/no-auth-event"===(null==g?void 0:g.code)}function vl(w){return El.apply(this,arguments)}function El(){return(El=(0,l.Z)(function*(w,g={}){return Kt(w,"GET","/v1/projects",g)})).apply(this,arguments)}const bl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bd=/^https?/;function sl(){return(sl=(0,l.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:g}=yield vl(w);for(const _ of g)try{if(ru(_))return}catch(T){}qe(w,"unauthorized-domain")})).apply(this,arguments)}function ru(w){const g=Xt(),{protocol:_,hostname:T}=new URL(g);if(w.startsWith("chrome-extension://")){const ht=new URL(w);return""===ht.hostname&&""===T?"chrome-extension:"===_&&w.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&ht.hostname===T}if(!Bd.test(_))return!1;if(bl.test(w))return T===w;const Y=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Y+"|"+Y+")$","i").test(T)}const zc=new at(3e4,6e4);function Vh(){const w=Gr().___jsl;if(null==w?void 0:w.H)for(const g of Object.keys(w.H))if(w.H[g].r=w.H[g].r||[],w.H[g].L=w.H[g].L||[],w.H[g].r=[...w.H[g].L],w.CP)for(let _=0;_<w.CP.length;_++)w.CP[_]=null}let uc=null;function sg(w){return uc=uc||function lc(w){return new Promise((g,_)=>{var T,Y,fe;function ht(){Vh(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Vh(),_(Ae(w,"network-request-failed"))},timeout:zc.get()})}if(null===(Y=null===(T=Gr().gapi)||void 0===T?void 0:T.iframes)||void 0===Y?void 0:Y.Iframe)g(gapi.iframes.getContext());else{if(!(null===(fe=Gr().gapi)||void 0===fe?void 0:fe.load)){const Ft=Vr("iframefcb");return Gr()[Ft]=()=>{gapi.load?ht():_(Ae(w,"network-request-failed"))},Sn(`https://apis.google.com/js/api.js?onload=${Ft}`).catch(bn=>_(bn))}ht()}}).catch(g=>{throw uc=null,g})}(w),uc}const Wc=new at(5e3,15e3),gs={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wo(w){const g=w.config;Ue(g.authDomain,w,"auth-domain-config-required");const _=g.emulator?lt(g,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,T={apiKey:g.apiKey,appName:w.name,v:Be.SDK_VERSION},Y=bs.get(w.config.apiHost);Y&&(T.eid=Y);const fe=w._getFrameworks();return fe.length&&(T.fw=fe.join(",")),`${_}?${(0,Z.xO)(T).slice(1)}`}function qc(){return qc=(0,l.Z)(function*(w){const g=yield sg(w),_=Gr().gapi;return Ue(_,w,"internal-error"),g.open({where:document.body,url:wo(w),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gs,dontclear:!0},T=>new Promise(function(){var Y=(0,l.Z)(function*(fe,ht){yield T.restyle({setHideOnLeave:!1});const Ft=Ae(w,"network-request-failed"),bn=Gr().setTimeout(()=>{ht(Ft)},Wc.get());function Vn(){Gr().clearTimeout(bn),fe(T)}T.ping(Vn).then(Vn,()=>{ht(Ft)})});return function(fe,ht){return Y.apply(this,arguments)}}()))}),qc.apply(this,arguments)}const og={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class iu{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function ol(w,g,_,T,Y,fe){Ue(w.config.authDomain,w,"auth-domain-config-required"),Ue(w.config.apiKey,w,"invalid-api-key");const ht={apiKey:w.config.apiKey,appName:w.name,authType:_,redirectUrl:T,v:Be.SDK_VERSION,eventId:Y};if(g instanceof _s){g.setDefaultLanguage(w.languageCode),ht.providerId=g.providerId||"",(0,Z.xb)(g.getCustomParameters())||(ht.customParameters=JSON.stringify(g.getCustomParameters()));for(const[bn,Vn]of Object.entries(fe||{}))ht[bn]=Vn}if(g instanceof ni){const bn=g.getScopes().filter(Vn=>""!==Vn);bn.length>0&&(ht.scopes=bn.join(","))}w.tenantId&&(ht.tid=w.tenantId);const Ft=ht;for(const bn of Object.keys(Ft))void 0===Ft[bn]&&delete Ft[bn];return`${function Kc({config:w}){return w.emulator?lt(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,Z.xO)(Ft).slice(1)}`}const ca="webStorageSupport";class $d extends class Cl{constructor(g){this.factorId=g}_process(g,_,T){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,T);case"signin":return this._finalizeSignIn(g,_.credential);default:return G("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new $d(g)}_finalizeEnroll(g,_,T){return function Oa(w,g){return Kt(w,"POST","/v2/accounts/mfaEnrollment:finalize",dt(w,g))}(g,{idToken:_,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function se(w,g){return Kt(w,"POST","/v2/accounts/mfaSignIn:finalize",dt(w,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Hh=(()=>{class w{constructor(){}static assertion(_){return $d._fromCredential(_)}}return w.FACTOR_ID="phone",w})();var Zc="@firebase/auth",Dl="0.19.12";class Bu{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,l.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(T=>{var Y;g((null===(Y=T)||void 0===Y?void 0:Y.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);!_||(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function su(){return window}function Fs(){return(Fs=(0,l.Z)(function*(w,g,_){var T;const{BuildInfo:Y}=su();Re(g.sessionId,"AuthEvent did not contain a session ID");const fe=yield Jc(g.sessionId),ht={};return Wr()?ht.ibi=Y.packageName:$r()?ht.apn=Y.packageName:qe(w,"operation-not-supported-in-this-environment"),Y.displayName&&(ht.appDisplayName=Y.displayName),ht.sessionId=fe,ol(w,_,g.type,void 0,null!==(T=g.eventId)&&void 0!==T?T:void 0,ht)})).apply(this,arguments)}function fo(){return(fo=(0,l.Z)(function*(w){const{BuildInfo:g}=su(),_={};Wr()?_.iosBundleId=g.packageName:$r()?_.androidPackageName=g.packageName:qe(w,"operation-not-supported-in-this-environment"),yield vl(w,_)})).apply(this,arguments)}function fc(){return(fc=(0,l.Z)(function*(w,g,_){const{cordova:T}=su();let Y=()=>{};try{yield new Promise((fe,ht)=>{let Ft=null;function bn(){var hr;fe();const zr=null===(hr=T.plugins.browsertab)||void 0===hr?void 0:hr.close;"function"==typeof zr&&zr(),"function"==typeof(null==_?void 0:_.close)&&_.close()}function Vn(){Ft||(Ft=window.setTimeout(()=>{ht(Ae(w,"redirect-cancelled-by-user"))},2e3))}function gr(){"visible"===(null==document?void 0:document.visibilityState)&&Vn()}g.addPassiveListener(bn),document.addEventListener("resume",Vn,!1),$r()&&document.addEventListener("visibilitychange",gr,!1),Y=()=>{g.removePassiveListener(bn),document.removeEventListener("resume",Vn,!1),document.removeEventListener("visibilitychange",gr,!1),Ft&&window.clearTimeout(Ft)}})}finally{Y()}})).apply(this,arguments)}function Jc(w){return au.apply(this,arguments)}function au(){return(au=(0,l.Z)(function*(w){const g=jd(w),_=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(_)).map(Y=>Y.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function jd(w){if(Re(/[0-9a-zA-Z]+/.test(w),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(w);const g=new ArrayBuffer(w.length),_=new Uint8Array(g);for(let T=0;T<w.length;T++)_[T]=w.charCodeAt(T);return _}!function oo(w){(0,Be._registerComponent)(new Ee.wA("auth",(g,{options:_})=>{const T=g.getProvider("app").getImmediate(),Y=g.getProvider("heartbeat"),{apiKey:fe,authDomain:ht}=T.options;return((Ft,bn)=>{Ue(fe&&!fe.includes(":"),"invalid-api-key",{appName:Ft.name}),Ue(!(null==ht?void 0:ht.includes(":")),"argument-error",{appName:Ft.name});const Vn={apiKey:fe,authDomain:ht,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hr(w)},gr=new Yr(Ft,bn,Vn);return function et(w,g){const _=(null==g?void 0:g.persistence)||[],T=(Array.isArray(_)?_:[_]).map(Ce);(null==g?void 0:g.errorMap)&&w._updateErrorMap(g.errorMap),w._initializeWithPersistence(T,null==g?void 0:g.popupRedirectResolver)}(gr,_),gr})(T,Y)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,T)=>{g.getProvider("auth-internal").initialize()})),(0,Be._registerComponent)(new Ee.wA("auth-internal",g=>{const _=qt(g.getProvider("auth").getImmediate());return new Bu(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Be.registerVersion)(Zc,Dl,function qf(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,Be.registerVersion)(Zc,Dl,"esm2017")}("Browser");class ed extends Lu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(g)),super.onEvent(g)}initialized(){var g=this;return(0,l.Z)(function*(){yield g.initPromise})()}}function Hd(w){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,l.Z)(function*(w){const g=yield nd()._get(rd(w));return g&&(yield nd()._remove(rd(w))),g})).apply(this,arguments)}function mc(){const w=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const T=Math.floor(Math.random()*g.length);w.push(g.charAt(T))}return w.join("")}function nd(){return Ce(Vi)}function rd(w){return bt("authEvent",w.config.apiKey,w.name)}function Uu(w){if(!(null==w?void 0:w.includes("?")))return{};const[g,..._]=w.split("?");return(0,Z.zd)(_.join("?"))}function Sl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ae("no-auth-event")}}function Ua(){var w;return(null===(w=null==self?void 0:self.location)||void 0===w?void 0:w.protocol)||null}function Gh(w=(0,Z.z$)()){return!("file:"!==Ua()&&"ionic:"!==Ua()||!w.toLowerCase().match(/iphone|ipad|ipod|android/))}function js(){try{const w=self.localStorage,g=ma();if(w)return w.setItem(g,"1"),w.removeItem(g),!function ko(w=(0,Z.z$)()){return function ju(){return(0,Z.w1)()&&11===(null==document?void 0:document.documentMode)}()||function zd(w=(0,Z.z$)()){return/Edge\/\d+/.test(w)}(w)}()||(0,Z.hl)()}catch(w){return cu()&&(0,Z.hl)()}return!1}function cu(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function $a(){return(function xl(){return"http:"===Ua()||"https:"===Ua()}()||(0,Z.ru)()||Gh())&&!function od(){return(0,Z.b$)()||(0,Z.UG)()}()&&js()&&!cu()}function Ia(){return Gh()&&"undefined"!=typeof document}function ja(){return(ja=(0,l.Z)(function*(){return!!Ia()&&new Promise(w=>{const g=setTimeout(()=>{w(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),w(!0)})})})).apply(this,arguments)}const Io={LOCAL:"local",NONE:"none",SESSION:"session"},Pi=Ue,hu="persistence";function fu(w){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,l.Z)(function*(w){yield w._initializationPromise;const g=qo(),_=bt(hu,w.config.apiKey,w.name);g&&g.setItem(_,w._getPersistence())})).apply(this,arguments)}function qo(){var w;try{return(null===(w=function du(){return"undefined"!=typeof window?window:null}())||void 0===w?void 0:w.sessionStorage)||null}catch(g){return null}}const Ml=Ue;class Ca{constructor(){this.browserResolver=Ce(class Va{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ho,this._completeRedirectFn=ba}_openPopup(g,_,T,Y){var fe=this;return(0,l.Z)(function*(){var ht;Re(null===(ht=fe.eventManagers[g._key()])||void 0===ht?void 0:ht.manager,"_initialize() not called before _openPopup()");const Ft=ol(g,_,T,Xt(),Y);return function $h(w,g,_,T=500,Y=600){const fe=Math.max((window.screen.availHeight-Y)/2,0).toString(),ht=Math.max((window.screen.availWidth-T)/2,0).toString();let Ft="";const bn=Object.assign(Object.assign({},og),{width:T.toString(),height:Y.toString(),top:fe,left:ht}),Vn=(0,Z.z$)().toLowerCase();_&&(Ft=ui(Vn)?"_blank":_),Un(Vn)&&(g=g||"http://localhost",bn.scrollbars="yes");const gr=Object.entries(bn).reduce((zr,[Yo,vc])=>`${zr}${Yo}=${vc},`,"");if(function Li(w=(0,Z.z$)()){var g;return Wr(w)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(Vn)&&"_self"!==Ft)return function Vd(w,g){const _=document.createElement("a");_.href=w,_.target=g;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(T)}(g||"",Ft),new iu(null);const hr=window.open(g||"",Ft,gr);Ue(hr,w,"popup-blocked");try{hr.focus()}catch(zr){}return new iu(hr)}(g,Ft,ma())})()}_openRedirect(g,_,T,Y){var fe=this;return(0,l.Z)(function*(){return yield fe._originValidation(g),function Za(w){Gr().location.href=w}(ol(g,_,T,Xt(),Y)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:Y,promise:fe}=this.eventManagers[_];return Y?Promise.resolve(Y):(Re(fe,"If manager is not set, promise should be"),fe)}const T=this.initAndGetManager(g);return this.eventManagers[_]={promise:T},T.catch(()=>{delete this.eventManagers[_]}),T}initAndGetManager(g){var _=this;return(0,l.Z)(function*(){const T=yield function hc(w){return qc.apply(this,arguments)}(g),Y=new Lu(g);return T.register("authEvent",fe=>(Ue(null==fe?void 0:fe.authEvent,g,"invalid-auth-event"),{status:Y.onEvent(fe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:Y},_.iframes[g._key()]=T,Y})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(ca,{type:ca},Y=>{var fe;const ht=null===(fe=null==Y?void 0:Y[0])||void 0===fe?void 0:fe[ca];void 0!==ht&&_(!!ht),qe(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Bh(w){return sl.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return ci()||vr()||Wr()}}),this.cordovaResolver=Ce(class Gd{constructor(){this._redirectPersistence=ho,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ba}_initialize(g){var _=this;return(0,l.Z)(function*(){const T=g._key();let Y=_.eventManagers.get(T);return Y||(Y=new ed(g),_.eventManagers.set(T,Y),_.attachCallbackListeners(g,Y)),Y})()}_openPopup(g){qe(g,"operation-not-supported-in-this-environment")}_openRedirect(g,_,T,Y){var fe=this;return(0,l.Z)(function*(){!function Vu(w){var g,_,T,Y,fe,ht,Ft,bn,Vn,gr;const hr=su();Ue("function"==typeof(null===(g=null==hr?void 0:hr.universalLinks)||void 0===g?void 0:g.subscribe),w,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ue(void 0!==(null===(_=null==hr?void 0:hr.BuildInfo)||void 0===_?void 0:_.packageName),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ue("function"==typeof(null===(fe=null===(Y=null===(T=null==hr?void 0:hr.cordova)||void 0===T?void 0:T.plugins)||void 0===Y?void 0:Y.browsertab)||void 0===fe?void 0:fe.openUrl),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ue("function"==typeof(null===(bn=null===(Ft=null===(ht=null==hr?void 0:hr.cordova)||void 0===ht?void 0:ht.plugins)||void 0===Ft?void 0:Ft.browsertab)||void 0===bn?void 0:bn.isAvailable),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ue("function"==typeof(null===(gr=null===(Vn=null==hr?void 0:hr.cordova)||void 0===Vn?void 0:Vn.InAppBrowser)||void 0===gr?void 0:gr.open),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const ht=yield fe._initialize(g);yield ht.initialized(),ht.resetRedirect(),function yt(){nl.clear()}(),yield fe._originValidation(g);const Ft=function ll(w,g,_=null){return{type:g,eventId:_,urlResponse:null,sessionId:mc(),postBody:null,tenantId:w.tenantId,error:Ae(w,"no-auth-event")}}(g,T,Y);yield function gc(w,g){return nd()._set(rd(w),g)}(g,Ft);const bn=yield function Xc(w,g,_){return Fs.apply(this,arguments)}(g,Ft,_),Vn=yield function ou(w){const{cordova:g}=su();return new Promise(_=>{g.plugins.browsertab.isAvailable(T=>{let Y=null;T?g.plugins.browsertab.openUrl(w):Y=g.InAppBrowser.open(w,function Kn(w=(0,Z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}()?"_blank":"_system","location=yes"),_(Y)})})}(bn);return function po(w,g,_){return fc.apply(this,arguments)}(g,ht,Vn)})()}_isIframeWebStorageSupported(g,_){throw new Error("Method not implemented.")}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Qc(w){return fo.apply(this,arguments)}(g)),this.originValidationPromises[_]}attachCallbackListeners(g,_){const{universalLinks:T,handleOpenURL:Y,BuildInfo:fe}=su(),ht=setTimeout((0,l.Z)(function*(){yield Hd(g),_.onEvent(Sl())}),500),Ft=function(){var gr=(0,l.Z)(function*(hr){clearTimeout(ht);const zr=yield Hd(g);let Yo=null;zr&&(null==hr?void 0:hr.url)&&(Yo=function td(w,g){var _,T;const Y=function lu(w){const g=Uu(w),_=g.link?decodeURIComponent(g.link):void 0,T=Uu(_).link,Y=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Uu(Y).link||Y||T||_||w}(g);if(Y.includes("/__/auth/callback")){const fe=Uu(Y),ht=fe.firebaseError?function id(w){try{return JSON.parse(w)}catch(g){return null}}(decodeURIComponent(fe.firebaseError)):null,Ft=null===(T=null===(_=null==ht?void 0:ht.code)||void 0===_?void 0:_.split("auth/"))||void 0===T?void 0:T[1],bn=Ft?Ae(Ft):null;return bn?{type:w.type,eventId:w.eventId,tenantId:w.tenantId,error:bn,urlResponse:null,sessionId:null,postBody:null}:{type:w.type,eventId:w.eventId,tenantId:w.tenantId,sessionId:w.sessionId,urlResponse:Y,postBody:null}}return null}(zr,hr.url)),_.onEvent(Yo||Sl())});return function(zr){return gr.apply(this,arguments)}}();void 0!==T&&"function"==typeof T.subscribe&&T.subscribe(null,Ft);const bn=Y,Vn=`${fe.packageName.toLowerCase()}://`;su().handleOpenURL=function(){var gr=(0,l.Z)(function*(hr){if(hr.toLowerCase().startsWith(Vn)&&Ft({url:hr}),"function"==typeof bn)try{bn(hr)}catch(zr){console.error(zr)}});return function(hr){return gr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=ho,this._completeRedirectFn=ba}_initialize(g){var _=this;return(0,l.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,_,T,Y){var fe=this;return(0,l.Z)(function*(){return yield fe.selectUnderlyingResolver(),fe.assertedUnderlyingResolver._openPopup(g,_,T,Y)})()}_openRedirect(g,_,T,Y){var fe=this;return(0,l.Z)(function*(){return yield fe.selectUnderlyingResolver(),fe.assertedUnderlyingResolver._openRedirect(g,_,T,Y)})()}_isIframeWebStorageSupported(g,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,_)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return Ia()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ml(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,l.Z)(function*(){if(g.underlyingResolver)return;const _=yield function xs(){return ja.apply(this,arguments)}();g.underlyingResolver=_?g.cordovaResolver:g.browserResolver})()}}function Wd(w){return w.unwrap()}function zh(w){return cl(w)}function cl(w){const{_tokenResponse:g}=w instanceof Z.ZR?w.customData:w;if(!g)return null;if(!(w instanceof Z.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return Ns.credentialFromResult(w);const _=g.providerId;if(!_||"password"===_)return null;let T;switch(_){case"google.com":T=us;break;case"facebook.com":T=Vs;break;case"github.com":T=co;break;case"twitter.com":T=Uo;break;default:const{oauthIdToken:Y,oauthAccessToken:fe,oauthTokenSecret:ht,pendingToken:Ft,nonce:bn}=g;return fe||ht||Y||Ft?Ft?_.startsWith("saml.")?Rs._create(_,Ft):Xe._fromParams({providerId:_,signInMethod:_,pendingToken:Ft,idToken:Y,accessToken:fe}):new Ni(_).credential({idToken:Y,accessToken:fe,rawNonce:bn}):null}return w instanceof Z.ZR?T.credentialFromError(w):T.credentialFromResult(w)}function Ls(w,g){return g.catch(_=>{throw _ instanceof Z.ZR&&function yc(w,g){var _;const T=null===(_=g.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===g.code)g.resolver=new Hu(w,function jo(w,g){var _;const T=(0,Z.m9)(w),Y=g;return Ue(g.customData.operationType,T,"argument-error"),Ue(null===(_=Y.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,T,"argument-error"),Ao._fromError(T,Y)}(w,g));else if(T){const Y=cl(g),fe=g;Y&&(fe.credential=Y,fe.tenantId=T.tenantId||void 0,fe.email=T.email||void 0,fe.phoneNumber=T.phoneNumber||void 0)}}(w,_),_}).then(_=>{const Y=_.user;return{operationType:_.operationType,credential:zh(_),additionalUserInfo:ns(_),user:dl.getOrCreate(Y)}})}function ad(w,g){return ld.apply(this,arguments)}function ld(){return(ld=(0,l.Z)(function*(w,g){const _=yield g;return{verificationId:_.verificationId,confirm:T=>Ls(w,_.confirm(T))}})).apply(this,arguments)}class Hu{constructor(g,_){this.resolver=_,this.auth=function pu(w){return w.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return Ls(Wd(this.auth),this.resolver.resolveSignIn(g))}}class dl{constructor(g){this._delegate=g,this.multiFactor=function xo(w){const g=(0,Z.m9)(w);return Zs.has(g)||Zs.set(g,ks._fromUser(g)),Zs.get(g)}(g)}static getOrCreate(g){return dl.USER_MAP.has(g)||dl.USER_MAP.set(g,new dl(g)),dl.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var _=this;return(0,l.Z)(function*(){return Ls(_.auth,or(_._delegate,g))})()}linkWithPhoneNumber(g,_){var T=this;return(0,l.Z)(function*(){return ad(T.auth,function ic(w,g,_){return va.apply(this,arguments)}(T._delegate,g,_))})()}linkWithPopup(g){var _=this;return(0,l.Z)(function*(){return Ls(_.auth,function Gc(w,g,_){return Fu.apply(this,arguments)}(_._delegate,g,Ca))})()}linkWithRedirect(g){var _=this;return(0,l.Z)(function*(){return yield fu(qt(_.auth)),function si(w,g,_){return function Ql(w,g,_){return rl.apply(this,arguments)}(w,g,_)}(_._delegate,g,Ca)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var _=this;return(0,l.Z)(function*(){return Ls(_.auth,Rr(_._delegate,g))})()}reauthenticateWithPhoneNumber(g,_){return ad(this.auth,function jc(w,g,_){return Zl.apply(this,arguments)}(this._delegate,g,_))}reauthenticateWithPopup(g){return Ls(this.auth,function Xl(w,g,_){return os.apply(this,arguments)}(this._delegate,g,Ca))}reauthenticateWithRedirect(g){var _=this;return(0,l.Z)(function*(){return yield fu(qt(_.auth)),function Qr(w,g,_){return function Lr(w,g,_){return Js.apply(this,arguments)}(w,g,_)}(_._delegate,g,Ca)})()}sendEmailVerification(g){return function Ps(w,g){return Ul.apply(this,arguments)}(this._delegate,g)}unlink(g){var _=this;return(0,l.Z)(function*(){return yield function Ss(w,g){return ds.apply(this,arguments)}(_._delegate,g),_})()}updateEmail(g){return function $l(w,g){return Ks((0,Z.m9)(w),g,null)}(this._delegate,g)}updatePassword(g){return function Ka(w,g){return Ks((0,Z.m9)(w),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function el(w,g){return Ui.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function So(w,g){return Ma.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,_){return function xa(w,g,_){return zi.apply(this,arguments)}(this._delegate,g,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}dl.USER_MAP=new WeakMap;const Rl=Ue;let gu=(()=>{class w{constructor(_,T){if(this.app=_,T.isInitialized())return this._delegate=T.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Y}=_.options;Rl(Y,"invalid-api-key",{appName:_.name}),Rl(Y,"invalid-api-key",{appName:_.name});const fe="undefined"!=typeof window?Ca:void 0;this._delegate=T.initialize({options:{persistence:ud(Y,_.name),popupRedirectResolver:fe}}),this._delegate._updateErrorMap(Oe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?dl.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,T){!function mr(w,g,_){const T=qt(w);Ue(T._canInitEmulator,T,"emulator-config-failed"),Ue(/^https?:\/\//.test(g),T,"invalid-emulator-scheme");const Y=!!(null==_?void 0:_.disableWarnings),fe=ri(g),{host:ht,port:Ft}=function oi(w){const g=ri(w),_=/(\/\/)?([^?#/]+)/.exec(w.substr(g.length));if(!_)return{host:"",port:null};const T=_[2].split("@").pop()||"",Y=/^(\[[^\]]+\])(:|$)/.exec(T);if(Y){const fe=Y[1];return{host:fe,port:Tr(T.substr(fe.length+1))}}{const[fe,ht]=T.split(":");return{host:fe,port:Tr(ht)}}}(g);T.config.emulator={url:`${fe}//${ht}${null===Ft?"":`:${Ft}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:ht,port:Ft,protocol:fe.replace(":",""),options:Object.freeze({disableWarnings:Y})}),Y||function gi(){function w(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}(this._delegate,_,T)}applyActionCode(_){return function v(w,g){return P.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return b(this._delegate,_)}confirmPasswordReset(_,T){return function re(w,g,_){return xt.apply(this,arguments)}(this._delegate,_,T)}createUserWithEmailAndPassword(_,T){var Y=this;return(0,l.Z)(function*(){return Ls(Y._delegate,function dn(w,g,_){return En.apply(this,arguments)}(Y._delegate,_,T))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function vo(w,g){return Ys.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function Bi(w,g){const _=lr.parseLink(g);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}(0,_)}getRedirectResult(){var _=this;return(0,l.Z)(function*(){Rl($a(),_._delegate,"operation-not-supported-in-this-environment");const T=yield function Ea(w,g){return eo.apply(this,arguments)}(_._delegate,Ca);return T?Ls(_._delegate,Promise.resolve(T)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function da(w,g){qt(w)._logFramework(g)}(this._delegate,_)}onAuthStateChanged(_,T,Y){const{next:fe,error:ht,complete:Ft}=Gu(_,T,Y);return this._delegate.onAuthStateChanged(fe,ht,Ft)}onIdTokenChanged(_,T,Y){const{next:fe,error:ht,complete:Ft}=Gu(_,T,Y);return this._delegate.onIdTokenChanged(fe,ht,Ft)}sendSignInLinkToEmail(_,T){return function ii(w,g,_){return Ii.apply(this,arguments)}(this._delegate,_,T)}sendPasswordResetEmail(_,T){return function F(w,g,_){return k.apply(this,arguments)}(this._delegate,_,T||void 0)}setPersistence(_){var T=this;return(0,l.Z)(function*(){let Y;switch(function No(w,g){Pi(Object.values(Io).includes(g),w,"invalid-persistence-type"),(0,Z.b$)()?Pi(g!==Io.SESSION,w,"unsupported-persistence-type"):(0,Z.UG)()?Pi(g===Io.NONE,w,"unsupported-persistence-type"):cu()?Pi(g===Io.NONE||g===Io.LOCAL&&(0,Z.hl)(),w,"unsupported-persistence-type"):Pi(g===Io.NONE||js(),w,"unsupported-persistence-type")}(T._delegate,_),_){case Io.SESSION:Y=ho;break;case Io.LOCAL:Y=(yield Ce(B)._isAvailable())?B:Vi;break;case Io.NONE:Y=je;break;default:return qe("argument-error",{appName:T._delegate.name})}return T._delegate.setPersistence(Y)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return Ls(this._delegate,function to(w){return Kr.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return Ls(this._delegate,nn(this._delegate,_))}signInWithCustomToken(_){return Ls(this._delegate,function qs(w,g){return Pr.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,T){return Ls(this._delegate,function wr(w,g,_){return nn((0,Z.m9)(w),_o.credential(g,_))}(this._delegate,_,T))}signInWithEmailLink(_,T){return Ls(this._delegate,function ts(w,g,_){return hs.apply(this,arguments)}(this._delegate,_,T))}signInWithPhoneNumber(_,T){return ad(this._delegate,function rc(w,g,_){return Si.apply(this,arguments)}(this._delegate,_,T))}signInWithPopup(_){var T=this;return(0,l.Z)(function*(){return Rl($a(),T._delegate,"operation-not-supported-in-this-environment"),Ls(T._delegate,function tl(w,g,_){return Yi.apply(this,arguments)}(T._delegate,_,Ca))})()}signInWithRedirect(_){var T=this;return(0,l.Z)(function*(){return Rl($a(),T._delegate,"operation-not-supported-in-this-environment"),yield fu(T._delegate),function Hn(w,g,_){return function pr(w,g,_){return dr.apply(this,arguments)}(w,g,_)}(T._delegate,_,Ca)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function J(w,g){return wt.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return w.Persistence=Io,w})();function Gu(w,g,_){let T=w;"function"!=typeof w&&({next:T,error:g,complete:_}=w);const Y=T;return{next:ht=>Y(ht&&dl.getOrCreate(ht)),error:g,complete:_}}function ud(w,g){const _=function ul(w,g){const _=qo();if(!_)return[];const T=bt(hu,w,g);switch(_.getItem(T)){case Io.NONE:return[je];case Io.LOCAL:return[B,ho];case Io.SESSION:return[ho];default:return[]}}(w,g);if("undefined"!=typeof self&&!_.includes(B)&&_.push(B),"undefined"!=typeof window)for(const T of[Vi,ho])_.includes(T)||_.push(T);return _.includes(je)||_.push(je),_}class _c{constructor(){this.providerId="phone",this._delegate=new Ns(Wd(X.Z.auth()))}static credential(g,_){return Ns.credential(g,_)}verifyPhoneNumber(g,_){return this._delegate.verifyPhoneNumber(g,_)}unwrap(){return this._delegate}}_c.PHONE_SIGN_IN_METHOD=Ns.PHONE_SIGN_IN_METHOD,_c.PROVIDER_ID=Ns.PROVIDER_ID;const cd=Ue;class dd{constructor(g,_,T=X.Z.app()){var Y;cd(null===(Y=T.options)||void 0===Y?void 0:Y.apiKey,"invalid-api-key",{appName:T.name}),this._delegate=new Nu(g,_,T.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Yd(w){w.INTERNAL.registerComponent(new Ee.wA("auth-compat",g=>{const _=g.getProvider("app-compat").getImmediate(),T=g.getProvider("auth");return new gu(_,T)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:_o,FacebookAuthProvider:Vs,GithubAuthProvider:co,GoogleAuthProvider:us,OAuthProvider:Ni,SAMLAuthProvider:vs,PhoneAuthProvider:_c,PhoneMultiFactorGenerator:Hh,RecaptchaVerifier:dd,TwitterAuthProvider:Uo,Auth:gu,AuthCredential:Sr,Error:Z.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),w.registerVersion("@firebase/auth-compat","0.2.12")}(X.Z)},591:(hn,ft,$)=>{"use strict";$.d(ft,{X:()=>Z});var l=$(8929),X=$(5279);class Z extends l.xQ{constructor(Se){super(),this._value=Se}get value(){return this.getValue()}_subscribe(Se){const ae=super._subscribe(Se);return ae&&!ae.closed&&Se.next(this._value),ae}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new X.N;return this._value}next(Se){super.next(this._value=Se)}}},2916:(hn,ft,$)=>{"use strict";$.d(ft,{y:()=>me});var l=$(3489),Z=$(7668),Be=$(3292),ae=$(3821),Ee=$(5379);var le=$(2830);let me=(()=>{class he{constructor(Oe){this._isScalar=!1,Oe&&(this._subscribe=Oe)}lift(Oe){const _e=new he;return _e.source=this,_e.operator=Oe,_e}subscribe(Oe,_e,ke){const{operator:Ve}=this,st=function Se(he,We,Oe){if(he){if(he instanceof l.L)return he;if(he[Z.b])return he[Z.b]()}return he||We||Oe?new l.L(he,We,Oe):new l.L(Be.c)}(Oe,_e,ke);if(st.add(Ve?Ve.call(st,this.source):this.source||le.v.useDeprecatedSynchronousErrorHandling&&!st.syncErrorThrowable?this._subscribe(st):this._trySubscribe(st)),le.v.useDeprecatedSynchronousErrorHandling&&st.syncErrorThrowable&&(st.syncErrorThrowable=!1,st.syncErrorThrown))throw st.syncErrorValue;return st}_trySubscribe(Oe){try{return this._subscribe(Oe)}catch(_e){le.v.useDeprecatedSynchronousErrorHandling&&(Oe.syncErrorThrown=!0,Oe.syncErrorValue=_e),function X(he){for(;he;){const{closed:We,destination:Oe,isStopped:_e}=he;if(We||_e)return!1;he=Oe&&Oe instanceof l.L?Oe:null}return!0}(Oe)?Oe.error(_e):console.warn(_e)}}forEach(Oe,_e){return new(_e=ie(_e))((ke,Ve)=>{let st;st=this.subscribe(Le=>{try{Oe(Le)}catch(qe){Ve(qe),st&&st.unsubscribe()}},Ve,ke)})}_subscribe(Oe){const{source:_e}=this;return _e&&_e.subscribe(Oe)}[ae.L](){return this}pipe(...Oe){return 0===Oe.length?this:function ge(he){return 0===he.length?Ee.y:1===he.length?he[0]:function(Oe){return he.reduce((_e,ke)=>ke(_e),Oe)}}(Oe)(this)}toPromise(Oe){return new(Oe=ie(Oe))((_e,ke)=>{let Ve;this.subscribe(st=>Ve=st,st=>ke(st),()=>_e(Ve))})}}return he.create=We=>new he(We),he})();function ie(he){if(he||(he=le.v.Promise||Promise),!he)throw new Error("no Promise impl found");return he}},3292:(hn,ft,$)=>{"use strict";$.d(ft,{c:()=>Z});var l=$(2830),X=$(2782);const Z={closed:!0,next(Be){},error(Be){if(l.v.useDeprecatedSynchronousErrorHandling)throw Be;(0,X.z)(Be)},complete(){}}},826:(hn,ft,$)=>{"use strict";$.d(ft,{L:()=>X});var l=$(3489);class X extends l.L{notifyNext(Be,Se,ae,Ee,de){this.destination.next(Se)}notifyError(Be,Se){this.destination.error(Be)}notifyComplete(Be){this.destination.complete()}}},8929:(hn,ft,$)=>{"use strict";$.d(ft,{Yc:()=>Ee,xQ:()=>de});var l=$(2916),X=$(3489),Z=$(2654),Be=$(5279),Se=$(5283),ae=$(7668);class Ee extends X.L{constructor(me){super(me),this.destination=me}}let de=(()=>{class le extends l.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ae.b](){return new Ee(this)}lift(ie){const he=new ge(this,this);return he.operator=ie,he}next(ie){if(this.closed)throw new Be.N;if(!this.isStopped){const{observers:he}=this,We=he.length,Oe=he.slice();for(let _e=0;_e<We;_e++)Oe[_e].next(ie)}}error(ie){if(this.closed)throw new Be.N;this.hasError=!0,this.thrownError=ie,this.isStopped=!0;const{observers:he}=this,We=he.length,Oe=he.slice();for(let _e=0;_e<We;_e++)Oe[_e].error(ie);this.observers.length=0}complete(){if(this.closed)throw new Be.N;this.isStopped=!0;const{observers:ie}=this,he=ie.length,We=ie.slice();for(let Oe=0;Oe<he;Oe++)We[Oe].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(ie){if(this.closed)throw new Be.N;return super._trySubscribe(ie)}_subscribe(ie){if(this.closed)throw new Be.N;return this.hasError?(ie.error(this.thrownError),Z.w.EMPTY):this.isStopped?(ie.complete(),Z.w.EMPTY):(this.observers.push(ie),new Se.W(this,ie))}asObservable(){const ie=new l.y;return ie.source=this,ie}}return le.create=(me,ie)=>new ge(me,ie),le})();class ge extends de{constructor(me,ie){super(),this.destination=me,this.source=ie}next(me){const{destination:ie}=this;ie&&ie.next&&ie.next(me)}error(me){const{destination:ie}=this;ie&&ie.error&&this.destination.error(me)}complete(){const{destination:me}=this;me&&me.complete&&this.destination.complete()}_subscribe(me){const{source:ie}=this;return ie?this.source.subscribe(me):Z.w.EMPTY}}},5283:(hn,ft,$)=>{"use strict";$.d(ft,{W:()=>X});var l=$(2654);class X extends l.w{constructor(Be,Se){super(),this.subject=Be,this.subscriber=Se,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Be=this.subject,Se=Be.observers;if(this.subject=null,!Se||0===Se.length||Be.isStopped||Be.closed)return;const ae=Se.indexOf(this.subscriber);-1!==ae&&Se.splice(ae,1)}}},3489:(hn,ft,$)=>{"use strict";$.d(ft,{L:()=>Ee});var l=$(7043),X=$(3292),Z=$(2654),Be=$(7668),Se=$(2830),ae=$(2782);class Ee extends Z.w{constructor(le,me,ie){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=X.c;break;case 1:if(!le){this.destination=X.c;break}if("object"==typeof le){le instanceof Ee?(this.syncErrorThrowable=le.syncErrorThrowable,this.destination=le,le.add(this)):(this.syncErrorThrowable=!0,this.destination=new de(this,le));break}default:this.syncErrorThrowable=!0,this.destination=new de(this,le,me,ie)}}[Be.b](){return this}static create(le,me,ie){const he=new Ee(le,me,ie);return he.syncErrorThrowable=!1,he}next(le){this.isStopped||this._next(le)}error(le){this.isStopped||(this.isStopped=!0,this._error(le))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(le){this.destination.next(le)}_error(le){this.destination.error(le),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:le}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=le,this}}class de extends Ee{constructor(le,me,ie,he){super(),this._parentSubscriber=le;let We,Oe=this;(0,l.m)(me)?We=me:me&&(We=me.next,ie=me.error,he=me.complete,me!==X.c&&(Oe=Object.create(me),(0,l.m)(Oe.unsubscribe)&&this.add(Oe.unsubscribe.bind(Oe)),Oe.unsubscribe=this.unsubscribe.bind(this))),this._context=Oe,this._next=We,this._error=ie,this._complete=he}next(le){if(!this.isStopped&&this._next){const{_parentSubscriber:me}=this;Se.v.useDeprecatedSynchronousErrorHandling&&me.syncErrorThrowable?this.__tryOrSetError(me,this._next,le)&&this.unsubscribe():this.__tryOrUnsub(this._next,le)}}error(le){if(!this.isStopped){const{_parentSubscriber:me}=this,{useDeprecatedSynchronousErrorHandling:ie}=Se.v;if(this._error)ie&&me.syncErrorThrowable?(this.__tryOrSetError(me,this._error,le),this.unsubscribe()):(this.__tryOrUnsub(this._error,le),this.unsubscribe());else if(me.syncErrorThrowable)ie?(me.syncErrorValue=le,me.syncErrorThrown=!0):(0,ae.z)(le),this.unsubscribe();else{if(this.unsubscribe(),ie)throw le;(0,ae.z)(le)}}}complete(){if(!this.isStopped){const{_parentSubscriber:le}=this;if(this._complete){const me=()=>this._complete.call(this._context);Se.v.useDeprecatedSynchronousErrorHandling&&le.syncErrorThrowable?(this.__tryOrSetError(le,me),this.unsubscribe()):(this.__tryOrUnsub(me),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(le,me){try{le.call(this._context,me)}catch(ie){if(this.unsubscribe(),Se.v.useDeprecatedSynchronousErrorHandling)throw ie;(0,ae.z)(ie)}}__tryOrSetError(le,me,ie){if(!Se.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{me.call(this._context,ie)}catch(he){return Se.v.useDeprecatedSynchronousErrorHandling?(le.syncErrorValue=he,le.syncErrorThrown=!0,!0):((0,ae.z)(he),!0)}return!1}_unsubscribe(){const{_parentSubscriber:le}=this;this._context=null,this._parentSubscriber=null,le.unsubscribe()}}},2654:(hn,ft,$)=>{"use strict";$.d(ft,{w:()=>ae});var l=$(6688),X=$(7830),Z=$(7043);const Se=(()=>{function de(ge){return Error.call(this),this.message=ge?`${ge.length} errors occurred during unsubscription:\n${ge.map((le,me)=>`${me+1}) ${le.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ge,this}return de.prototype=Object.create(Error.prototype),de})();class ae{constructor(ge){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ge&&(this._ctorUnsubscribe=!0,this._unsubscribe=ge)}unsubscribe(){let ge;if(this.closed)return;let{_parentOrParents:le,_ctorUnsubscribe:me,_unsubscribe:ie,_subscriptions:he}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,le instanceof ae)le.remove(this);else if(null!==le)for(let We=0;We<le.length;++We)le[We].remove(this);if((0,Z.m)(ie)){me&&(this._unsubscribe=void 0);try{ie.call(this)}catch(We){ge=We instanceof Se?Ee(We.errors):[We]}}if((0,l.k)(he)){let We=-1,Oe=he.length;for(;++We<Oe;){const _e=he[We];if((0,X.K)(_e))try{_e.unsubscribe()}catch(ke){ge=ge||[],ke instanceof Se?ge=ge.concat(Ee(ke.errors)):ge.push(ke)}}}if(ge)throw new Se(ge)}add(ge){let le=ge;if(!ge)return ae.EMPTY;switch(typeof ge){case"function":le=new ae(ge);case"object":if(le===this||le.closed||"function"!=typeof le.unsubscribe)return le;if(this.closed)return le.unsubscribe(),le;if(!(le instanceof ae)){const he=le;le=new ae,le._subscriptions=[he]}break;default:throw new Error("unrecognized teardown "+ge+" added to Subscription.")}let{_parentOrParents:me}=le;if(null===me)le._parentOrParents=this;else if(me instanceof ae){if(me===this)return le;le._parentOrParents=[me,this]}else{if(-1!==me.indexOf(this))return le;me.push(this)}const ie=this._subscriptions;return null===ie?this._subscriptions=[le]:ie.push(le),le}remove(ge){const le=this._subscriptions;if(le){const me=le.indexOf(ge);-1!==me&&le.splice(me,1)}}}var de;function Ee(de){return de.reduce((ge,le)=>ge.concat(le instanceof Se?le.errors:le),[])}ae.EMPTY=((de=new ae).closed=!0,de)},2830:(hn,ft,$)=>{"use strict";$.d(ft,{v:()=>X});let l=!1;const X={Promise:void 0,set useDeprecatedSynchronousErrorHandling(Z){if(Z){const Be=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Be.stack)}else l&&console.log("RxJS: Back to a better error behavior. Thank you. <3");l=Z},get useDeprecatedSynchronousErrorHandling(){return l}}},1177:(hn,ft,$)=>{"use strict";$.d(ft,{IY:()=>Be,Ds:()=>ae,ft:()=>de});var l=$(3489),X=$(2916),Z=$(9249);class Be extends l.L{constructor(le){super(),this.parent=le}_next(le){this.parent.notifyNext(le)}_error(le){this.parent.notifyError(le),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ae extends l.L{notifyNext(le){this.destination.next(le)}notifyError(le){this.destination.error(le)}notifyComplete(){this.destination.complete()}}function de(ge,le){if(le.closed)return;if(ge instanceof X.y)return ge.subscribe(le);let me;try{me=(0,Z.s)(ge)(le)}catch(ie){le.error(ie)}return me}},1762:(hn,ft,$)=>{"use strict";$.d(ft,{c:()=>Se,N:()=>ae});var l=$(8929),X=$(2916),Z=$(2654),Be=$(4327);class Se extends X.y{constructor(me,ie){super(),this.source=me,this.subjectFactory=ie,this._refCount=0,this._isComplete=!1}_subscribe(me){return this.getSubject().subscribe(me)}getSubject(){const me=this._subject;return(!me||me.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let me=this._connection;return me||(this._isComplete=!1,me=this._connection=new Z.w,me.add(this.source.subscribe(new Ee(this.getSubject(),this))),me.closed&&(this._connection=null,me=Z.w.EMPTY)),me}refCount(){return(0,Be.x)()(this)}}const ae=(()=>{const le=Se.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:le._subscribe},_isComplete:{value:le._isComplete,writable:!0},getSubject:{value:le.getSubject},connect:{value:le.connect},refCount:{value:le.refCount}}})();class Ee extends l.Yc{constructor(me,ie){super(me),this.connectable=ie}_error(me){this._unsubscribe(),super._error(me)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const me=this.connectable;if(me){this.connectable=null;const ie=me._connection;me._refCount=0,me._subject=null,me._connection=null,ie&&ie.unsubscribe()}}}},1221:(hn,ft,$)=>{"use strict";$.d(ft,{z:()=>Be});var l=$(1086),X=$(9146);function Be(...Se){return function Z(){return(0,X.J)(1)}()((0,l.of)(...Se))}},8896:(hn,ft,$)=>{"use strict";$.d(ft,{E:()=>X,c:()=>Z});var l=$(2916);const X=new l.y(Se=>Se.complete());function Z(Se){return Se?function Be(Se){return new l.y(ae=>Se.schedule(()=>ae.complete()))}(Se):X}},5254:(hn,ft,$)=>{"use strict";$.d(ft,{D:()=>Oe});var l=$(2916),X=$(9249),Z=$(2654),Be=$(3821),Ee=$(6454),de=$(5430),me=$(8955),ie=$(8515);function Oe(_e,ke){return ke?function We(_e,ke){if(null!=_e){if(function le(_e){return _e&&"function"==typeof _e[Be.L]}(_e))return function Se(_e,ke){return new l.y(Ve=>{const st=new Z.w;return st.add(ke.schedule(()=>{const Le=_e[Be.L]();st.add(Le.subscribe({next(qe){st.add(ke.schedule(()=>Ve.next(qe)))},error(qe){st.add(ke.schedule(()=>Ve.error(qe)))},complete(){st.add(ke.schedule(()=>Ve.complete()))}}))})),st})}(_e,ke);if((0,me.t)(_e))return function ae(_e,ke){return new l.y(Ve=>{const st=new Z.w;return st.add(ke.schedule(()=>_e.then(Le=>{st.add(ke.schedule(()=>{Ve.next(Le),st.add(ke.schedule(()=>Ve.complete()))}))},Le=>{st.add(ke.schedule(()=>Ve.error(Le)))}))),st})}(_e,ke);if((0,ie.z)(_e))return(0,Ee.r)(_e,ke);if(function he(_e){return _e&&"function"==typeof _e[de.hZ]}(_e)||"string"==typeof _e)return function ge(_e,ke){if(!_e)throw new Error("Iterable cannot be null");return new l.y(Ve=>{const st=new Z.w;let Le;return st.add(()=>{Le&&"function"==typeof Le.return&&Le.return()}),st.add(ke.schedule(()=>{Le=_e[de.hZ](),st.add(ke.schedule(function(){if(Ve.closed)return;let qe,Ae;try{const Ze=Le.next();qe=Ze.value,Ae=Ze.done}catch(Ze){return void Ve.error(Ze)}Ae?Ve.complete():(Ve.next(qe),this.schedule())}))})),st})}(_e,ke)}throw new TypeError((null!==_e&&typeof _e||_e)+" is not observable")}(_e,ke):_e instanceof l.y?_e:new l.y((0,X.s)(_e))}},3009:(hn,ft,$)=>{"use strict";$.d(ft,{n:()=>Be});var l=$(2916),X=$(3650),Z=$(6454);function Be(Se,ae){return ae?(0,Z.r)(Se,ae):new l.y((0,X.V)(Se))}},6787:(hn,ft,$)=>{"use strict";$.d(ft,{T:()=>Se});var l=$(2916),X=$(2866),Z=$(9146),Be=$(3009);function Se(...ae){let Ee=Number.POSITIVE_INFINITY,de=null,ge=ae[ae.length-1];return(0,X.K)(ge)?(de=ae.pop(),ae.length>1&&"number"==typeof ae[ae.length-1]&&(Ee=ae.pop())):"number"==typeof ge&&(Ee=ae.pop()),null===de&&1===ae.length&&ae[0]instanceof l.y?ae[0]:(0,Z.J)(Ee)((0,Be.n)(ae,de))}},1086:(hn,ft,$)=>{"use strict";$.d(ft,{of:()=>Be});var l=$(2866),X=$(3009),Z=$(6454);function Be(...Se){let ae=Se[Se.length-1];return(0,l.K)(ae)?(Se.pop(),(0,Z.r)(Se,ae)):(0,X.n)(Se)}},1737:(hn,ft,$)=>{"use strict";$.d(ft,{_:()=>X});var l=$(2916);function X(Be,Se){return new l.y(Se?ae=>Se.schedule(Z,0,{error:Be,subscriber:ae}):ae=>ae.error(Be))}function Z({error:Be,subscriber:Se}){Se.error(Be)}},1406:(hn,ft,$)=>{"use strict";$.d(ft,{b:()=>X});var l=$(1709);function X(Z,Be){return(0,l.zg)(Z,Be,1)}},7314:(hn,ft,$)=>{"use strict";$.d(ft,{d:()=>X});var l=$(3489);function X(Se=null){return ae=>ae.lift(new Z(Se))}class Z{constructor(ae){this.defaultValue=ae}call(ae,Ee){return Ee.subscribe(new Be(ae,this.defaultValue))}}class Be extends l.L{constructor(ae,Ee){super(ae),this.defaultValue=Ee,this.isEmpty=!0}_next(ae){this.isEmpty=!1,this.destination.next(ae)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5778:(hn,ft,$)=>{"use strict";$.d(ft,{x:()=>X});var l=$(3489);function X(Se,ae){return Ee=>Ee.lift(new Z(Se,ae))}class Z{constructor(ae,Ee){this.compare=ae,this.keySelector=Ee}call(ae,Ee){return Ee.subscribe(new Be(ae,this.compare,this.keySelector))}}class Be extends l.L{constructor(ae,Ee,de){super(ae),this.keySelector=de,this.hasKey=!1,"function"==typeof Ee&&(this.compare=Ee)}compare(ae,Ee){return ae===Ee}_next(ae){let Ee;try{const{keySelector:ge}=this;Ee=ge?ge(ae):ae}catch(ge){return this.destination.error(ge)}let de=!1;if(this.hasKey)try{const{compare:ge}=this;de=ge(this.key,Ee)}catch(ge){return this.destination.error(ge)}else this.hasKey=!0;de||(this.key=Ee,this.destination.next(ae))}}},2198:(hn,ft,$)=>{"use strict";$.d(ft,{h:()=>X});var l=$(3489);function X(Se,ae){return function(de){return de.lift(new Z(Se,ae))}}class Z{constructor(ae,Ee){this.predicate=ae,this.thisArg=Ee}call(ae,Ee){return Ee.subscribe(new Be(ae,this.predicate,this.thisArg))}}class Be extends l.L{constructor(ae,Ee,de){super(ae),this.predicate=Ee,this.thisArg=de,this.count=0}_next(ae){let Ee;try{Ee=this.predicate.call(this.thisArg,ae,this.count++)}catch(de){return void this.destination.error(de)}Ee&&this.destination.next(ae)}}},7224:(hn,ft,$)=>{"use strict";$.d(ft,{P:()=>Ee});var l=$(4450),X=$(2198),Z=$(2986),Be=$(7314),Se=$(4907),ae=$(5379);function Ee(de,ge){const le=arguments.length>=2;return me=>me.pipe(de?(0,X.h)((ie,he)=>de(ie,he,me)):ae.y,(0,Z.q)(1),le?(0,Be.d)(ge):(0,Se.T)(()=>new l.K))}},4850:(hn,ft,$)=>{"use strict";$.d(ft,{U:()=>X});var l=$(3489);function X(Se,ae){return function(de){if("function"!=typeof Se)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return de.lift(new Z(Se,ae))}}class Z{constructor(ae,Ee){this.project=ae,this.thisArg=Ee}call(ae,Ee){return Ee.subscribe(new Be(ae,this.project,this.thisArg))}}class Be extends l.L{constructor(ae,Ee,de){super(ae),this.project=Ee,this.count=0,this.thisArg=de||this}_next(ae){let Ee;try{Ee=this.project.call(this.thisArg,ae,this.count++)}catch(de){return void this.destination.error(de)}this.destination.next(Ee)}}},9146:(hn,ft,$)=>{"use strict";$.d(ft,{J:()=>Z});var l=$(1709),X=$(5379);function Z(Be=Number.POSITIVE_INFINITY){return(0,l.zg)(X.y,Be)}},1709:(hn,ft,$)=>{"use strict";$.d(ft,{zg:()=>Be});var l=$(4850),X=$(5254),Z=$(1177);function Be(de,ge,le=Number.POSITIVE_INFINITY){return"function"==typeof ge?me=>me.pipe(Be((ie,he)=>(0,X.D)(de(ie,he)).pipe((0,l.U)((We,Oe)=>ge(ie,We,he,Oe))),le)):("number"==typeof ge&&(le=ge),me=>me.lift(new Se(de,le)))}class Se{constructor(ge,le=Number.POSITIVE_INFINITY){this.project=ge,this.concurrent=le}call(ge,le){return le.subscribe(new ae(ge,this.project,this.concurrent))}}class ae extends Z.Ds{constructor(ge,le,me=Number.POSITIVE_INFINITY){super(ge),this.project=le,this.concurrent=me,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ge){this.active<this.concurrent?this._tryNext(ge):this.buffer.push(ge)}_tryNext(ge){let le;const me=this.index++;try{le=this.project(ge,me)}catch(ie){return void this.destination.error(ie)}this.active++,this._innerSub(le)}_innerSub(ge){const le=new Z.IY(this),me=this.destination;me.add(le);const ie=(0,Z.ft)(ge,le);ie!==le&&me.add(ie)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ge){this.destination.next(ge)}notifyComplete(){const ge=this.buffer;this.active--,ge.length>0?this._next(ge.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},2102:(hn,ft,$)=>{"use strict";$.d(ft,{ht:()=>ge,QV:()=>Ee});var l=$(3489),X=$(8896),Z=$(1086),Be=$(1737);class ae{constructor(ie,he,We){this.kind=ie,this.value=he,this.error=We,this.hasValue="N"===ie}observe(ie){switch(this.kind){case"N":return ie.next&&ie.next(this.value);case"E":return ie.error&&ie.error(this.error);case"C":return ie.complete&&ie.complete()}}do(ie,he,We){switch(this.kind){case"N":return ie&&ie(this.value);case"E":return he&&he(this.error);case"C":return We&&We()}}accept(ie,he,We){return ie&&"function"==typeof ie.next?this.observe(ie):this.do(ie,he,We)}toObservable(){switch(this.kind){case"N":return(0,Z.of)(this.value);case"E":return(0,Be._)(this.error);case"C":return(0,X.c)()}throw new Error("unexpected notification kind value")}static createNext(ie){return void 0!==ie?new ae("N",ie):ae.undefinedValueNotification}static createError(ie){return new ae("E",void 0,ie)}static createComplete(){return ae.completeNotification}}function Ee(me,ie=0){return function(We){return We.lift(new de(me,ie))}}ae.completeNotification=new ae("C"),ae.undefinedValueNotification=new ae("N",void 0);class de{constructor(ie,he=0){this.scheduler=ie,this.delay=he}call(ie,he){return he.subscribe(new ge(ie,this.scheduler,this.delay))}}class ge extends l.L{constructor(ie,he,We=0){super(ie),this.scheduler=he,this.delay=We}static dispatch(ie){const{notification:he,destination:We}=ie;he.observe(We),this.unsubscribe()}scheduleMessage(ie){this.destination.add(this.scheduler.schedule(ge.dispatch,this.delay,new le(ie,this.destination)))}_next(ie){this.scheduleMessage(ae.createNext(ie))}_error(ie){this.scheduleMessage(ae.createError(ie)),this.unsubscribe()}_complete(){this.scheduleMessage(ae.createComplete()),this.unsubscribe()}}class le{constructor(ie,he){this.notification=ie,this.destination=he}}},4327:(hn,ft,$)=>{"use strict";$.d(ft,{x:()=>X});var l=$(3489);function X(){return function(ae){return ae.lift(new Z(ae))}}class Z{constructor(ae){this.connectable=ae}call(ae,Ee){const{connectable:de}=this;de._refCount++;const ge=new Be(ae,de),le=Ee.subscribe(ge);return ge.closed||(ge.connection=de.connect()),le}}class Be extends l.L{constructor(ae,Ee){super(ae),this.connectable=Ee}_unsubscribe(){const{connectable:ae}=this;if(!ae)return void(this.connection=null);this.connectable=null;const Ee=ae._refCount;if(Ee<=0)return void(this.connection=null);if(ae._refCount=Ee-1,Ee>1)return void(this.connection=null);const{connection:de}=this,ge=ae._connection;this.connection=null,ge&&(!de||ge===de)&&ge.unsubscribe()}}},2014:(hn,ft,$)=>{"use strict";$.d(ft,{R:()=>X});var l=$(3489);function X(Se,ae){let Ee=!1;return arguments.length>=2&&(Ee=!0),function(ge){return ge.lift(new Z(Se,ae,Ee))}}class Z{constructor(ae,Ee,de=!1){this.accumulator=ae,this.seed=Ee,this.hasSeed=de}call(ae,Ee){return Ee.subscribe(new Be(ae,this.accumulator,this.seed,this.hasSeed))}}class Be extends l.L{constructor(ae,Ee,de,ge){super(ae),this.accumulator=Ee,this._seed=de,this.hasSeed=ge,this.index=0}get seed(){return this._seed}set seed(ae){this.hasSeed=!0,this._seed=ae}_next(ae){if(this.hasSeed)return this._tryNext(ae);this.seed=ae,this.destination.next(ae)}_tryNext(ae){const Ee=this.index++;let de;try{de=this.accumulator(this.seed,ae,Ee)}catch(ge){this.destination.error(ge)}this.seed=de,this.destination.next(de)}}},2474:(hn,ft,$)=>{"use strict";$.d(ft,{B:()=>Ee});var l=$(1762);class Z{constructor(ge,le){this.subjectFactory=ge,this.selector=le}call(ge,le){const{selector:me}=this,ie=this.subjectFactory(),he=me(ie).subscribe(ge);return he.add(le.subscribe(ie)),he}}var Be=$(4327),Se=$(8929);function ae(){return new Se.xQ}function Ee(){return de=>(0,Be.x)()(function X(de,ge){return function(me){let ie;if(ie="function"==typeof de?de:function(){return de},"function"==typeof ge)return me.lift(new Z(ie,ge));const he=Object.create(me,l.N);return he.source=me,he.subjectFactory=ie,he}}(ae)(de))}},1059:(hn,ft,$)=>{"use strict";$.d(ft,{O:()=>Z});var l=$(1221),X=$(2866);function Z(...Be){const Se=Be[Be.length-1];return(0,X.K)(Se)?(Be.pop(),ae=>(0,l.z)(Be,ae,Se)):ae=>(0,l.z)(Be,ae)}},8915:(hn,ft,$)=>{"use strict";$.d(ft,{R:()=>ke});var l=$(2916);let X=1;const Z=Promise.resolve(),Be={};function Se(st){return st in Be&&(delete Be[st],!0)}const ae={setImmediate(st){const Le=X++;return Be[Le]=!0,Z.then(()=>Se(Le)&&st()),Le},clearImmediate(st){Se(st)}};var de=$(6686),le=$(2268);const he=new class me extends le.v{flush(Le){this.active=!0,this.scheduled=void 0;const{actions:qe}=this;let Ae,Ze=-1,Dt=qe.length;Le=Le||qe.shift();do{if(Ae=Le.execute(Le.state,Le.delay))break}while(++Ze<Dt&&(Le=qe.shift()));if(this.active=!1,Ae){for(;++Ze<Dt&&(Le=qe.shift());)Le.unsubscribe();throw Ae}}}(class ge extends de.o{constructor(Le,qe){super(Le,qe),this.scheduler=Le,this.work=qe}requestAsyncId(Le,qe,Ae=0){return null!==Ae&&Ae>0?super.requestAsyncId(Le,qe,Ae):(Le.actions.push(this),Le.scheduled||(Le.scheduled=ae.setImmediate(Le.flush.bind(Le,null))))}recycleAsyncId(Le,qe,Ae=0){if(null!==Ae&&Ae>0||null===Ae&&this.delay>0)return super.recycleAsyncId(Le,qe,Ae);0===Le.actions.length&&(ae.clearImmediate(qe),Le.scheduled=void 0)}});var We=$(6688);class _e extends l.y{constructor(Le,qe=0,Ae=he){super(),this.source=Le,this.delayTime=qe,this.scheduler=Ae,(!function Oe(st){return!(0,We.k)(st)&&st-parseFloat(st)+1>=0}(qe)||qe<0)&&(this.delayTime=0),(!Ae||"function"!=typeof Ae.schedule)&&(this.scheduler=he)}static create(Le,qe=0,Ae=he){return new _e(Le,qe,Ae)}static dispatch(Le){const{source:qe,subscriber:Ae}=Le;return this.add(qe.subscribe(Ae))}_subscribe(Le){return this.scheduler.schedule(_e.dispatch,this.delayTime,{source:this.source,subscriber:Le})}}function ke(st,Le=0){return function(Ae){return Ae.lift(new Ve(st,Le))}}class Ve{constructor(Le,qe){this.scheduler=Le,this.delay=qe}call(Le,qe){return new _e(qe,this.delay,this.scheduler).subscribe(Le)}}},7545:(hn,ft,$)=>{"use strict";$.d(ft,{w:()=>Be});var l=$(4850),X=$(5254),Z=$(1177);function Be(Ee,de){return"function"==typeof de?ge=>ge.pipe(Be((le,me)=>(0,X.D)(Ee(le,me)).pipe((0,l.U)((ie,he)=>de(le,ie,me,he))))):ge=>ge.lift(new Se(Ee))}class Se{constructor(de){this.project=de}call(de,ge){return ge.subscribe(new ae(de,this.project))}}class ae extends Z.Ds{constructor(de,ge){super(de),this.project=ge,this.index=0}_next(de){let ge;const le=this.index++;try{ge=this.project(de,le)}catch(me){return void this.destination.error(me)}this._innerSub(ge)}_innerSub(de){const ge=this.innerSubscription;ge&&ge.unsubscribe();const le=new Z.IY(this),me=this.destination;me.add(le),this.innerSubscription=(0,Z.ft)(de,le),this.innerSubscription!==le&&me.add(this.innerSubscription)}_complete(){const{innerSubscription:de}=this;(!de||de.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(de){this.destination.next(de)}}},2986:(hn,ft,$)=>{"use strict";$.d(ft,{q:()=>Be});var l=$(3489),X=$(4231),Z=$(8896);function Be(Ee){return de=>0===Ee?(0,Z.c)():de.lift(new Se(Ee))}class Se{constructor(de){if(this.total=de,this.total<0)throw new X.W}call(de,ge){return ge.subscribe(new ae(de,this.total))}}class ae extends l.L{constructor(de,ge){super(de),this.total=ge,this.count=0}_next(de){const ge=this.total,le=++this.count;le<=ge&&(this.destination.next(de),le===ge&&(this.destination.complete(),this.unsubscribe()))}}},2868:(hn,ft,$)=>{"use strict";$.d(ft,{b:()=>Be});var l=$(3489);function X(){}var Z=$(7043);function Be(Ee,de,ge){return function(me){return me.lift(new Se(Ee,de,ge))}}class Se{constructor(de,ge,le){this.nextOrObserver=de,this.error=ge,this.complete=le}call(de,ge){return ge.subscribe(new ae(de,this.nextOrObserver,this.error,this.complete))}}class ae extends l.L{constructor(de,ge,le,me){super(de),this._tapNext=X,this._tapError=X,this._tapComplete=X,this._tapError=le||X,this._tapComplete=me||X,(0,Z.m)(ge)?(this._context=this,this._tapNext=ge):ge&&(this._context=ge,this._tapNext=ge.next||X,this._tapError=ge.error||X,this._tapComplete=ge.complete||X)}_next(de){try{this._tapNext.call(this._context,de)}catch(ge){return void this.destination.error(ge)}this.destination.next(de)}_error(de){try{this._tapError.call(this._context,de)}catch(ge){return void this.destination.error(ge)}this.destination.error(de)}_complete(){try{this._tapComplete.call(this._context)}catch(de){return void this.destination.error(de)}return this.destination.complete()}}},4907:(hn,ft,$)=>{"use strict";$.d(ft,{T:()=>Z});var l=$(4450),X=$(3489);function Z(Ee=ae){return de=>de.lift(new Be(Ee))}class Be{constructor(de){this.errorFactory=de}call(de,ge){return ge.subscribe(new Se(de,this.errorFactory))}}class Se extends X.L{constructor(de,ge){super(de),this.errorFactory=ge,this.hasValue=!1}_next(de){this.hasValue=!0,this.destination.next(de)}_complete(){if(this.hasValue)return this.destination.complete();{let de;try{de=this.errorFactory()}catch(ge){de=ge}this.destination.error(de)}}}function ae(){return new l.K}},6454:(hn,ft,$)=>{"use strict";$.d(ft,{r:()=>Z});var l=$(2916),X=$(2654);function Z(Be,Se){return new l.y(ae=>{const Ee=new X.w;let de=0;return Ee.add(Se.schedule(function(){de!==Be.length?(ae.next(Be[de++]),ae.closed||Ee.add(this.schedule())):ae.complete()})),Ee})}},6686:(hn,ft,$)=>{"use strict";$.d(ft,{o:()=>Z});var l=$(2654);class X extends l.w{constructor(Se,ae){super()}schedule(Se,ae=0){return this}}class Z extends X{constructor(Se,ae){super(Se,ae),this.scheduler=Se,this.work=ae,this.pending=!1}schedule(Se,ae=0){if(this.closed)return this;this.state=Se;const Ee=this.id,de=this.scheduler;return null!=Ee&&(this.id=this.recycleAsyncId(de,Ee,ae)),this.pending=!0,this.delay=ae,this.id=this.id||this.requestAsyncId(de,this.id,ae),this}requestAsyncId(Se,ae,Ee=0){return setInterval(Se.flush.bind(Se,this),Ee)}recycleAsyncId(Se,ae,Ee=0){if(null!==Ee&&this.delay===Ee&&!1===this.pending)return ae;clearInterval(ae)}execute(Se,ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ee=this._execute(Se,ae);if(Ee)return Ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Se,ae){let de,Ee=!1;try{this.work(Se)}catch(ge){Ee=!0,de=!!ge&&ge||new Error(ge)}if(Ee)return this.unsubscribe(),de}_unsubscribe(){const Se=this.id,ae=this.scheduler,Ee=ae.actions,de=Ee.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==de&&Ee.splice(de,1),null!=Se&&(this.id=this.recycleAsyncId(ae,Se,null)),this.delay=null}}},2268:(hn,ft,$)=>{"use strict";$.d(ft,{v:()=>X});let l=(()=>{class Z{constructor(Se,ae=Z.now){this.SchedulerAction=Se,this.now=ae}schedule(Se,ae=0,Ee){return new this.SchedulerAction(this,Se).schedule(Ee,ae)}}return Z.now=()=>Date.now(),Z})();class X extends l{constructor(Be,Se=l.now){super(Be,()=>X.delegate&&X.delegate!==this?X.delegate.now():Se()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Be,Se=0,ae){return X.delegate&&X.delegate!==this?X.delegate.schedule(Be,Se,ae):super.schedule(Be,Se,ae)}flush(Be){const{actions:Se}=this;if(this.active)return void Se.push(Be);let ae;this.active=!0;do{if(ae=Be.execute(Be.state,Be.delay))break}while(Be=Se.shift());if(this.active=!1,ae){for(;Be=Se.shift();)Be.unsubscribe();throw ae}}}},353:(hn,ft,$)=>{"use strict";$.d(ft,{z:()=>Z,P:()=>Be});var l=$(6686);const Z=new($(2268).v)(l.o),Be=Z},341:(hn,ft,$)=>{"use strict";$.d(ft,{c:()=>ae,N:()=>Se});var l=$(6686),Z=$(2268);const Se=new class Be extends Z.v{}(class X extends l.o{constructor(de,ge){super(de,ge),this.scheduler=de,this.work=ge}schedule(de,ge=0){return ge>0?super.schedule(de,ge):(this.delay=ge,this.state=de,this.scheduler.flush(this),this)}execute(de,ge){return ge>0||this.closed?super.execute(de,ge):this._execute(de,ge)}requestAsyncId(de,ge,le=0){return null!==le&&le>0||null===le&&this.delay>0?super.requestAsyncId(de,ge,le):de.flush(this)}}),ae=Se},5430:(hn,ft,$)=>{"use strict";$.d(ft,{hZ:()=>X});const X=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(hn,ft,$)=>{"use strict";$.d(ft,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(hn,ft,$)=>{"use strict";$.d(ft,{b:()=>l});const l="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},4231:(hn,ft,$)=>{"use strict";$.d(ft,{W:()=>X});const X=(()=>{function Z(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return Z.prototype=Object.create(Error.prototype),Z})()},4450:(hn,ft,$)=>{"use strict";$.d(ft,{K:()=>X});const X=(()=>{function Z(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return Z.prototype=Object.create(Error.prototype),Z})()},5279:(hn,ft,$)=>{"use strict";$.d(ft,{N:()=>X});const X=(()=>{function Z(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return Z.prototype=Object.create(Error.prototype),Z})()},2782:(hn,ft,$)=>{"use strict";function l(X){setTimeout(()=>{throw X},0)}$.d(ft,{z:()=>l})},5379:(hn,ft,$)=>{"use strict";function l(X){return X}$.d(ft,{y:()=>l})},6688:(hn,ft,$)=>{"use strict";$.d(ft,{k:()=>l});const l=Array.isArray||(X=>X&&"number"==typeof X.length)},8515:(hn,ft,$)=>{"use strict";$.d(ft,{z:()=>l});const l=X=>X&&"number"==typeof X.length&&"function"!=typeof X},7043:(hn,ft,$)=>{"use strict";function l(X){return"function"==typeof X}$.d(ft,{m:()=>l})},7830:(hn,ft,$)=>{"use strict";function l(X){return null!==X&&"object"==typeof X}$.d(ft,{K:()=>l})},8955:(hn,ft,$)=>{"use strict";function l(X){return!!X&&"function"!=typeof X.subscribe&&"function"==typeof X.then}$.d(ft,{t:()=>l})},2866:(hn,ft,$)=>{"use strict";function l(X){return X&&"function"==typeof X.schedule}$.d(ft,{K:()=>l})},9249:(hn,ft,$)=>{"use strict";$.d(ft,{s:()=>me});var l=$(3650),X=$(2782),Be=$(5430),ae=$(3821),de=$(8515),ge=$(8955),le=$(7830);const me=ie=>{if(ie&&"function"==typeof ie[ae.L])return(ie=>he=>{const We=ie[ae.L]();if("function"!=typeof We.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return We.subscribe(he)})(ie);if((0,de.z)(ie))return(0,l.V)(ie);if((0,ge.t)(ie))return(ie=>he=>(ie.then(We=>{he.closed||(he.next(We),he.complete())},We=>he.error(We)).then(null,X.z),he))(ie);if(ie&&"function"==typeof ie[Be.hZ])return(ie=>he=>{const We=ie[Be.hZ]();for(;;){let Oe;try{Oe=We.next()}catch(_e){return he.error(_e),he}if(Oe.done){he.complete();break}if(he.next(Oe.value),he.closed)break}return"function"==typeof We.return&&he.add(()=>{We.return&&We.return()}),he})(ie);{const We=`You provided ${(0,le.K)(ie)?"an invalid object":`'${ie}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(We)}}},3650:(hn,ft,$)=>{"use strict";$.d(ft,{V:()=>l});const l=X=>Z=>{for(let Be=0,Se=X.length;Be<Se&&!Z.closed;Be++)Z.next(X[Be]);Z.complete()}},448:(hn,ft,$)=>{"use strict";$.d(ft,{D:()=>Se});var l=$(3489);class X extends l.L{constructor(Ee,de,ge){super(),this.parent=Ee,this.outerValue=de,this.outerIndex=ge,this.index=0}_next(Ee){this.parent.notifyNext(this.outerValue,Ee,this.outerIndex,this.index++,this)}_error(Ee){this.parent.notifyError(Ee,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Z=$(9249),Be=$(2916);function Se(ae,Ee,de,ge,le=new X(ae,de,ge)){if(!le.closed)return Ee instanceof Be.y?Ee.subscribe(le):(0,Z.s)(Ee)(le)}},863:(hn,ft,$)=>{var l={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,53],"./ion-avatar_3.entry.js":[4753,8592,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[8372,8592,8372],"./ion-card_5.entry.js":[388,8592,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[657,8592,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime_3.entry.js":[4959,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,8034],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,2933],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,8592,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,8592,3804],"./ion-progress-bar.entry.js":[4174,8592,4174],"./ion-radio_2.entry.js":[4432,8592,4432],"./ion-range.entry.js":[3545,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,8592,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,8592,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,8592,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,8592,1536],"./ion-text.entry.js":[4376,8592,4376],"./ion-textarea.entry.js":[6560,8592,6560],"./ion-toast.entry.js":[6120,8592,6120],"./ion-toggle.entry.js":[5168,8592,5168],"./ion-virtual-scroll.entry.js":[2289,2289]};function X(Z){if(!$.o(l,Z))return Promise.resolve().then(()=>{var ae=new Error("Cannot find module '"+Z+"'");throw ae.code="MODULE_NOT_FOUND",ae});var Be=l[Z],Se=Be[0];return Promise.all(Be.slice(1).map($.e)).then(()=>$(Se))}X.keys=()=>Object.keys(l),X.id=863,hn.exports=X},655:(hn,ft,$)=>{"use strict";function Be(G,Re){var Te={};for(var Ce in G)Object.prototype.hasOwnProperty.call(G,Ce)&&Re.indexOf(Ce)<0&&(Te[Ce]=G[Ce]);if(null!=G&&"function"==typeof Object.getOwnPropertySymbols){var rt=0;for(Ce=Object.getOwnPropertySymbols(G);rt<Ce.length;rt++)Re.indexOf(Ce[rt])<0&&Object.prototype.propertyIsEnumerable.call(G,Ce[rt])&&(Te[Ce[rt]]=G[Ce[rt]])}return Te}function Se(G,Re,Te,Ce){var Xt,rt=arguments.length,et=rt<3?Re:null===Ce?Ce=Object.getOwnPropertyDescriptor(Re,Te):Ce;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)et=Reflect.decorate(G,Re,Te,Ce);else for(var on=G.length-1;on>=0;on--)(Xt=G[on])&&(et=(rt<3?Xt(et):rt>3?Xt(Re,Te,et):Xt(Re,Te))||et);return rt>3&&et&&Object.defineProperty(Re,Te,et),et}function de(G,Re,Te,Ce){return new(Te||(Te=Promise))(function(et,Xt){function on(Qe){try{it(Ce.next(Qe))}catch(at){Xt(at)}}function mt(Qe){try{it(Ce.throw(Qe))}catch(at){Xt(at)}}function it(Qe){Qe.done?et(Qe.value):function rt(et){return et instanceof Te?et:new Te(function(Xt){Xt(et)})}(Qe.value).then(on,mt)}it((Ce=Ce.apply(G,Re||[])).next())})}$.d(ft,{_T:()=>Be,gn:()=>Se,mG:()=>de})},9808:(hn,ft,$)=>{"use strict";$.d(ft,{mr:()=>st,ez:()=>Rs,K0:()=>Ee,uU:()=>kr,Do:()=>qe,V_:()=>le,Ye:()=>Ae,S$:()=>ke,mk:()=>Rt,sg:()=>qr,O5:()=>ee,RF:()=>ye,n9:()=>xe,ED:()=>ut,tP:()=>Ln,b0:()=>Le,lw:()=>de,gd:()=>Ir,EM:()=>br,JF:()=>jr,PM:()=>Gi,w_:()=>ae,bD:()=>es,q:()=>Z,Mx:()=>xi,HT:()=>Se});var l=$(5e3);let X=null;function Z(){return X}function Se(U){X||(X=U)}class ae{}const Ee=new l.OlP("DocumentToken");let de=(()=>{class U{historyGo(V){throw new Error("Not implemented")}}return U.\u0275fac=function(V){return new(V||U)},U.\u0275prov=l.Yz7({token:U,factory:function(){return function ge(){return(0,l.LFG)(me)}()},providedIn:"platform"}),U})();const le=new l.OlP("Location Initialized");let me=(()=>{class U extends de{constructor(V){super(),this._doc=V,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Z().getBaseHref(this._doc)}onPopState(V){const ue=Z().getGlobalEventTarget(this._doc,"window");return ue.addEventListener("popstate",V,!1),()=>ue.removeEventListener("popstate",V)}onHashChange(V){const ue=Z().getGlobalEventTarget(this._doc,"window");return ue.addEventListener("hashchange",V,!1),()=>ue.removeEventListener("hashchange",V)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(V){this.location.pathname=V}pushState(V,ue,Ke){ie()?this._history.pushState(V,ue,Ke):this.location.hash=Ke}replaceState(V,ue,Ke){ie()?this._history.replaceState(V,ue,Ke):this.location.hash=Ke}forward(){this._history.forward()}back(){this._history.back()}historyGo(V=0){this._history.go(V)}getState(){return this._history.state}}return U.\u0275fac=function(V){return new(V||U)(l.LFG(Ee))},U.\u0275prov=l.Yz7({token:U,factory:function(){return function he(){return new me((0,l.LFG)(Ee))}()},providedIn:"platform"}),U})();function ie(){return!!window.history.pushState}function We(U,ne){if(0==U.length)return ne;if(0==ne.length)return U;let V=0;return U.endsWith("/")&&V++,ne.startsWith("/")&&V++,2==V?U+ne.substring(1):1==V?U+ne:U+"/"+ne}function Oe(U){const ne=U.match(/#|\?|$/),V=ne&&ne.index||U.length;return U.slice(0,V-("/"===U[V-1]?1:0))+U.slice(V)}function _e(U){return U&&"?"!==U[0]?"?"+U:U}let ke=(()=>{class U{historyGo(V){throw new Error("Not implemented")}}return U.\u0275fac=function(V){return new(V||U)},U.\u0275prov=l.Yz7({token:U,factory:function(){return function Ve(U){const ne=(0,l.LFG)(Ee).location;return new Le((0,l.LFG)(de),ne&&ne.origin||"")}()},providedIn:"root"}),U})();const st=new l.OlP("appBaseHref");let Le=(()=>{class U extends ke{constructor(V,ue){if(super(),this._platformLocation=V,this._removeListenerFns=[],null==ue&&(ue=this._platformLocation.getBaseHrefFromDOM()),null==ue)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ue}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}prepareExternalUrl(V){return We(this._baseHref,V)}path(V=!1){const ue=this._platformLocation.pathname+_e(this._platformLocation.search),Ke=this._platformLocation.hash;return Ke&&V?`${ue}${Ke}`:ue}pushState(V,ue,Ke,Ot){const Wt=this.prepareExternalUrl(Ke+_e(Ot));this._platformLocation.pushState(V,ue,Wt)}replaceState(V,ue,Ke,Ot){const Wt=this.prepareExternalUrl(Ke+_e(Ot));this._platformLocation.replaceState(V,ue,Wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(V=0){var ue,Ke;null===(Ke=(ue=this._platformLocation).historyGo)||void 0===Ke||Ke.call(ue,V)}}return U.\u0275fac=function(V){return new(V||U)(l.LFG(de),l.LFG(st,8))},U.\u0275prov=l.Yz7({token:U,factory:U.\u0275fac}),U})(),qe=(()=>{class U extends ke{constructor(V,ue){super(),this._platformLocation=V,this._baseHref="",this._removeListenerFns=[],null!=ue&&(this._baseHref=ue)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}path(V=!1){let ue=this._platformLocation.hash;return null==ue&&(ue="#"),ue.length>0?ue.substring(1):ue}prepareExternalUrl(V){const ue=We(this._baseHref,V);return ue.length>0?"#"+ue:ue}pushState(V,ue,Ke,Ot){let Wt=this.prepareExternalUrl(Ke+_e(Ot));0==Wt.length&&(Wt=this._platformLocation.pathname),this._platformLocation.pushState(V,ue,Wt)}replaceState(V,ue,Ke,Ot){let Wt=this.prepareExternalUrl(Ke+_e(Ot));0==Wt.length&&(Wt=this._platformLocation.pathname),this._platformLocation.replaceState(V,ue,Wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(V=0){var ue,Ke;null===(Ke=(ue=this._platformLocation).historyGo)||void 0===Ke||Ke.call(ue,V)}}return U.\u0275fac=function(V){return new(V||U)(l.LFG(de),l.LFG(st,8))},U.\u0275prov=l.Yz7({token:U,factory:U.\u0275fac}),U})(),Ae=(()=>{class U{constructor(V,ue){this._subject=new l.vpe,this._urlChangeListeners=[],this._platformStrategy=V;const Ke=this._platformStrategy.getBaseHref();this._platformLocation=ue,this._baseHref=Oe(Ct(Ke)),this._platformStrategy.onPopState(Ot=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ot.state,type:Ot.type})})}path(V=!1){return this.normalize(this._platformStrategy.path(V))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(V,ue=""){return this.path()==this.normalize(V+_e(ue))}normalize(V){return U.stripTrailingSlash(function Dt(U,ne){return U&&ne.startsWith(U)?ne.substring(U.length):ne}(this._baseHref,Ct(V)))}prepareExternalUrl(V){return V&&"/"!==V[0]&&(V="/"+V),this._platformStrategy.prepareExternalUrl(V)}go(V,ue="",Ke=null){this._platformStrategy.pushState(Ke,"",V,ue),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+_e(ue)),Ke)}replaceState(V,ue="",Ke=null){this._platformStrategy.replaceState(Ke,"",V,ue),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+_e(ue)),Ke)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(V=0){var ue,Ke;null===(Ke=(ue=this._platformStrategy).historyGo)||void 0===Ke||Ke.call(ue,V)}onUrlChange(V){this._urlChangeListeners.push(V),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ue=>{this._notifyUrlChangeListeners(ue.url,ue.state)}))}_notifyUrlChangeListeners(V="",ue){this._urlChangeListeners.forEach(Ke=>Ke(V,ue))}subscribe(V,ue,Ke){return this._subject.subscribe({next:V,error:ue,complete:Ke})}}return U.normalizeQueryParams=_e,U.joinWithSlash=We,U.stripTrailingSlash=Oe,U.\u0275fac=function(V){return new(V||U)(l.LFG(ke),l.LFG(de))},U.\u0275prov=l.Yz7({token:U,factory:function(){return function Ze(){return new Ae((0,l.LFG)(ke),(0,l.LFG)(de))}()},providedIn:"root"}),U})();function Ct(U){return U.replace(/\/index.html$/,"")}var Te=(()=>((Te=Te||{})[Te.Format=0]="Format",Te[Te.Standalone=1]="Standalone",Te))(),Ce=(()=>((Ce=Ce||{})[Ce.Narrow=0]="Narrow",Ce[Ce.Abbreviated=1]="Abbreviated",Ce[Ce.Wide=2]="Wide",Ce[Ce.Short=3]="Short",Ce))(),rt=(()=>((rt=rt||{})[rt.Short=0]="Short",rt[rt.Medium=1]="Medium",rt[rt.Long=2]="Long",rt[rt.Full=3]="Full",rt))(),et=(()=>((et=et||{})[et.Decimal=0]="Decimal",et[et.Group=1]="Group",et[et.List=2]="List",et[et.PercentSign=3]="PercentSign",et[et.PlusSign=4]="PlusSign",et[et.MinusSign=5]="MinusSign",et[et.Exponential=6]="Exponential",et[et.SuperscriptingExponent=7]="SuperscriptingExponent",et[et.PerMille=8]="PerMille",et[et.Infinity=9]="Infinity",et[et.NaN=10]="NaN",et[et.TimeSeparator=11]="TimeSeparator",et[et.CurrencyDecimal=12]="CurrencyDecimal",et[et.CurrencyGroup=13]="CurrencyGroup",et))();function Je(U,ne){return Nn((0,l.cg1)(U)[l.wAp.DateFormat],ne)}function Tt(U,ne){return Nn((0,l.cg1)(U)[l.wAp.TimeFormat],ne)}function dt(U,ne){return Nn((0,l.cg1)(U)[l.wAp.DateTimeFormat],ne)}function Kt(U,ne){const V=(0,l.cg1)(U),ue=V[l.wAp.NumberSymbols][ne];if(void 0===ue){if(ne===et.CurrencyDecimal)return V[l.wAp.NumberSymbols][et.Decimal];if(ne===et.CurrencyGroup)return V[l.wAp.NumberSymbols][et.Group]}return ue}function yr(U){if(!U[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${U[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Nn(U,ne){for(let V=ne;V>-1;V--)if(void 0!==U[V])return U[V];throw new Error("Locale data API: locale data undefined")}function er(U){const[ne,V]=U.split(":");return{hours:+ne,minutes:+V}}const Fe=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ve={},Ht=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var At=(()=>((At=At||{})[At.Short=0]="Short",At[At.ShortGMT=1]="ShortGMT",At[At.Long=2]="Long",At[At.Extended=3]="Extended",At))(),Gt=(()=>((Gt=Gt||{})[Gt.FullYear=0]="FullYear",Gt[Gt.Month=1]="Month",Gt[Gt.Date=2]="Date",Gt[Gt.Hours=3]="Hours",Gt[Gt.Minutes=4]="Minutes",Gt[Gt.Seconds=5]="Seconds",Gt[Gt.FractionalSeconds=6]="FractionalSeconds",Gt[Gt.Day=7]="Day",Gt))(),gn=(()=>((gn=gn||{})[gn.DayPeriods=0]="DayPeriods",gn[gn.Days=1]="Days",gn[gn.Months=2]="Months",gn[gn.Eras=3]="Eras",gn))();function Qn(U,ne,V,ue){let Ke=function vr(U){if(Er(U))return U;if("number"==typeof U&&!isNaN(U))return new Date(U);if("string"==typeof U){if(U=U.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(U)){const[Ke,Ot=1,Wt=1]=U.split("-").map(nn=>+nn);return Gn(Ke,Ot-1,Wt)}const V=parseFloat(U);if(!isNaN(U-V))return new Date(V);let ue;if(ue=U.match(Fe))return function ui(U){const ne=new Date(0);let V=0,ue=0;const Ke=U[8]?ne.setUTCFullYear:ne.setFullYear,Ot=U[8]?ne.setUTCHours:ne.setHours;U[9]&&(V=Number(U[9]+U[10]),ue=Number(U[9]+U[11])),Ke.call(ne,Number(U[1]),Number(U[2])-1,Number(U[3]));const Wt=Number(U[4]||0)-V,nn=Number(U[5]||0)-ue,Zr=Number(U[6]||0),or=Math.floor(1e3*parseFloat("0."+(U[7]||0)));return Ot.call(ne,Wt,nn,Zr,or),ne}(ue)}const ne=new Date(U);if(!Er(ne))throw new Error(`Unable to convert "${U}" into a date`);return ne}(U);ne=Cn(V,ne)||ne;let nn,Wt=[];for(;ne;){if(nn=Ht.exec(ne),!nn){Wt.push(ne);break}{Wt=Wt.concat(nn.slice(1));const ur=Wt.pop();if(!ur)break;ne=ur}}let Zr=Ke.getTimezoneOffset();ue&&(Zr=pt(ue,Zr),Ke=function Un(U,ne,V){const ue=V?-1:1,Ke=U.getTimezoneOffset();return function sn(U,ne){return(U=new Date(U.getTime())).setMinutes(U.getMinutes()+ne),U}(U,ue*(pt(ne,Ke)-Ke))}(Ke,ue,!0));let or="";return Wt.forEach(ur=>{const Rr=function bt(U){if(je[U])return je[U];let ne;switch(U){case"G":case"GG":case"GGG":ne=Wn(gn.Eras,Ce.Abbreviated);break;case"GGGG":ne=Wn(gn.Eras,Ce.Wide);break;case"GGGGG":ne=Wn(gn.Eras,Ce.Narrow);break;case"y":ne=ln(Gt.FullYear,1,0,!1,!0);break;case"yy":ne=ln(Gt.FullYear,2,0,!0,!0);break;case"yyy":ne=ln(Gt.FullYear,3,0,!1,!0);break;case"yyyy":ne=ln(Gt.FullYear,4,0,!1,!0);break;case"Y":ne=Ie(1);break;case"YY":ne=Ie(2,!0);break;case"YYY":ne=Ie(3);break;case"YYYY":ne=Ie(4);break;case"M":case"L":ne=ln(Gt.Month,1,1);break;case"MM":case"LL":ne=ln(Gt.Month,2,1);break;case"MMM":ne=Wn(gn.Months,Ce.Abbreviated);break;case"MMMM":ne=Wn(gn.Months,Ce.Wide);break;case"MMMMM":ne=Wn(gn.Months,Ce.Narrow);break;case"LLL":ne=Wn(gn.Months,Ce.Abbreviated,Te.Standalone);break;case"LLLL":ne=Wn(gn.Months,Ce.Wide,Te.Standalone);break;case"LLLLL":ne=Wn(gn.Months,Ce.Narrow,Te.Standalone);break;case"w":ne=$e(1);break;case"ww":ne=$e(2);break;case"W":ne=$e(1,!0);break;case"d":ne=ln(Gt.Date,1);break;case"dd":ne=ln(Gt.Date,2);break;case"c":case"cc":ne=ln(Gt.Day,1);break;case"ccc":ne=Wn(gn.Days,Ce.Abbreviated,Te.Standalone);break;case"cccc":ne=Wn(gn.Days,Ce.Wide,Te.Standalone);break;case"ccccc":ne=Wn(gn.Days,Ce.Narrow,Te.Standalone);break;case"cccccc":ne=Wn(gn.Days,Ce.Short,Te.Standalone);break;case"E":case"EE":case"EEE":ne=Wn(gn.Days,Ce.Abbreviated);break;case"EEEE":ne=Wn(gn.Days,Ce.Wide);break;case"EEEEE":ne=Wn(gn.Days,Ce.Narrow);break;case"EEEEEE":ne=Wn(gn.Days,Ce.Short);break;case"a":case"aa":case"aaa":ne=Wn(gn.DayPeriods,Ce.Abbreviated);break;case"aaaa":ne=Wn(gn.DayPeriods,Ce.Wide);break;case"aaaaa":ne=Wn(gn.DayPeriods,Ce.Narrow);break;case"b":case"bb":case"bbb":ne=Wn(gn.DayPeriods,Ce.Abbreviated,Te.Standalone,!0);break;case"bbbb":ne=Wn(gn.DayPeriods,Ce.Wide,Te.Standalone,!0);break;case"bbbbb":ne=Wn(gn.DayPeriods,Ce.Narrow,Te.Standalone,!0);break;case"B":case"BB":case"BBB":ne=Wn(gn.DayPeriods,Ce.Abbreviated,Te.Format,!0);break;case"BBBB":ne=Wn(gn.DayPeriods,Ce.Wide,Te.Format,!0);break;case"BBBBB":ne=Wn(gn.DayPeriods,Ce.Narrow,Te.Format,!0);break;case"h":ne=ln(Gt.Hours,1,-12);break;case"hh":ne=ln(Gt.Hours,2,-12);break;case"H":ne=ln(Gt.Hours,1);break;case"HH":ne=ln(Gt.Hours,2);break;case"m":ne=ln(Gt.Minutes,1);break;case"mm":ne=ln(Gt.Minutes,2);break;case"s":ne=ln(Gt.Seconds,1);break;case"ss":ne=ln(Gt.Seconds,2);break;case"S":ne=ln(Gt.FractionalSeconds,1);break;case"SS":ne=ln(Gt.FractionalSeconds,2);break;case"SSS":ne=ln(Gt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ne=Nt(At.Short);break;case"ZZZZZ":ne=Nt(At.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ne=Nt(At.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ne=Nt(At.Long);break;default:return null}return je[U]=ne,ne}(ur);or+=Rr?Rr(Ke,V,Zr):"''"===ur?"'":ur.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),or}function Gn(U,ne,V){const ue=new Date(0);return ue.setFullYear(U,ne,V),ue.setHours(0,0,0),ue}function Cn(U,ne){const V=function on(U){return(0,l.cg1)(U)[l.wAp.LocaleId]}(U);if(ve[V]=ve[V]||{},ve[V][ne])return ve[V][ne];let ue="";switch(ne){case"shortDate":ue=Je(U,rt.Short);break;case"mediumDate":ue=Je(U,rt.Medium);break;case"longDate":ue=Je(U,rt.Long);break;case"fullDate":ue=Je(U,rt.Full);break;case"shortTime":ue=Tt(U,rt.Short);break;case"mediumTime":ue=Tt(U,rt.Medium);break;case"longTime":ue=Tt(U,rt.Long);break;case"fullTime":ue=Tt(U,rt.Full);break;case"short":const Ke=Cn(U,"shortTime"),Ot=Cn(U,"shortDate");ue=xn(dt(U,rt.Short),[Ke,Ot]);break;case"medium":const Wt=Cn(U,"mediumTime"),nn=Cn(U,"mediumDate");ue=xn(dt(U,rt.Medium),[Wt,nn]);break;case"long":const Zr=Cn(U,"longTime"),or=Cn(U,"longDate");ue=xn(dt(U,rt.Long),[Zr,or]);break;case"full":const ur=Cn(U,"fullTime"),Rr=Cn(U,"fullDate");ue=xn(dt(U,rt.Full),[ur,Rr])}return ue&&(ve[V][ne]=ue),ue}function xn(U,ne){return ne&&(U=U.replace(/\{([^}]+)}/g,function(V,ue){return null!=ne&&ue in ne?ne[ue]:V})),U}function ei(U,ne,V="-",ue,Ke){let Ot="";(U<0||Ke&&U<=0)&&(Ke?U=1-U:(U=-U,Ot=V));let Wt=String(U);for(;Wt.length<ne;)Wt="0"+Wt;return ue&&(Wt=Wt.substr(Wt.length-ne)),Ot+Wt}function ln(U,ne,V=0,ue=!1,Ke=!1){return function(Ot,Wt){let nn=function fr(U,ne){switch(U){case Gt.FullYear:return ne.getFullYear();case Gt.Month:return ne.getMonth();case Gt.Date:return ne.getDate();case Gt.Hours:return ne.getHours();case Gt.Minutes:return ne.getMinutes();case Gt.Seconds:return ne.getSeconds();case Gt.FractionalSeconds:return ne.getMilliseconds();case Gt.Day:return ne.getDay();default:throw new Error(`Unknown DateType value "${U}".`)}}(U,Ot);if((V>0||nn>-V)&&(nn+=V),U===Gt.Hours)0===nn&&-12===V&&(nn=12);else if(U===Gt.FractionalSeconds)return function _r(U,ne){return ei(U,3).substr(0,ne)}(nn,ne);const Zr=Kt(Wt,et.MinusSign);return ei(nn,ne,Zr,ue,Ke)}}function Wn(U,ne,V=Te.Format,ue=!1){return function(Ke,Ot){return function pn(U,ne,V,ue,Ke,Ot){switch(V){case gn.Months:return function Qe(U,ne,V){const ue=(0,l.cg1)(U),Ot=Nn([ue[l.wAp.MonthsFormat],ue[l.wAp.MonthsStandalone]],ne);return Nn(Ot,V)}(ne,Ke,ue)[U.getMonth()];case gn.Days:return function it(U,ne,V){const ue=(0,l.cg1)(U),Ot=Nn([ue[l.wAp.DaysFormat],ue[l.wAp.DaysStandalone]],ne);return Nn(Ot,V)}(ne,Ke,ue)[U.getDay()];case gn.DayPeriods:const Wt=U.getHours(),nn=U.getMinutes();if(Ot){const or=function Jn(U){const ne=(0,l.cg1)(U);return yr(ne),(ne[l.wAp.ExtraData][2]||[]).map(ue=>"string"==typeof ue?er(ue):[er(ue[0]),er(ue[1])])}(ne),ur=function rn(U,ne,V){const ue=(0,l.cg1)(U);yr(ue);const Ot=Nn([ue[l.wAp.ExtraData][0],ue[l.wAp.ExtraData][1]],ne)||[];return Nn(Ot,V)||[]}(ne,Ke,ue),Rr=or.findIndex(pi=>{if(Array.isArray(pi)){const[ai,li]=pi,qs=Wt>=ai.hours&&nn>=ai.minutes,Pr=Wt<li.hours||Wt===li.hours&&nn<li.minutes;if(ai.hours<li.hours){if(qs&&Pr)return!0}else if(qs||Pr)return!0}else if(pi.hours===Wt&&pi.minutes===nn)return!0;return!1});if(-1!==Rr)return ur[Rr]}return function mt(U,ne,V){const ue=(0,l.cg1)(U),Ot=Nn([ue[l.wAp.DayPeriodsFormat],ue[l.wAp.DayPeriodsStandalone]],ne);return Nn(Ot,V)}(ne,Ke,ue)[Wt<12?0:1];case gn.Eras:return function at(U,ne){return Nn((0,l.cg1)(U)[l.wAp.Eras],ne)}(ne,ue)[U.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${V}`)}}(Ke,Ot,U,ne,V,ue)}}function Nt(U){return function(ne,V,ue){const Ke=-1*ue,Ot=Kt(V,et.MinusSign),Wt=Ke>0?Math.floor(Ke/60):Math.ceil(Ke/60);switch(U){case At.Short:return(Ke>=0?"+":"")+ei(Wt,2,Ot)+ei(Math.abs(Ke%60),2,Ot);case At.ShortGMT:return"GMT"+(Ke>=0?"+":"")+ei(Wt,1,Ot);case At.Long:return"GMT"+(Ke>=0?"+":"")+ei(Wt,2,Ot)+":"+ei(Math.abs(Ke%60),2,Ot);case At.Extended:return 0===ue?"Z":(Ke>=0?"+":"")+ei(Wt,2,Ot)+":"+ei(Math.abs(Ke%60),2,Ot);default:throw new Error(`Unknown zone width "${U}"`)}}}function Yn(U){return Gn(U.getFullYear(),U.getMonth(),U.getDate()+(4-U.getDay()))}function $e(U,ne=!1){return function(V,ue){let Ke;if(ne){const Ot=new Date(V.getFullYear(),V.getMonth(),1).getDay()-1,Wt=V.getDate();Ke=1+Math.floor((Wt+Ot)/7)}else{const Ot=Yn(V),Wt=function sr(U){const ne=Gn(U,0,1).getDay();return Gn(U,0,1+(ne<=4?4:11)-ne)}(Ot.getFullYear()),nn=Ot.getTime()-Wt.getTime();Ke=1+Math.round(nn/6048e5)}return ei(Ke,U,Kt(ue,et.MinusSign))}}function Ie(U,ne=!1){return function(V,ue){return ei(Yn(V).getFullYear(),U,Kt(ue,et.MinusSign),ne)}}const je={};function pt(U,ne){U=U.replace(/:/g,"");const V=Date.parse("Jan 01, 1970 00:00:00 "+U)/6e4;return isNaN(V)?ne:V}function Er(U){return U instanceof Date&&!isNaN(U.valueOf())}function xi(U,ne){ne=encodeURIComponent(ne);for(const V of U.split(";")){const ue=V.indexOf("="),[Ke,Ot]=-1==ue?[V,""]:[V.slice(0,ue),V.slice(ue+1)];if(Ke.trim()===ne)return decodeURIComponent(Ot)}return null}let Rt=(()=>{class U{constructor(V,ue,Ke,Ot){this._iterableDiffers=V,this._keyValueDiffers=ue,this._ngEl=Ke,this._renderer=Ot,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(V){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof V?V.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(V){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof V?V.split(/\s+/):V,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const V=this._iterableDiffer.diff(this._rawClass);V&&this._applyIterableChanges(V)}else if(this._keyValueDiffer){const V=this._keyValueDiffer.diff(this._rawClass);V&&this._applyKeyValueChanges(V)}}_applyKeyValueChanges(V){V.forEachAddedItem(ue=>this._toggleClass(ue.key,ue.currentValue)),V.forEachChangedItem(ue=>this._toggleClass(ue.key,ue.currentValue)),V.forEachRemovedItem(ue=>{ue.previousValue&&this._toggleClass(ue.key,!1)})}_applyIterableChanges(V){V.forEachAddedItem(ue=>{if("string"!=typeof ue.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(ue.item)}`);this._toggleClass(ue.item,!0)}),V.forEachRemovedItem(ue=>this._toggleClass(ue.item,!1))}_applyClasses(V){V&&(Array.isArray(V)||V instanceof Set?V.forEach(ue=>this._toggleClass(ue,!0)):Object.keys(V).forEach(ue=>this._toggleClass(ue,!!V[ue])))}_removeClasses(V){V&&(Array.isArray(V)||V instanceof Set?V.forEach(ue=>this._toggleClass(ue,!1)):Object.keys(V).forEach(ue=>this._toggleClass(ue,!1)))}_toggleClass(V,ue){(V=V.trim())&&V.split(/\s+/g).forEach(Ke=>{ue?this._renderer.addClass(this._ngEl.nativeElement,Ke):this._renderer.removeClass(this._ngEl.nativeElement,Ke)})}}return U.\u0275fac=function(V){return new(V||U)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},U.\u0275dir=l.lG2({type:U,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),U})();class Mn{constructor(ne,V,ue,Ke){this.$implicit=ne,this.ngForOf=V,this.index=ue,this.count=Ke}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let qr=(()=>{class U{constructor(V,ue,Ke){this._viewContainer=V,this._template=ue,this._differs=Ke,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(V){this._ngForOf=V,this._ngForOfDirty=!0}set ngForTrackBy(V){this._trackByFn=V}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(V){V&&(this._template=V)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const V=this._ngForOf;!this._differ&&V&&(this._differ=this._differs.find(V).create(this.ngForTrackBy))}if(this._differ){const V=this._differ.diff(this._ngForOf);V&&this._applyChanges(V)}}_applyChanges(V){const ue=this._viewContainer;V.forEachOperation((Ke,Ot,Wt)=>{if(null==Ke.previousIndex)ue.createEmbeddedView(this._template,new Mn(Ke.item,this._ngForOf,-1,-1),null===Wt?void 0:Wt);else if(null==Wt)ue.remove(null===Ot?void 0:Ot);else if(null!==Ot){const nn=ue.get(Ot);ue.move(nn,Wt),Di(nn,Ke)}});for(let Ke=0,Ot=ue.length;Ke<Ot;Ke++){const nn=ue.get(Ke).context;nn.index=Ke,nn.count=Ot,nn.ngForOf=this._ngForOf}V.forEachIdentityChange(Ke=>{Di(ue.get(Ke.currentIndex),Ke)})}static ngTemplateContextGuard(V,ue){return!0}}return U.\u0275fac=function(V){return new(V||U)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},U.\u0275dir=l.lG2({type:U,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),U})();function Di(U,ne){U.context.$implicit=ne.item}let ee=(()=>{class U{constructor(V,ue){this._viewContainer=V,this._context=new pe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ue}set ngIf(V){this._context.$implicit=this._context.ngIf=V,this._updateView()}set ngIfThen(V){He("ngIfThen",V),this._thenTemplateRef=V,this._thenViewRef=null,this._updateView()}set ngIfElse(V){He("ngIfElse",V),this._elseTemplateRef=V,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(V,ue){return!0}}return U.\u0275fac=function(V){return new(V||U)(l.Y36(l.s_b),l.Y36(l.Rgc))},U.\u0275dir=l.lG2({type:U,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),U})();class pe{constructor(){this.$implicit=null,this.ngIf=null}}function He(U,ne){if(ne&&!ne.createEmbeddedView)throw new Error(`${U} must be a TemplateRef, but received '${(0,l.AaK)(ne)}'.`)}class ct{constructor(ne,V){this._viewContainerRef=ne,this._templateRef=V,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(ne){ne&&!this._created?this.create():!ne&&this._created&&this.destroy()}}let ye=(()=>{class U{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(V){this._ngSwitch=V,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(V){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(V)}_matchCase(V){const ue=V==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||ue,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),ue}_updateDefaultCases(V){if(this._defaultViews&&V!==this._defaultUsed){this._defaultUsed=V;for(let ue=0;ue<this._defaultViews.length;ue++)this._defaultViews[ue].enforceState(V)}}}return U.\u0275fac=function(V){return new(V||U)},U.\u0275dir=l.lG2({type:U,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),U})(),xe=(()=>{class U{constructor(V,ue,Ke){this.ngSwitch=Ke,Ke._addCase(),this._view=new ct(V,ue)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return U.\u0275fac=function(V){return new(V||U)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(ye,9))},U.\u0275dir=l.lG2({type:U,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),U})(),ut=(()=>{class U{constructor(V,ue,Ke){Ke._addDefault(new ct(V,ue))}}return U.\u0275fac=function(V){return new(V||U)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(ye,9))},U.\u0275dir=l.lG2({type:U,selectors:[["","ngSwitchDefault",""]]}),U})(),Ln=(()=>{class U{constructor(V){this._viewContainerRef=V,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(V){if(V.ngTemplateOutlet){const ue=this._viewContainerRef;this._viewRef&&ue.remove(ue.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?ue.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&V.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return U.\u0275fac=function(V){return new(V||U)(l.Y36(l.s_b))},U.\u0275dir=l.lG2({type:U,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[l.TTD]}),U})();function cr(U,ne){return new l.vHH(2100,"")}let Ir=(()=>{class U{transform(V){if(null==V)return null;if("string"!=typeof V)throw cr();return V.toUpperCase()}}return U.\u0275fac=function(V){return new(V||U)},U.\u0275pipe=l.Yjl({name:"uppercase",type:U,pure:!0}),U})();const Fn=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let kr=(()=>{class U{constructor(V,ue){this.locale=V,this.defaultTimezone=ue}transform(V,ue="mediumDate",Ke,Ot){var Wt;if(null==V||""===V||V!=V)return null;try{return Qn(V,ue,Ot||this.locale,null!==(Wt=null!=Ke?Ke:this.defaultTimezone)&&void 0!==Wt?Wt:void 0)}catch(nn){throw cr()}}}return U.\u0275fac=function(V){return new(V||U)(l.Y36(l.soG,16),l.Y36(Fn,24))},U.\u0275pipe=l.Yjl({name:"date",type:U,pure:!0}),U})(),Rs=(()=>{class U{}return U.\u0275fac=function(V){return new(V||U)},U.\u0275mod=l.oAB({type:U}),U.\u0275inj=l.cJS({}),U})();const es="browser";function Gi(U){return"server"===U}let br=(()=>{class U{}return U.\u0275prov=(0,l.Yz7)({token:U,providedIn:"root",factory:()=>new Ts((0,l.LFG)(Ee),window)}),U})();class Ts{constructor(ne,V){this.document=ne,this.window=V,this.offset=()=>[0,0]}setOffset(ne){this.offset=Array.isArray(ne)?()=>ne:ne}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ne){this.supportsScrolling()&&this.window.scrollTo(ne[0],ne[1])}scrollToAnchor(ne){if(!this.supportsScrolling())return;const V=function Ss(U,ne){const V=U.getElementById(ne)||U.getElementsByName(ne)[0];if(V)return V;if("function"==typeof U.createTreeWalker&&U.body&&(U.body.createShadowRoot||U.body.attachShadow)){const ue=U.createTreeWalker(U.body,NodeFilter.SHOW_ELEMENT);let Ke=ue.currentNode;for(;Ke;){const Ot=Ke.shadowRoot;if(Ot){const Wt=Ot.getElementById(ne)||Ot.querySelector(`[name="${ne}"]`);if(Wt)return Wt}Ke=ue.nextNode()}}return null}(this.document,ne);V&&(this.scrollToElement(V),V.focus())}setHistoryScrollRestoration(ne){if(this.supportScrollRestoration()){const V=this.window.history;V&&V.scrollRestoration&&(V.scrollRestoration=ne)}}scrollToElement(ne){const V=ne.getBoundingClientRect(),ue=V.left+this.window.pageXOffset,Ke=V.top+this.window.pageYOffset,Ot=this.offset();this.window.scrollTo(ue-Ot[0],Ke-Ot[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ne=Fi(this.window.history)||Fi(Object.getPrototypeOf(this.window.history));return!(!ne||!ne.writable&&!ne.set)}catch(ne){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(ne){return!1}}}function Fi(U){return Object.getOwnPropertyDescriptor(U,"scrollRestoration")}class jr{}},520:(hn,ft,$)=>{"use strict";$.d(ft,{TP:()=>on,eN:()=>et,JF:()=>er,WM:()=>le});var l=$(9808),X=$(5e3),Z=$(1086),Be=$(2916),Se=$(1406),ae=$(2198),Ee=$(4850);class de{}class ge{}class le{constructor(Fe){this.normalizedNames=new Map,this.lazyUpdate=null,Fe?this.lazyInit="string"==typeof Fe?()=>{this.headers=new Map,Fe.split("\n").forEach(ve=>{const Ht=ve.indexOf(":");if(Ht>0){const At=ve.slice(0,Ht),Gt=At.toLowerCase(),gn=ve.slice(Ht+1).trim();this.maybeSetNormalizedName(At,Gt),this.headers.has(Gt)?this.headers.get(Gt).push(gn):this.headers.set(Gt,[gn])}})}:()=>{this.headers=new Map,Object.keys(Fe).forEach(ve=>{let Ht=Fe[ve];const At=ve.toLowerCase();"string"==typeof Ht&&(Ht=[Ht]),Ht.length>0&&(this.headers.set(At,Ht),this.maybeSetNormalizedName(ve,At))})}:this.headers=new Map}has(Fe){return this.init(),this.headers.has(Fe.toLowerCase())}get(Fe){this.init();const ve=this.headers.get(Fe.toLowerCase());return ve&&ve.length>0?ve[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Fe){return this.init(),this.headers.get(Fe.toLowerCase())||null}append(Fe,ve){return this.clone({name:Fe,value:ve,op:"a"})}set(Fe,ve){return this.clone({name:Fe,value:ve,op:"s"})}delete(Fe,ve){return this.clone({name:Fe,value:ve,op:"d"})}maybeSetNormalizedName(Fe,ve){this.normalizedNames.has(ve)||this.normalizedNames.set(ve,Fe)}init(){this.lazyInit&&(this.lazyInit instanceof le?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Fe=>this.applyUpdate(Fe)),this.lazyUpdate=null))}copyFrom(Fe){Fe.init(),Array.from(Fe.headers.keys()).forEach(ve=>{this.headers.set(ve,Fe.headers.get(ve)),this.normalizedNames.set(ve,Fe.normalizedNames.get(ve))})}clone(Fe){const ve=new le;return ve.lazyInit=this.lazyInit&&this.lazyInit instanceof le?this.lazyInit:this,ve.lazyUpdate=(this.lazyUpdate||[]).concat([Fe]),ve}applyUpdate(Fe){const ve=Fe.name.toLowerCase();switch(Fe.op){case"a":case"s":let Ht=Fe.value;if("string"==typeof Ht&&(Ht=[Ht]),0===Ht.length)return;this.maybeSetNormalizedName(Fe.name,ve);const At=("a"===Fe.op?this.headers.get(ve):void 0)||[];At.push(...Ht),this.headers.set(ve,At);break;case"d":const Gt=Fe.value;if(Gt){let gn=this.headers.get(ve);if(!gn)return;gn=gn.filter(Qn=>-1===Gt.indexOf(Qn)),0===gn.length?(this.headers.delete(ve),this.normalizedNames.delete(ve)):this.headers.set(ve,gn)}else this.headers.delete(ve),this.normalizedNames.delete(ve)}}forEach(Fe){this.init(),Array.from(this.normalizedNames.keys()).forEach(ve=>Fe(this.normalizedNames.get(ve),this.headers.get(ve)))}}class me{encodeKey(Fe){return Oe(Fe)}encodeValue(Fe){return Oe(Fe)}decodeKey(Fe){return decodeURIComponent(Fe)}decodeValue(Fe){return decodeURIComponent(Fe)}}const he=/%(\d[a-f0-9])/gi,We={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Oe(ot){return encodeURIComponent(ot).replace(he,(Fe,ve)=>{var Ht;return null!==(Ht=We[ve])&&void 0!==Ht?Ht:Fe})}function _e(ot){return`${ot}`}class ke{constructor(Fe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Fe.encoder||new me,Fe.fromString){if(Fe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ie(ot,Fe){const ve=new Map;return ot.length>0&&ot.replace(/^\?/,"").split("&").forEach(At=>{const Gt=At.indexOf("="),[gn,Qn]=-1==Gt?[Fe.decodeKey(At),""]:[Fe.decodeKey(At.slice(0,Gt)),Fe.decodeValue(At.slice(Gt+1))],Gn=ve.get(gn)||[];Gn.push(Qn),ve.set(gn,Gn)}),ve}(Fe.fromString,this.encoder)}else Fe.fromObject?(this.map=new Map,Object.keys(Fe.fromObject).forEach(ve=>{const Ht=Fe.fromObject[ve];this.map.set(ve,Array.isArray(Ht)?Ht:[Ht])})):this.map=null}has(Fe){return this.init(),this.map.has(Fe)}get(Fe){this.init();const ve=this.map.get(Fe);return ve?ve[0]:null}getAll(Fe){return this.init(),this.map.get(Fe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Fe,ve){return this.clone({param:Fe,value:ve,op:"a"})}appendAll(Fe){const ve=[];return Object.keys(Fe).forEach(Ht=>{const At=Fe[Ht];Array.isArray(At)?At.forEach(Gt=>{ve.push({param:Ht,value:Gt,op:"a"})}):ve.push({param:Ht,value:At,op:"a"})}),this.clone(ve)}set(Fe,ve){return this.clone({param:Fe,value:ve,op:"s"})}delete(Fe,ve){return this.clone({param:Fe,value:ve,op:"d"})}toString(){return this.init(),this.keys().map(Fe=>{const ve=this.encoder.encodeKey(Fe);return this.map.get(Fe).map(Ht=>ve+"="+this.encoder.encodeValue(Ht)).join("&")}).filter(Fe=>""!==Fe).join("&")}clone(Fe){const ve=new ke({encoder:this.encoder});return ve.cloneFrom=this.cloneFrom||this,ve.updates=(this.updates||[]).concat(Fe),ve}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Fe=>this.map.set(Fe,this.cloneFrom.map.get(Fe))),this.updates.forEach(Fe=>{switch(Fe.op){case"a":case"s":const ve=("a"===Fe.op?this.map.get(Fe.param):void 0)||[];ve.push(_e(Fe.value)),this.map.set(Fe.param,ve);break;case"d":if(void 0===Fe.value){this.map.delete(Fe.param);break}{let Ht=this.map.get(Fe.param)||[];const At=Ht.indexOf(_e(Fe.value));-1!==At&&Ht.splice(At,1),Ht.length>0?this.map.set(Fe.param,Ht):this.map.delete(Fe.param)}}}),this.cloneFrom=this.updates=null)}}class st{constructor(){this.map=new Map}set(Fe,ve){return this.map.set(Fe,ve),this}get(Fe){return this.map.has(Fe)||this.map.set(Fe,Fe.defaultValue()),this.map.get(Fe)}delete(Fe){return this.map.delete(Fe),this}has(Fe){return this.map.has(Fe)}keys(){return this.map.keys()}}function qe(ot){return"undefined"!=typeof ArrayBuffer&&ot instanceof ArrayBuffer}function Ae(ot){return"undefined"!=typeof Blob&&ot instanceof Blob}function Ze(ot){return"undefined"!=typeof FormData&&ot instanceof FormData}class Ct{constructor(Fe,ve,Ht,At){let Gt;if(this.url=ve,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Fe.toUpperCase(),function Le(ot){switch(ot){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||At?(this.body=void 0!==Ht?Ht:null,Gt=At):Gt=Ht,Gt&&(this.reportProgress=!!Gt.reportProgress,this.withCredentials=!!Gt.withCredentials,Gt.responseType&&(this.responseType=Gt.responseType),Gt.headers&&(this.headers=Gt.headers),Gt.context&&(this.context=Gt.context),Gt.params&&(this.params=Gt.params)),this.headers||(this.headers=new le),this.context||(this.context=new st),this.params){const gn=this.params.toString();if(0===gn.length)this.urlWithParams=ve;else{const Qn=ve.indexOf("?");this.urlWithParams=ve+(-1===Qn?"?":Qn<ve.length-1?"&":"")+gn}}else this.params=new ke,this.urlWithParams=ve}serializeBody(){return null===this.body?null:qe(this.body)||Ae(this.body)||Ze(this.body)||function Dt(ot){return"undefined"!=typeof URLSearchParams&&ot instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ke?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ze(this.body)?null:Ae(this.body)?this.body.type||null:qe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ke?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Fe={}){var ve;const Ht=Fe.method||this.method,At=Fe.url||this.url,Gt=Fe.responseType||this.responseType,gn=void 0!==Fe.body?Fe.body:this.body,Qn=void 0!==Fe.withCredentials?Fe.withCredentials:this.withCredentials,Gn=void 0!==Fe.reportProgress?Fe.reportProgress:this.reportProgress;let Cn=Fe.headers||this.headers,xn=Fe.params||this.params;const ei=null!==(ve=Fe.context)&&void 0!==ve?ve:this.context;return void 0!==Fe.setHeaders&&(Cn=Object.keys(Fe.setHeaders).reduce((_r,ln)=>_r.set(ln,Fe.setHeaders[ln]),Cn)),Fe.setParams&&(xn=Object.keys(Fe.setParams).reduce((_r,ln)=>_r.set(ln,Fe.setParams[ln]),xn)),new Ct(Ht,At,gn,{params:xn,headers:Cn,context:ei,reportProgress:Gn,responseType:Gt,withCredentials:Qn})}}var Ue=(()=>((Ue=Ue||{})[Ue.Sent=0]="Sent",Ue[Ue.UploadProgress=1]="UploadProgress",Ue[Ue.ResponseHeader=2]="ResponseHeader",Ue[Ue.DownloadProgress=3]="DownloadProgress",Ue[Ue.Response=4]="Response",Ue[Ue.User=5]="User",Ue))();class G{constructor(Fe,ve=200,Ht="OK"){this.headers=Fe.headers||new le,this.status=void 0!==Fe.status?Fe.status:ve,this.statusText=Fe.statusText||Ht,this.url=Fe.url||null,this.ok=this.status>=200&&this.status<300}}class Re extends G{constructor(Fe={}){super(Fe),this.type=Ue.ResponseHeader}clone(Fe={}){return new Re({headers:Fe.headers||this.headers,status:void 0!==Fe.status?Fe.status:this.status,statusText:Fe.statusText||this.statusText,url:Fe.url||this.url||void 0})}}class Te extends G{constructor(Fe={}){super(Fe),this.type=Ue.Response,this.body=void 0!==Fe.body?Fe.body:null}clone(Fe={}){return new Te({body:void 0!==Fe.body?Fe.body:this.body,headers:Fe.headers||this.headers,status:void 0!==Fe.status?Fe.status:this.status,statusText:Fe.statusText||this.statusText,url:Fe.url||this.url||void 0})}}class Ce extends G{constructor(Fe){super(Fe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Fe.url||"(unknown url)"}`:`Http failure response for ${Fe.url||"(unknown url)"}: ${Fe.status} ${Fe.statusText}`,this.error=Fe.error||null}}function rt(ot,Fe){return{body:Fe,headers:ot.headers,context:ot.context,observe:ot.observe,params:ot.params,reportProgress:ot.reportProgress,responseType:ot.responseType,withCredentials:ot.withCredentials}}let et=(()=>{class ot{constructor(ve){this.handler=ve}request(ve,Ht,At={}){let Gt;if(ve instanceof Ct)Gt=ve;else{let Gn,Cn;Gn=At.headers instanceof le?At.headers:new le(At.headers),At.params&&(Cn=At.params instanceof ke?At.params:new ke({fromObject:At.params})),Gt=new Ct(ve,Ht,void 0!==At.body?At.body:null,{headers:Gn,context:At.context,params:Cn,reportProgress:At.reportProgress,responseType:At.responseType||"json",withCredentials:At.withCredentials})}const gn=(0,Z.of)(Gt).pipe((0,Se.b)(Gn=>this.handler.handle(Gn)));if(ve instanceof Ct||"events"===At.observe)return gn;const Qn=gn.pipe((0,ae.h)(Gn=>Gn instanceof Te));switch(At.observe||"body"){case"body":switch(Gt.responseType){case"arraybuffer":return Qn.pipe((0,Ee.U)(Gn=>{if(null!==Gn.body&&!(Gn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Gn.body}));case"blob":return Qn.pipe((0,Ee.U)(Gn=>{if(null!==Gn.body&&!(Gn.body instanceof Blob))throw new Error("Response is not a Blob.");return Gn.body}));case"text":return Qn.pipe((0,Ee.U)(Gn=>{if(null!==Gn.body&&"string"!=typeof Gn.body)throw new Error("Response is not a string.");return Gn.body}));default:return Qn.pipe((0,Ee.U)(Gn=>Gn.body))}case"response":return Qn;default:throw new Error(`Unreachable: unhandled observe type ${At.observe}}`)}}delete(ve,Ht={}){return this.request("DELETE",ve,Ht)}get(ve,Ht={}){return this.request("GET",ve,Ht)}head(ve,Ht={}){return this.request("HEAD",ve,Ht)}jsonp(ve,Ht){return this.request("JSONP",ve,{params:(new ke).append(Ht,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ve,Ht={}){return this.request("OPTIONS",ve,Ht)}patch(ve,Ht,At={}){return this.request("PATCH",ve,rt(At,Ht))}post(ve,Ht,At={}){return this.request("POST",ve,rt(At,Ht))}put(ve,Ht,At={}){return this.request("PUT",ve,rt(At,Ht))}}return ot.\u0275fac=function(ve){return new(ve||ot)(X.LFG(de))},ot.\u0275prov=X.Yz7({token:ot,factory:ot.\u0275fac}),ot})();class Xt{constructor(Fe,ve){this.next=Fe,this.interceptor=ve}handle(Fe){return this.interceptor.intercept(Fe,this.next)}}const on=new X.OlP("HTTP_INTERCEPTORS");let mt=(()=>{class ot{intercept(ve,Ht){return Ht.handle(ve)}}return ot.\u0275fac=function(ve){return new(ve||ot)},ot.\u0275prov=X.Yz7({token:ot,factory:ot.\u0275fac}),ot})();const Kt=/^\)\]\}',?\n/;let _n=(()=>{class ot{constructor(ve){this.xhrFactory=ve}handle(ve){if("JSONP"===ve.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Be.y(Ht=>{const At=this.xhrFactory.build();if(At.open(ve.method,ve.urlWithParams),ve.withCredentials&&(At.withCredentials=!0),ve.headers.forEach((ln,fr)=>At.setRequestHeader(ln,fr.join(","))),ve.headers.has("Accept")||At.setRequestHeader("Accept","application/json, text/plain, */*"),!ve.headers.has("Content-Type")){const ln=ve.detectContentTypeHeader();null!==ln&&At.setRequestHeader("Content-Type",ln)}if(ve.responseType){const ln=ve.responseType.toLowerCase();At.responseType="json"!==ln?ln:"text"}const Gt=ve.serializeBody();let gn=null;const Qn=()=>{if(null!==gn)return gn;const ln=At.statusText||"OK",fr=new le(At.getAllResponseHeaders()),Wn=function en(ot){return"responseURL"in ot&&ot.responseURL?ot.responseURL:/^X-Request-URL:/m.test(ot.getAllResponseHeaders())?ot.getResponseHeader("X-Request-URL"):null}(At)||ve.url;return gn=new Re({headers:fr,status:At.status,statusText:ln,url:Wn}),gn},Gn=()=>{let{headers:ln,status:fr,statusText:Wn,url:pn}=Qn(),Nt=null;204!==fr&&(Nt=void 0===At.response?At.responseText:At.response),0===fr&&(fr=Nt?200:0);let cn=fr>=200&&fr<300;if("json"===ve.responseType&&"string"==typeof Nt){const Pn=Nt;Nt=Nt.replace(Kt,"");try{Nt=""!==Nt?JSON.parse(Nt):null}catch(sr){Nt=Pn,cn&&(cn=!1,Nt={error:sr,text:Nt})}}cn?(Ht.next(new Te({body:Nt,headers:ln,status:fr,statusText:Wn,url:pn||void 0})),Ht.complete()):Ht.error(new Ce({error:Nt,headers:ln,status:fr,statusText:Wn,url:pn||void 0}))},Cn=ln=>{const{url:fr}=Qn(),Wn=new Ce({error:ln,status:At.status||0,statusText:At.statusText||"Unknown Error",url:fr||void 0});Ht.error(Wn)};let xn=!1;const ei=ln=>{xn||(Ht.next(Qn()),xn=!0);let fr={type:Ue.DownloadProgress,loaded:ln.loaded};ln.lengthComputable&&(fr.total=ln.total),"text"===ve.responseType&&!!At.responseText&&(fr.partialText=At.responseText),Ht.next(fr)},_r=ln=>{let fr={type:Ue.UploadProgress,loaded:ln.loaded};ln.lengthComputable&&(fr.total=ln.total),Ht.next(fr)};return At.addEventListener("load",Gn),At.addEventListener("error",Cn),At.addEventListener("timeout",Cn),At.addEventListener("abort",Cn),ve.reportProgress&&(At.addEventListener("progress",ei),null!==Gt&&At.upload&&At.upload.addEventListener("progress",_r)),At.send(Gt),Ht.next({type:Ue.Sent}),()=>{At.removeEventListener("error",Cn),At.removeEventListener("abort",Cn),At.removeEventListener("load",Gn),At.removeEventListener("timeout",Cn),ve.reportProgress&&(At.removeEventListener("progress",ei),null!==Gt&&At.upload&&At.upload.removeEventListener("progress",_r)),At.readyState!==At.DONE&&At.abort()}})}}return ot.\u0275fac=function(ve){return new(ve||ot)(X.LFG(l.JF))},ot.\u0275prov=X.Yz7({token:ot,factory:ot.\u0275fac}),ot})();const fn=new X.OlP("XSRF_COOKIE_NAME"),Jt=new X.OlP("XSRF_HEADER_NAME");class An{}let Cr=(()=>{class ot{constructor(ve,Ht,At){this.doc=ve,this.platform=Ht,this.cookieName=At,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ve=this.doc.cookie||"";return ve!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,l.Mx)(ve,this.cookieName),this.lastCookieString=ve),this.lastToken}}return ot.\u0275fac=function(ve){return new(ve||ot)(X.LFG(l.K0),X.LFG(X.Lbi),X.LFG(fn))},ot.\u0275prov=X.Yz7({token:ot,factory:ot.\u0275fac}),ot})(),yr=(()=>{class ot{constructor(ve,Ht){this.tokenService=ve,this.headerName=Ht}intercept(ve,Ht){const At=ve.url.toLowerCase();if("GET"===ve.method||"HEAD"===ve.method||At.startsWith("http://")||At.startsWith("https://"))return Ht.handle(ve);const Gt=this.tokenService.getToken();return null!==Gt&&!ve.headers.has(this.headerName)&&(ve=ve.clone({headers:ve.headers.set(this.headerName,Gt)})),Ht.handle(ve)}}return ot.\u0275fac=function(ve){return new(ve||ot)(X.LFG(An),X.LFG(Jt))},ot.\u0275prov=X.Yz7({token:ot,factory:ot.\u0275fac}),ot})(),Jn=(()=>{class ot{constructor(ve,Ht){this.backend=ve,this.injector=Ht,this.chain=null}handle(ve){if(null===this.chain){const Ht=this.injector.get(on,[]);this.chain=Ht.reduceRight((At,Gt)=>new Xt(At,Gt),this.backend)}return this.chain.handle(ve)}}return ot.\u0275fac=function(ve){return new(ve||ot)(X.LFG(ge),X.LFG(X.zs3))},ot.\u0275prov=X.Yz7({token:ot,factory:ot.\u0275fac}),ot})(),Nn=(()=>{class ot{static disable(){return{ngModule:ot,providers:[{provide:yr,useClass:mt}]}}static withOptions(ve={}){return{ngModule:ot,providers:[ve.cookieName?{provide:fn,useValue:ve.cookieName}:[],ve.headerName?{provide:Jt,useValue:ve.headerName}:[]]}}}return ot.\u0275fac=function(ve){return new(ve||ot)},ot.\u0275mod=X.oAB({type:ot}),ot.\u0275inj=X.cJS({providers:[yr,{provide:on,useExisting:yr,multi:!0},{provide:An,useClass:Cr},{provide:fn,useValue:"XSRF-TOKEN"},{provide:Jt,useValue:"X-XSRF-TOKEN"}]}),ot})(),er=(()=>{class ot{}return ot.\u0275fac=function(ve){return new(ve||ot)},ot.\u0275mod=X.oAB({type:ot}),ot.\u0275inj=X.cJS({providers:[et,{provide:de,useClass:Jn},_n,{provide:ge,useExisting:_n}],imports:[[Nn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),ot})()},5e3:(hn,ft,$)=>{"use strict";$.d(ft,{deG:()=>Wf,tb:()=>K_,AFp:()=>IE,ip1:()=>$f,CZH:()=>eg,hGG:()=>BI,z2F:()=>s,sBO:()=>zt,Sil:()=>Z_,_Vd:()=>Vp,EJc:()=>TE,SBq:()=>xh,qLn:()=>Ls,vpe:()=>Vo,tBr:()=>eu,XFs:()=>rn,OlP:()=>ss,zs3:()=>fa,ZZ4:()=>Fw,aQg:()=>Lw,soG:()=>Rm,YKP:()=>M_,h0i:()=>Rh,PXZ:()=>OE,R0b:()=>Su,FiY:()=>Ba,Lbi:()=>Y_,g9A:()=>DE,Qsj:()=>D_,FYo:()=>Up,JOm:()=>Ft,tp0:()=>il,Rgc:()=>Tu,dDg:()=>km,q4F:()=>Mh,GfV:()=>vm,s_b:()=>zp,ifc:()=>At,eFA:()=>kE,G48:()=>be,Gpc:()=>me,X6Q:()=>Q,_c5:()=>LI,VLi:()=>ME,c2e:()=>pl,zSh:()=>ry,wAp:()=>Dr,vHH:()=>Oe,cg1:()=>Pp,kL8:()=>am,dqk:()=>Cn,sIi:()=>bf,CqO:()=>Cp,QGY:()=>_h,F4k:()=>Ip,RDi:()=>Fi,AaK:()=>de,qOj:()=>yp,TTD:()=>Vs,_Bn:()=>_m,xp6:()=>sp,uIk:()=>dy,ekj:()=>qg,Suo:()=>Vf,Xpm:()=>Yn,lG2:()=>vr,Yz7:()=>Je,cJS:()=>dt,oAB:()=>pt,Yjl:()=>ui,Y36:()=>Tf,_UZ:()=>Lg,GkF:()=>Cy,BQk:()=>kc,ynx:()=>Sf,qZA:()=>Xu,TgZ:()=>bu,EpF:()=>Dy,n5z:()=>Vt,LFG:()=>si,$8M:()=>Vr,$Z:()=>Xv,NdJ:()=>Bg,CRH:()=>oE,oxw:()=>Nc,ALo:()=>J0,lcZ:()=>tE,xi3:()=>nE,Hsn:()=>Sd,F$t:()=>Ty,Q6J:()=>wy,s9C:()=>Sy,VKq:()=>P_,WLB:()=>K0,iGM:()=>Yp,MAs:()=>$v,CHM:()=>j,oJD:()=>Sl,LSH:()=>sd,kYT:()=>sn,Jzz:()=>g0,YNc:()=>Uv,W1O:()=>aE,_uU:()=>c0,Oqu:()=>Ny,hij:()=>Jg,lnq:()=>Fy,Gf:()=>U_});var l=$(8929),X=$(2654),Z=$(2916),Be=$(6787),Se=$(2474);function ae(r){for(let i in r)if(r[i]===ae)return i;throw Error("Could not find renamed property on target object.")}function Ee(r,i){for(const o in i)i.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=i[o])}function de(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(de).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function ge(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const le=ae({__forward_ref__:ae});function me(r){return r.__forward_ref__=me,r.toString=function(){return de(this())},r}function ie(r){return he(r)?r():r}function he(r){return"function"==typeof r&&r.hasOwnProperty(le)&&r.__forward_ref__===me}class Oe extends Error{constructor(i,o){super(function _e(r,i){return`NG0${Math.abs(r)}${i?": "+i:""}`}(i,o)),this.code=i}}function ke(r){return"string"==typeof r?r:null==r?"":String(r)}function Ve(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():ke(r)}function Ae(r,i){const o=i?` in ${i}`:"";throw new Oe(-201,`No provider for ${Ve(r)} found${o}`)}function it(r,i){null==r&&function Qe(r,i,o,u){throw new Error(`ASSERTION ERROR: ${r}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,r,null,"!=")}function Je(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function dt(r){return{providers:r.providers||[],imports:r.imports||[]}}function Kt(r){return en(r,An)||en(r,yr)}function en(r,i){return r.hasOwnProperty(i)?r[i]:null}function Jt(r){return r&&(r.hasOwnProperty(Cr)||r.hasOwnProperty(Jn))?r[Cr]:null}const An=ae({\u0275prov:ae}),Cr=ae({\u0275inj:ae}),yr=ae({ngInjectableDef:ae}),Jn=ae({ngInjectorDef:ae});var rn=(()=>((rn=rn||{})[rn.Default=0]="Default",rn[rn.Host=1]="Host",rn[rn.Self=2]="Self",rn[rn.SkipSelf=4]="SkipSelf",rn[rn.Optional=8]="Optional",rn))();let nr;function er(r){const i=nr;return nr=r,i}function Tn(r,i,o){const u=Kt(r);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&rn.Optional?null:void 0!==i?i:void Ae(de(r),"Injector")}function ot(r){return{toString:r}.toString()}var Fe=(()=>((Fe=Fe||{})[Fe.OnPush=0]="OnPush",Fe[Fe.Default=1]="Default",Fe))(),At=(()=>{return(r=At||(At={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",At;var r})();const Gt="undefined"!=typeof globalThis&&globalThis,gn="undefined"!=typeof window&&window,Qn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Cn=Gt||"undefined"!=typeof global&&global||gn||Qn,_r={},ln=[],fr=ae({\u0275cmp:ae}),Wn=ae({\u0275dir:ae}),pn=ae({\u0275pipe:ae}),Nt=ae({\u0275mod:ae}),cn=ae({\u0275fac:ae}),Pn=ae({__NG_ELEMENT_ID__:ae});let sr=0;function Yn(r){return ot(()=>{const o={},u={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===Fe.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||ln,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||At.Emulated,id:"c",styles:r.styles||ln,_:null,setInput:null,schemas:r.schemas||null,tView:null},f=r.directives,y=r.features,C=r.pipes;return u.id+=sr++,u.inputs=Un(r.inputs,o),u.outputs=Un(r.outputs),y&&y.forEach(A=>A(u)),u.directiveDefs=f?()=>("function"==typeof f?f():f).map(Ie):null,u.pipeDefs=C?()=>("function"==typeof C?C():C).map(je):null,u})}function Ie(r){return Er(r)||function $r(r){return r[Wn]||null}(r)}function je(r){return function zn(r){return r[pn]||null}(r)}const bt={};function pt(r){return ot(()=>{const i={type:r.type,bootstrap:r.bootstrap||ln,declarations:r.declarations||ln,imports:r.imports||ln,exports:r.exports||ln,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(bt[r.id]=r.type),i})}function sn(r,i){return ot(()=>{const o=Br(r,!0);o.declarations=i.declarations||ln,o.imports=i.imports||ln,o.exports=i.exports||ln})}function Un(r,i){if(null==r)return _r;const o={};for(const u in r)if(r.hasOwnProperty(u)){let f=r[u],y=f;Array.isArray(f)&&(y=f[1],f=f[0]),o[f]=u,i&&(i[f]=y)}return o}const vr=Yn;function ui(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function Er(r){return r[fr]||null}function Br(r,i){const o=r[Nt]||null;if(!o&&!0===i)throw new Error(`Type ${de(r)} does not have '\u0275mod' property.`);return o}function ye(r){return Array.isArray(r)&&"object"==typeof r[1]}function xe(r){return Array.isArray(r)&&!0===r[1]}function ut(r){return 0!=(8&r.flags)}function Pt(r){return 2==(2&r.flags)}function Lt(r){return 1==(1&r.flags)}function kt(r){return null!==r.template}function yn(r){return 0!=(512&r[2])}function ni(r,i){return r.hasOwnProperty(cn)?r[cn]:null}class Ni{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function Vs(){return us}function us(r){return r.type.prototype.ngOnChanges&&(r.setInput=Ds),co}function co(){const r=es(this),i=null==r?void 0:r.current;if(i){const o=r.previous;if(o===_r)r.previous=i;else for(let u in i)o[u]=i[u];r.current=null,this.ngOnChanges(i)}}function Ds(r,i,o,u){const f=es(r)||function vs(r,i){return r[Rs]=i}(r,{previous:_r,current:null}),y=f.current||(f.current={}),C=f.previous,A=this.declaredInputs[o],O=C[A];y[A]=new Ni(O&&O.currentValue,i,C===_r),r[u]=i}Vs.ngInherit=!0;const Rs="__ngSimpleChanges__";function es(r){return r[Rs]||null}let Ts;function Fi(r){Ts=r}function Ss(){return void 0!==Ts?Ts:"undefined"!=typeof document?document:void 0}function jr(r){return!!r.listen}const U={createRenderer:(r,i)=>Ss()};function V(r){for(;Array.isArray(r);)r=r[0];return r}function Ot(r,i){return V(i[r])}function Wt(r,i){return V(i[r.index])}function Zr(r,i){return r.data[i]}function or(r,i){return r[i]}function ur(r,i){const o=i[r];return ye(o)?o:o[0]}function Rr(r){return 4==(4&r[2])}function pi(r){return 128==(128&r[2])}function li(r,i){return null==i?null:r[i]}function qs(r){r[18]=0}function Pr(r,i){r[5]+=i;let o=r,u=r[3];for(;null!==u&&(1===i&&1===o[5]||-1===i&&0===o[5]);)u[5]+=i,o=u,u=u[3]}const qn={lFrame:Eo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function re(){return qn.bindingsEnabled}function P(){return qn.lFrame.lView}function b(){return qn.lFrame.tView}function j(r){return qn.lFrame.contextLView=r,r[8]}function J(){let r=wt();for(;null!==r&&64===r.type;)r=r.parent;return r}function wt(){return qn.lFrame.currentTNode}function En(r,i){const o=qn.lFrame;o.currentTNode=r,o.isParent=i}function wr(){return qn.lFrame.isParent}function ii(){qn.lFrame.isParent=!1}function ts(){return qn.isInCheckNoChangesMode}function hs(r){qn.isInCheckNoChangesMode=r}function Ti(){const r=qn.lFrame;let i=r.bindingRootIndex;return-1===i&&(i=r.bindingRootIndex=r.tView.bindingStartIndex),i}function Ys(){return qn.lFrame.bindingIndex++}function Ps(r){const i=qn.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,o}function zi(r,i){const o=qn.lFrame;o.bindingIndex=o.bindingRootIndex=r,na(i)}function na(r){qn.lFrame.currentDirectiveIndex=r}function Ma(){return qn.lFrame.currentQueryIndex}function $l(r){qn.lFrame.currentQueryIndex=r}function Ka(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function Ks(r,i,o){if(o&rn.SkipSelf){let f=i,y=r;for(;!(f=f.parent,null!==f||o&rn.Host||(f=Ka(y),null===f||(y=y[15],10&f.type))););if(null===f)return!1;i=f,r=y}const u=qn.lFrame=Mu();return u.currentTNode=i,u.lView=r,!0}function $o(r){const i=Mu(),o=r[1];qn.lFrame=i,i.currentTNode=o.firstChild,i.lView=r,i.tView=o,i.contextLView=r,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function Mu(){const r=qn.lFrame,i=null===r?null:r.child;return null===i?Eo(r):i}function Eo(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function jl(){const r=qn.lFrame;return qn.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Ra=jl;function Os(){const r=jl();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function ns(){return qn.lFrame.selectedIndex}function ra(r){qn.lFrame.selectedIndex=r}function Wi(){const r=qn.lFrame;return Zr(r.tView,r.selectedIndex)}function rs(r,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const y=r.data[o].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:A,ngAfterViewInit:O,ngAfterViewChecked:K,ngOnDestroy:te}=y;C&&(r.contentHooks||(r.contentHooks=[])).push(-o,C),A&&((r.contentHooks||(r.contentHooks=[])).push(o,A),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,A)),O&&(r.viewHooks||(r.viewHooks=[])).push(-o,O),K&&((r.viewHooks||(r.viewHooks=[])).push(o,K),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,K)),null!=te&&(r.destroyHooks||(r.destroyHooks=[])).push(o,te)}}function Ao(r,i,o){Oa(r,i,3,o)}function jo(r,i,o,u){(3&r[2])===o&&Oa(r,i,o,u)}function is(r,i){let o=r[2];(3&o)===i&&(o&=2047,o+=1,r[2]=o)}function Oa(r,i,o,u){const y=null!=u?u:-1,C=i.length-1;let A=0;for(let O=void 0!==u?65535&r[18]:0;O<C;O++)if("number"==typeof i[O+1]){if(A=i[O],null!=u&&A>=u)break}else i[O]<0&&(r[18]+=65536),(A<y||-1==y)&&(ka(r,o,i,O),r[18]=(4294901760&r[18])+O+2),O++}function ka(r,i,o,u){const f=o[u]<0,y=o[u+1],A=r[f?-o[u]:o[u]];if(f){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{y.call(A)}finally{}}}else try{y.call(A)}finally{}}class Zs{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function ml(r,i,o){const u=jr(r);let f=0;for(;f<o.length;){const y=o[f];if("number"==typeof y){if(0!==y)break;f++;const C=o[f++],A=o[f++],O=o[f++];u?r.setAttribute(i,A,O,C):i.setAttributeNS(C,A,O)}else{const C=y,A=o[++f];Mo(C)?u&&r.setProperty(i,C,A):u?r.setAttribute(i,C,A):i.setAttribute(C,A),f++}}return f}function ho(r){return 3===r||4===r||6===r}function Mo(r){return 64===r.charCodeAt(0)}function sa(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const f=i[u];"number"==typeof f?o=f:0===o||ma(r,o,f,null,-1===o||2===o?i[++u]:null)}}return r}function ma(r,i,o,u,f){let y=0,C=r.length;if(-1===i)C=-1;else for(;y<r.length;){const A=r[y++];if("number"==typeof A){if(A===i){C=-1;break}if(A>i){C=y-1;break}}}for(;y<r.length;){const A=r[y];if("number"==typeof A)break;if(A===o){if(null===u)return void(null!==f&&(r[y+1]=f));if(u===r[y+1])return void(r[y+2]=f)}y++,null!==u&&y++,null!==f&&y++}-1!==C&&(r.splice(C,0,i),y=C+1),r.splice(y++,0,o),null!==u&&r.splice(y++,0,u),null!==f&&r.splice(y++,0,f)}function Ei(r){return-1!==r}function Gr(r){return 32767&r}function Es(r,i){let o=function Za(r){return r>>16}(r),u=i;for(;o>0;)u=u[15],o--;return u}let Xa=!0;function Ro(r){const i=Xa;return Xa=r,i}let ql=0;function Ho(r,i){const o=Qs(r,i);if(-1!==o)return o;const u=i[1];u.firstCreatePass&&(r.injectorIndex=i.length,ro(u.data,r),ro(i,null),ro(u.blueprint,null));const f=io(r,i),y=r.injectorIndex;if(Ei(f)){const C=Gr(f),A=Es(f,i),O=A[1].data;for(let K=0;K<8;K++)i[y+K]=A[C+K]|O[C+K]}return i[y+8]=f,y}function ro(r,i){r.push(0,0,0,0,0,0,0,0,i)}function Qs(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function io(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,u=null,f=i;for(;null!==f;){const y=f[1],C=y.type;if(u=2===C?y.declTNode:1===C?f[6]:null,null===u)return-1;if(o++,f=f[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function Oo(r,i,o){!function Xs(r,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(Pn)&&(u=o[Pn]),null==u&&(u=o[Pn]=ql++);const f=255&u;i.data[r+(f>>5)]|=1<<f}(r,i,o)}function ya(r,i,o){if(o&rn.Optional)return r;Ae(i,"NodeInjector")}function yl(r,i,o,u){if(o&rn.Optional&&void 0===u&&(u=null),0==(o&(rn.Self|rn.Host))){const f=r[9],y=er(void 0);try{return f?f.get(i,u,o&rn.Optional):Tn(i,u,o&rn.Optional)}finally{er(y)}}return ya(u,i,o)}function Ja(r,i,o,u=rn.Default,f){if(null!==r){const y=function q(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(Pn)?r[Pn]:void 0;return"number"==typeof i?i>=0?255&i:R:i}(o);if("function"==typeof y){if(!Ks(i,r,u))return u&rn.Host?ya(f,o,u):yl(i,o,u,f);try{const C=y(u);if(null!=C||u&rn.Optional)return C;Ae(o)}finally{Ra()}}else if("number"==typeof y){let C=null,A=Qs(r,i),O=-1,K=u&rn.Host?i[16][6]:null;for((-1===A||u&rn.SkipSelf)&&(O=-1===A?io(r,i):i[A+8],-1!==O&&Pe(u,!1)?(C=i[1],A=Gr(O),i=Es(O,i)):A=-1);-1!==A;){const te=i[1];if(se(y,A,te.data)){const De=S(A,i,o,C,u,K);if(De!==_a)return De}O=i[A+8],-1!==O&&Pe(u,i[1].data[A+8]===K)&&se(y,A,i)?(C=te,A=Gr(O),i=Es(O,i)):A=-1}}}return yl(i,o,u,f)}const _a={};function R(){return new Ye(J(),P())}function S(r,i,o,u,f,y){const C=i[1],A=C.data[r+8],te=D(A,C,o,null==u?Pt(A)&&Xa:u!=C&&0!=(3&A.type),f&rn.Host&&y===A);return null!==te?B(i,C,te,A):_a}function D(r,i,o,u,f){const y=r.providerIndexes,C=i.data,A=1048575&y,O=r.directiveStart,te=y>>20,nt=f?A+te:r.directiveEnd;for(let Et=u?A:A+te;Et<nt;Et++){const Yt=C[Et];if(Et<O&&o===Yt||Et>=O&&Yt.type===o)return Et}if(f){const Et=C[O];if(Et&&kt(Et)&&Et.type===o)return O}return null}function B(r,i,o,u){let f=r[o];const y=i.data;if(function xo(r){return r instanceof Zs}(f)){const C=f;C.resolving&&function st(r,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${r}`:"";throw new Oe(-200,`Circular dependency in DI detected for ${r}${o}`)}(Ve(y[o]));const A=Ro(C.canSeeViewProviders);C.resolving=!0;const O=C.injectImpl?er(C.injectImpl):null;Ks(r,u,rn.Default);try{f=r[o]=C.factory(void 0,y,r,u),i.firstCreatePass&&o>=u.directiveStart&&function Hl(r,i,o){const{ngOnChanges:u,ngOnInit:f,ngDoCheck:y}=i.type.prototype;if(u){const C=us(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,C),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,C)}f&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,f),y&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,y),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,y))}(o,y[o],i)}finally{null!==O&&er(O),Ro(A),C.resolving=!1,Ra()}}return f}function se(r,i,o){return!!(o[i+(r>>5)]&1<<r)}function Pe(r,i){return!(r&rn.Self||r&rn.Host&&i)}class Ye{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return Ja(this._tNode,this._lView,i,u,o)}}function Vt(r){return ot(()=>{const i=r.prototype.constructor,o=i[cn]||Sn(i),u=Object.prototype;let f=Object.getPrototypeOf(r.prototype).constructor;for(;f&&f!==u;){const y=f[cn]||Sn(f);if(y&&y!==o)return y;f=Object.getPrototypeOf(f)}return y=>new y})}function Sn(r){return he(r)?()=>{const i=Sn(ie(r));return i&&i()}:ni(r)}function Vr(r){return function Yl(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const o=r.attrs;if(o){const u=o.length;let f=0;for(;f<u;){const y=o[f];if(ho(y))break;if(0===y)f+=2;else if("number"==typeof y)for(f++;f<u&&"string"==typeof o[f];)f++;else{if(y===i)return o[f+1];f+=2}}}return null}(J(),r)}const Xr="__parameters__";function oa(r,i,o){return ot(()=>{const u=function Go(r){return function(...o){if(r){const u=r(...o);for(const f in u)this[f]=u[f]}}}(i);function f(...y){if(this instanceof f)return u.apply(this,y),this;const C=new f(...y);return A.annotation=C,A;function A(O,K,te){const De=O.hasOwnProperty(Xr)?O[Xr]:Object.defineProperty(O,Xr,{value:[]})[Xr];for(;De.length<=te;)De.push(null);return(De[te]=De[te]||[]).push(C),O}}return o&&(f.prototype=Object.create(o.prototype)),f.prototype.ngMetadataName=r,f.annotationCls=f,f})}class ss{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Je({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Wf=new ss("AnalyzeForEntryComponents");function Us(r,i){void 0===i&&(i=r);for(let o=0;o<r.length;o++){let u=r[o];Array.isArray(u)?(i===r&&(i=r.slice(0,o)),Us(u,i)):i!==r&&i.push(u)}return i}function bi(r,i){r.forEach(o=>Array.isArray(o)?bi(o,i):i(o))}function el(r,i,o){i>=r.length?r.push(o):r.splice(i,0,o)}function Ui(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}function Ns(r,i){const o=[];for(let u=0;u<r;u++)o.push(i);return o}function $s(r,i,o){let u=tl(r,i);return u>=0?r[1|u]=o:(u=~u,function Ld(r,i,o,u){let f=r.length;if(f==i)r.push(o,u);else if(1===f)r.push(u,r[0]),r[0]=o;else{for(f--,r.push(r[f-1],r[f]);f>i;)r[f]=r[f-2],f--;r[i]=o,r[i+1]=u}}(r,u,i,o)),u}function _l(r,i){const o=tl(r,i);if(o>=0)return r[1|o]}function tl(r,i){return function Xl(r,i,o){let u=0,f=r.length>>o;for(;f!==u;){const y=u+(f-u>>1),C=r[y<<o];if(i===C)return y<<o;C>i?f=y:u=y+1}return~(f<<o)}(r,i,1)}const oe={},Ne="__NG_DI_FLAG__",yt="ngTempTokenPath",un=/\n/gm,pr="__source",dr=ae({provide:String,useValue:ae});let Qr;function Lr(r){const i=Qr;return Qr=r,i}function Js(r,i=rn.Default){if(void 0===Qr)throw new Oe(203,"");return null===Qr?Tn(r,void 0,i):Qr.get(r,i&rn.Optional?null:void 0,i)}function si(r,i=rn.Default){return(function Nn(){return nr}()||Js)(ie(r),i)}const rl=si;function Ea(r){const i=[];for(let o=0;o<r.length;o++){const u=ie(r[o]);if(Array.isArray(u)){if(0===u.length)throw new Oe(900,"");let f,y=rn.Default;for(let C=0;C<u.length;C++){const A=u[C],O=ba(A);"number"==typeof O?-1===O?f=A.token:y|=O:f=A}i.push(si(f,y))}else i.push(si(u))}return i}function eo(r,i){return r[Ne]=i,r.prototype[Ne]=i,r}function ba(r){return r[Ne]}const eu=eo(oa("Inject",r=>({token:r})),-1),Ba=eo(oa("Optional"),8),il=eo(oa("SkipSelf"),4);let gs,wl;function wo(r){var i;return(null===(i=function bs(){if(void 0===gs&&(gs=null,Cn.trustedTypes))try{gs=Cn.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return gs}())||void 0===i?void 0:i.createHTML(r))||r}function Uh(r){var i;return(null===(i=function Yc(){if(void 0===wl&&(wl=null,Cn.trustedTypes))try{wl=Cn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return wl}())||void 0===i?void 0:i.createHTML(r))||r}class $h{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ca(r){return r instanceof $h?r.changingThisBreaksApplicationSecurity:r}function Va(r,i){const o=function wa(r){return r instanceof $h&&r.getTypeName()||null}(r);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}class qf{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(wo(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class oo{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const u=this.inertDocument.createElement("body");o.appendChild(u)}}getInertBodyElement(i){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=wo(i),o;const u=this.inertDocument.createElement("body");return u.innerHTML=wo(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(i){const o=i.attributes;for(let f=o.length-1;0<f;f--){const C=o.item(f).name;("xmlns:ns1"===C||0===C.indexOf("ns1:"))&&i.removeAttribute(C)}let u=i.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const su=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Xc=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Fs(r){return(r=String(r)).match(su)||r.match(Xc)?r:"unsafe:"+r}function fo(r){const i={};for(const o of r.split(","))i[o]=!0;return i}function ou(...r){const i={};for(const o of r)for(const u in o)o.hasOwnProperty(u)&&(i[u]=!0);return i}const po=fo("area,br,col,hr,img,wbr"),fc=fo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Vu=fo("rp,rt"),pc=ou(po,ou(fc,fo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ou(Vu,fo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ou(Vu,fc)),ed=fo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ll=fo("srcset"),Tl=ou(ed,ll,fo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),fo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),td=fo("script,style,template");class mc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let f=this.checkClobberedElement(o,o.nextSibling);if(f){o=f;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!pc.hasOwnProperty(o))return this.sanitizedSomething=!0,!td.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=i.attributes;for(let f=0;f<u.length;f++){const y=u.item(f),C=y.name,A=C.toLowerCase();if(!Tl.hasOwnProperty(A)){this.sanitizedSomething=!0;continue}let O=y.value;ed[A]&&(O=Fs(O)),ll[A]&&(r=O,O=(r=String(r)).split(",").map(i=>Fs(i.trim())).join(", ")),this.buf.push(" ",C,'="',id(O),'"')}var r;return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();pc.hasOwnProperty(o)&&!po.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(id(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const nd=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rd=/([^\#-~ |!])/g;function id(r){return r.replace(/&/g,"&amp;").replace(nd,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(rd,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let lu;function $u(r){return"content"in r&&function Gd(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var As=(()=>((As=As||{})[As.NONE=0]="NONE",As[As.HTML=1]="HTML",As[As.STYLE=2]="STYLE",As[As.SCRIPT=3]="SCRIPT",As[As.URL=4]="URL",As[As.RESOURCE_URL=5]="RESOURCE_URL",As))();function Sl(r){const i=ko();return i?Uh(i.sanitize(As.HTML,r)||""):Va(r,"HTML")?Uh(ca(r)):function Uu(r,i){let o=null;try{lu=lu||function Bu(r){const i=new oo(r);return function Yf(){try{return!!(new window.DOMParser).parseFromString(wo(""),"text/html")}catch(r){return!1}}()?new qf(i):i}(r);let u=i?String(i):"";o=lu.getInertBodyElement(u);let f=5,y=u;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,u=y,y=o.innerHTML,o=lu.getInertBodyElement(u)}while(u!==y);return wo((new mc).sanitizeChildren($u(o)||o))}finally{if(o){const u=$u(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}(Ss(),ke(r))}function sd(r){const i=ko();return i?i.sanitize(As.URL,r)||"":Va(r,"URL")?ca(r):Fs(ke(r))}function ko(){const r=P();return r&&r[12]}const Ia="__ngContext__";function xs(r,i){r[Ia]=i}function du(r){const i=function ja(r){return r[Ia]||null}(r);return i?Array.isArray(i)?i:i.lView:null}function zh(r){return r.ngOriginalError}function cl(r,...i){r.error(...i)}class Ls{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i),u=function yc(r){return r&&r.ngErrorLogger||cl}(i);u(this._console,"ERROR",i),o&&u(this._console,"ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&zh(i);for(;o&&zh(o);)o=zh(o);return o||null}}const dd=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Cn))();function _(r){return r instanceof Function?r():r}var Ft=(()=>((Ft=Ft||{})[Ft.Important=1]="Important",Ft[Ft.DashCase=2]="DashCase",Ft))();function Vn(r,i){return undefined(r,i)}function zr(r){const i=r[3];return xe(i)?i[3]:i}function hd(r){return Kd(r[13])}function Ec(r){return Kd(r[4])}function Kd(r){for(;null!==r&&!xe(r);)r=r[4];return r}function hl(r,i,o,u,f){if(null!=u){let y,C=!1;xe(u)?y=u:ye(u)&&(C=!0,u=u[0]);const A=V(u);0===r&&null!==o?null==f?Zh(i,o,A):Wu(i,o,A,f||null,!0):1===r&&null!==o?Wu(i,o,A,f||null,!0):2===r?function ep(r,i,o){const u=Ic(r,i);u&&function lg(r,i,o,u){jr(r)?r.removeChild(i,o,u):i.removeChild(o)}(r,u,i,o)}(i,A,C):3===r&&i.destroyNode(A),null!=y&&function Lm(r,i,o,u,f){const y=o[7];y!==V(o)&&hl(i,r,u,y,f);for(let A=10;A<o.length;A++){const O=o[A];Hs(O[1],O,r,i,u,y)}}(i,r,y,o,f)}}function ws(r,i,o){if(jr(r))return r.createElement(i,o);{const u=null!==o?function br(r){const i=r.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":"math"===i?"http://www.w3.org/1998/MathML/":null}(o):null;return null===u?r.createElement(i):r.createElementNS(u,i)}}function Xd(r,i){const o=r[9],u=o.indexOf(i),f=i[3];1024&i[2]&&(i[2]&=-1025,Pr(f,-1)),o.splice(u,1)}function Yh(r,i){if(r.length<=10)return;const o=10+i,u=r[o];if(u){const f=u[17];null!==f&&f!==r&&Xd(f,u),i>0&&(r[o-1][4]=u[4]);const y=Ui(r,10+i);!function qh(r,i){Hs(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(u[1],u);const C=y[19];null!==C&&C.detachView(y[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function Kh(r,i){if(!(256&i[2])){const o=i[11];jr(o)&&o.destroyNode&&Hs(r,i,o,3,null,null),function Zd(r){let i=r[13];if(!i)return Qd(r[1],r);for(;i;){let o=null;if(ye(i))o=i[13];else{const u=i[10];u&&(o=u)}if(!o){for(;i&&!i[4]&&i!==r;)ye(i)&&Qd(i[1],i),i=i[3];null===i&&(i=r),ye(i)&&Qd(i[1],i),o=i&&i[4]}i=o}}(i)}}function Qd(r,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function ag(r,i){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let u=0;u<o.length;u+=2){const f=i[o[u]];if(!(f instanceof Zs)){const y=o[u+1];if(Array.isArray(y))for(let C=0;C<y.length;C+=2){const A=f[y[C]],O=y[C+1];try{O.call(A)}finally{}}else try{y.call(f)}finally{}}}}(r,i),function Fm(r,i){const o=r.cleanup,u=i[7];let f=-1;if(null!==o)for(let y=0;y<o.length-1;y+=2)if("string"==typeof o[y]){const C=o[y+1],A="function"==typeof C?C(i):V(i[C]),O=u[f=o[y+2]],K=o[y+3];"boolean"==typeof K?A.removeEventListener(o[y],O,K):K>=0?u[f=K]():u[f=-K].unsubscribe(),y+=2}else{const C=u[f=o[y+1]];o[y].call(C)}if(null!==u){for(let y=f+1;y<u.length;y++)u[y]();i[7]=null}}(r,i),1===i[1].type&&jr(i[11])&&i[11].destroy();const o=i[17];if(null!==o&&xe(i[3])){o!==i[3]&&Xd(o,i);const u=i[19];null!==u&&u.detachView(r)}}}function gd(r,i,o){return function Xf(r,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[0];if(2&u.flags){const f=r.data[u.directiveStart].encapsulation;if(f===At.None||f===At.Emulated)return null}return Wt(u,o)}(r,i.parent,o)}function Wu(r,i,o,u,f){jr(r)?r.insertBefore(i,o,u,f):i.insertBefore(o,u,f)}function Zh(r,i,o){jr(r)?r.appendChild(i,o):i.appendChild(o)}function Xh(r,i,o,u,f){null!==u?Wu(r,i,o,u,f):Zh(r,i,o)}function Ic(r,i){return jr(r)?r.parentNode(i):i.parentNode}function cg(r,i,o){return Qf(r,i,o)}let Qf=function Cc(r,i,o){return 40&r.type?Wt(r,o):null};function md(r,i,o,u){const f=gd(r,u,i),y=i[11],A=cg(u.parent||i[6],u,i);if(null!=f)if(Array.isArray(o))for(let O=0;O<o.length;O++)Xh(y,f,o[O],A,!1);else Xh(y,f,o,A,!1)}function Dc(r,i){if(null!==i){const o=i.type;if(3&o)return Wt(i,r);if(4&o)return Jh(-1,r[i.index]);if(8&o){const u=i.child;if(null!==u)return Dc(r,u);{const f=r[i.index];return xe(f)?Jh(-1,f):V(f)}}if(32&o)return Vn(i,r)()||V(r[i.index]);{const u=ha(r,i);return null!==u?Array.isArray(u)?u[0]:Dc(zr(r[16]),u):Dc(r,i.next)}}return null}function ha(r,i){return null!==i?r[16][6].projection[i.projection]:null}function Jh(r,i){const o=10+r+1;if(o<i.length){const u=i[o],f=u[1].firstChild;if(null!==f)return Dc(u,f)}return i[7]}function Ko(r,i,o,u,f,y,C){for(;null!=o;){const A=u[o.index],O=o.type;if(C&&0===i&&(A&&xs(V(A),u),o.flags|=4),64!=(64&o.flags))if(8&O)Ko(r,i,o.child,u,f,y,!1),hl(i,r,f,A,y);else if(32&O){const K=Vn(o,u);let te;for(;te=K();)hl(i,r,f,te,y);hl(i,r,f,A,y)}else 16&O?qu(r,i,u,o,f,y):hl(i,r,f,A,y);o=C?o.projectionNext:o.next}}function Hs(r,i,o,u,f,y){Ko(o,u,r.firstChild,i,f,y,!1)}function qu(r,i,o,u,f,y){const C=o[16],O=C[6].projection[u.projection];if(Array.isArray(O))for(let K=0;K<O.length;K++)hl(i,r,f,O[K],y);else Ko(r,i,O,C[3],f,y,!0)}function tp(r,i,o){jr(r)?r.setAttribute(i,"style",o):i.style.cssText=o}function np(r,i,o){jr(r)?""===o?r.removeAttribute(i,"class"):r.setAttribute(i,"class",o):i.className=o}function Ha(r,i,o){let u=r.length;for(;;){const f=r.indexOf(i,o);if(-1===f)return f;if(0===f||r.charCodeAt(f-1)<=32){const y=i.length;if(f+y===u||r.charCodeAt(f+y)<=32)return f}o=f+1}}const rp="ng-template";function Co(r,i,o){let u=0;for(;u<r.length;){let f=r[u++];if(o&&"class"===f){if(f=r[u],-1!==Ha(f.toLowerCase(),i,0))return!0}else if(1===f){for(;u<r.length&&"string"==typeof(f=r[u++]);)if(f.toLowerCase()===i)return!0;return!1}}return!1}function Tc(r){return 4===r.type&&r.value!==rp}function mu(r,i,o){return i===(4!==r.type||o?r.value:rp)}function ef(r,i,o){let u=4;const f=r.attrs||[],y=function tf(r){for(let i=0;i<r.length;i++)if(ho(r[i]))return i;return r.length}(f);let C=!1;for(let A=0;A<i.length;A++){const O=i[A];if("number"!=typeof O){if(!C)if(4&u){if(u=2|1&u,""!==O&&!mu(r,O,o)||""===O&&1===i.length){if(Ga(u))return!1;C=!0}}else{const K=8&u?O:i[++A];if(8&u&&null!==r.attrs){if(!Co(r.attrs,K,o)){if(Ga(u))return!1;C=!0}continue}const De=mn(8&u?"class":O,f,Tc(r),o);if(-1===De){if(Ga(u))return!1;C=!0;continue}if(""!==K){let nt;nt=De>y?"":f[De+1].toLowerCase();const Et=8&u?nt:null;if(Et&&-1!==Ha(Et,K,0)||2&u&&K!==nt){if(Ga(u))return!1;C=!0}}}}else{if(!C&&!Ga(u)&&!Ga(O))return!1;if(C&&Ga(O))continue;C=!1,u=O|1&u}}return Ga(u)||C}function Ga(r){return 0==(1&r)}function mn(r,i,o,u){if(null===i)return-1;let f=0;if(u||!o){let y=!1;for(;f<i.length;){const C=i[f];if(C===r)return f;if(3===C||6===C)y=!0;else{if(1===C||2===C){let A=i[++f];for(;"string"==typeof A;)A=i[++f];continue}if(4===C)break;if(0===C){f+=4;continue}}f+=y?1:2}return-1}return function Xn(r,i){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const u=r[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,r)}function ms(r,i,o=!1){for(let u=0;u<i.length;u++)if(ef(r,i[u],o))return!0;return!1}function Ur(r,i){e:for(let o=0;o<i.length;o++){const u=i[o];if(r.length===u.length){for(let f=0;f<r.length;f++)if(r[f]!==u[f])continue e;return!0}}return!1}function ip(r,i){return r?":not("+i.trim()+")":i}function On(r){let i=r[0],o=1,u=2,f="",y=!1;for(;o<r.length;){let C=r[o];if("string"==typeof C)if(2&u){const A=r[++o];f+="["+C+(A.length>0?'="'+A+'"':"")+"]"}else 8&u?f+="."+C:4&u&&(f+=" "+C);else""!==f&&!Ga(C)&&(i+=ip(y,f),f=""),u=C,y=y||!Ga(u);o++}return""!==f&&(i+=ip(y,f)),i}const ir={};function sp(r){op(b(),P(),ns()+r,ts())}function op(r,i,o,u){if(!u)if(3==(3&i[2])){const y=r.preOrderCheckHooks;null!==y&&Ao(i,y,o)}else{const y=r.preOrderHooks;null!==y&&jo(i,y,0,o)}ra(o)}function nf(r,i){return r<<17|i<<2}function za(r){return r>>17&32767}function ap(r){return 2|r}function yu(r){return(131068&r)>>2}function Zo(r,i){return-131069&r|i<<2}function d(r){return 1|r}function Hm(r,i){const o=r.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const f=o[u],y=o[u+1];if(-1!==y){const C=r.data[y];$l(f),C.contentQueries(2,i[y],y)}}}function lf(r,i,o,u,f,y,C,A,O,K){const te=i.blueprint.slice();return te[0]=f,te[2]=140|u,qs(te),te[3]=te[15]=r,te[8]=o,te[10]=C||r&&r[10],te[11]=A||r&&r[11],te[12]=O||r&&r[12]||null,te[9]=K||r&&r[9]||null,te[6]=y,te[16]=2==i.type?r[16]:te,te}function th(r,i,o,u,f){let y=r.data[i];if(null===y)y=function Lo(r,i,o,u,f){const y=wt(),C=wr(),O=r.data[i]=function cp(r,i,o,u,f,y){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?y:y&&y.parent,o,i,u,f);return null===r.firstChild&&(r.firstChild=O),null!==y&&(C?null==y.child&&null!==O.parent&&(y.child=O):null===y.next&&(y.next=O)),O}(r,i,o,u,f),function Ul(){return qn.lFrame.inI18n}()&&(y.flags|=64);else if(64&y.type){y.type=o,y.value=u,y.attrs=f;const C=function dn(){const r=qn.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();y.injectorIndex=null===C?-1:C.injectorIndex}return En(y,!0),y}function nh(r,i,o,u){if(0===o)return-1;const f=i.length;for(let y=0;y<o;y++)i.push(u),r.blueprint.push(u),r.data.push(null);return f}function as(r,i,o){$o(i);try{const u=r.viewQuery;null!==u&&Mc(1,u,o);const f=r.template;null!==f&&Ed(r,i,f,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Hm(r,i),r.staticViewQueries&&Mc(2,r.viewQuery,o);const y=r.components;null!==y&&function $E(r,i){for(let o=0;o<i.length;o++)dv(r,i[o])}(i,y)}catch(u){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),u}finally{i[2]&=-5,Os()}}function xc(r,i,o,u){const f=i[2];if(256==(256&f))return;$o(i);const y=ts();try{qs(i),function vo(r){return qn.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&Ed(r,i,o,2,u);const C=3==(3&f);if(!y)if(C){const K=r.preOrderCheckHooks;null!==K&&Ao(i,K,null)}else{const K=r.preOrderHooks;null!==K&&jo(i,K,0,null),is(i,0)}if(function Km(r){for(let i=hd(r);null!==i;i=Ec(i)){if(!i[2])continue;const o=i[9];for(let u=0;u<o.length;u++){const f=o[u],y=f[3];0==(1024&f[2])&&Pr(y,1),f[2]|=1024}}}(i),function cv(r){for(let i=hd(r);null!==i;i=Ec(i))for(let o=10;o<i.length;o++){const u=i[o],f=u[1];pi(u)&&xc(f,u,f.template,u[8])}}(i),null!==r.contentQueries&&Hm(r,i),!y)if(C){const K=r.contentCheckHooks;null!==K&&Ao(i,K)}else{const K=r.contentHooks;null!==K&&jo(i,K,1),is(i,1)}!function lp(r,i){const o=r.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const f=o[u];if(f<0)ra(~f);else{const y=f,C=o[++u],A=o[++u];zi(C,y),A(2,i[y])}}}finally{ra(-1)}}(r,i);const A=r.components;null!==A&&function UE(r,i){for(let o=0;o<i.length;o++)Zm(r,i[o])}(i,A);const O=r.viewQuery;if(null!==O&&Mc(2,O,u),!y)if(C){const K=r.viewCheckHooks;null!==K&&Ao(i,K)}else{const K=r.viewHooks;null!==K&&jo(i,K,2),is(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),y||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,Pr(i[3],-1))}finally{Os()}}function Gm(r,i,o,u){const f=i[10],y=!ts(),C=Rr(i);try{y&&!C&&f.begin&&f.begin(),C&&as(r,i,u),xc(r,i,o,u)}finally{y&&!C&&f.end&&f.end()}}function Ed(r,i,o,u,f){const y=ns(),C=2&u;try{ra(-1),C&&i.length>20&&op(r,i,20,ts()),o(u,f)}finally{ra(y)}}function up(r,i,o){if(ut(i)){const f=i.directiveEnd;for(let y=i.directiveStart;y<f;y++){const C=r.data[y];C.contentQueries&&C.contentQueries(1,o[y],y)}}}function rh(r,i,o){!re()||(function uf(r,i,o,u){const f=o.directiveStart,y=o.directiveEnd;r.firstCreatePass||Ho(o,i),xs(u,i);const C=o.initialInputs;for(let A=f;A<y;A++){const O=r.data[A],K=kt(O);K&&Ym(i,o,O);const te=B(i,r,A,o);xs(te,i),null!==C&&df(0,A-f,te,O,0,C),K&&(ur(o.index,i)[8]=te)}}(r,i,o,Wt(o,i)),128==(128&o.flags)&&function WE(r,i,o){const u=o.directiveStart,f=o.directiveEnd,C=o.index,A=function Ya(){return qn.lFrame.currentDirectiveIndex}();try{ra(C);for(let O=u;O<f;O++){const K=r.data[O],te=i[O];na(O),(null!==K.hostBindings||0!==K.hostVars||null!==K.hostAttrs)&&qm(K,te)}}finally{ra(-1),na(A)}}(r,i,o))}function _g(r,i,o=Wt){const u=i.localNames;if(null!==u){let f=i.index+1;for(let y=0;y<u.length;y+=2){const C=u[y+1],A=-1===C?o(i,r):r[C];r[f++]=A}}}function rv(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=Ol(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function Ol(r,i,o,u,f,y,C,A,O,K){const te=20+u,De=te+f,nt=function jE(r,i){const o=[];for(let u=0;u<i;u++)o.push(u<r?null:ir);return o}(te,De),Et="function"==typeof K?K():K;return nt[1]={type:r,blueprint:nt,template:o,queries:null,viewQuery:A,declTNode:i,data:nt.slice().fill(null,te),bindingStartIndex:te,expandoStartIndex:De,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:O,consts:Et,incompleteFirstPass:!1}}function sv(r,i,o,u){const f=Qm(i);null===o?f.push(u):(f.push(o),r.firstCreatePass&&sh(r).push(u,f.length-1))}function dp(r,i,o){for(let u in r)if(r.hasOwnProperty(u)){const f=r[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(i,f):o[u]=[i,f]}return o}function Wa(r,i,o,u,f,y,C,A){const O=Wt(i,o);let te,K=i.inputs;!A&&null!=K&&(te=K[u])?(gf(r,o,te,u,f),Pt(i)&&function Jo(r,i){const o=ur(i,r);16&o[2]||(o[2]|=64)}(o,i.index)):3&i.type&&(u=function ov(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(u),f=null!=C?C(f,i.value||"",u):f,jr(y)?y.setProperty(O,u,f):Mo(u)||(O.setProperty?O.setProperty(u,f):O[u]=f))}function Wm(r,i,o,u){let f=!1;if(re()){const y=function lv(r,i,o){const u=r.directiveRegistry;let f=null;if(u)for(let y=0;y<u.length;y++){const C=u[y];ms(o,C.selectors,!1)&&(f||(f=[]),Oo(Ho(o,i),r,C.type),kt(C)?(Ku(r,o),f.unshift(C)):f.push(C))}return f}(r,i,o),C=null===u?null:{"":-1};if(null!==y){f=!0,hp(o,r.data.length,y.length);for(let te=0;te<y.length;te++){const De=y[te];De.providersResolver&&De.providersResolver(De)}let A=!1,O=!1,K=nh(r,i,y.length,null);for(let te=0;te<y.length;te++){const De=y[te];o.mergedAttrs=sa(o.mergedAttrs,De.hostAttrs),fp(r,o,i,K,De),cf(K,De,C),null!==De.contentQueries&&(o.flags|=8),(null!==De.hostBindings||null!==De.hostAttrs||0!==De.hostVars)&&(o.flags|=128);const nt=De.type.prototype;!A&&(nt.ngOnChanges||nt.ngOnInit||nt.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),A=!0),!O&&(nt.ngOnChanges||nt.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),O=!0),K++}!function vg(r,i){const u=i.directiveEnd,f=r.data,y=i.attrs,C=[];let A=null,O=null;for(let K=i.directiveStart;K<u;K++){const te=f[K],De=te.inputs,nt=null===y||Tc(i)?null:Nl(De,y);C.push(nt),A=dp(De,K,A),O=dp(te.outputs,K,O)}null!==A&&(A.hasOwnProperty("class")&&(i.flags|=16),A.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=C,i.inputs=A,i.outputs=O}(r,o)}C&&function uv(r,i,o){if(i){const u=r.localNames=[];for(let f=0;f<i.length;f+=2){const y=o[i[f+1]];if(null==y)throw new Oe(-301,!1);u.push(i[f],y)}}}(o,u,C)}return o.mergedAttrs=sa(o.mergedAttrs,o.attrs),f}function av(r,i,o,u,f,y){const C=y.hostBindings;if(C){let A=r.hostBindingOpCodes;null===A&&(A=r.hostBindingOpCodes=[]);const O=~i.index;(function wd(r){let i=r.length;for(;i>0;){const o=r[--i];if("number"==typeof o&&o<0)return o}return 0})(A)!=O&&A.push(O),A.push(u,f,C)}}function qm(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function Ku(r,i){i.flags|=2,(r.components||(r.components=[])).push(i.index)}function cf(r,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=r;kt(i)&&(o[""]=r)}}function hp(r,i,o){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+o,r.providerIndexes=i}function fp(r,i,o,u,f){r.data[u]=f;const y=f.factory||(f.factory=ni(f.type)),C=new Zs(y,kt(f),null);r.blueprint[u]=C,o[u]=C,av(r,i,0,u,nh(r,o,f.hostVars,ir),f)}function Ym(r,i,o){const u=Wt(i,r),f=rv(o),y=r[10],C=gp(r,lf(r,f,null,o.onPush?64:16,u,i,y,y.createRenderer(u,o),null,null));r[i.index]=C}function kl(r,i,o,u,f,y){const C=Wt(r,i);!function pp(r,i,o,u,f,y,C){if(null==y)jr(r)?r.removeAttribute(i,f,o):i.removeAttribute(f);else{const A=null==C?ke(y):C(y,u||"",f);jr(r)?r.setAttribute(i,f,A,o):o?i.setAttributeNS(o,f,A):i.setAttribute(f,A)}}(i[11],C,y,r.value,o,u,f)}function df(r,i,o,u,f,y){const C=y[i];if(null!==C){const A=u.setInput;for(let O=0;O<C.length;){const K=C[O++],te=C[O++],De=C[O++];null!==A?u.setInput(o,De,K,te):o[te]=De}}}function Nl(r,i){let o=null,u=0;for(;u<i.length;){const f=i[u];if(0!==f)if(5!==f){if("number"==typeof f)break;r.hasOwnProperty(f)&&(null===o&&(o=[]),o.push(f,r[f],i[u+1])),u+=2}else u+=2;else u+=4}return o}function hf(r,i,o,u){return new Array(r,!0,!1,i,null,0,u,o,null,null)}function Zm(r,i){const o=ur(i,r);if(pi(o)){const u=o[1];80&o[2]?xc(u,o,u.template,o[8]):o[5]>0&&Eg(o)}}function Eg(r){for(let u=hd(r);null!==u;u=Ec(u))for(let f=10;f<u.length;f++){const y=u[f];if(1024&y[2]){const C=y[1];xc(C,y,C.template,y[8])}else y[5]>0&&Eg(y)}const o=r[1].components;if(null!==o)for(let u=0;u<o.length;u++){const f=ur(o[u],r);pi(f)&&f[5]>0&&Eg(f)}}function dv(r,i){const o=ur(i,r),u=o[1];(function YE(r,i){for(let o=i.length;o<r.blueprint.length;o++)i.push(r.blueprint[o])})(u,o),as(u,o,o[8])}function gp(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function bg(r){for(;r;){r[2]|=64;const i=zr(r);if(yn(r)&&!i)return r;r=i}return null}function Xm(r,i,o){const u=i[10];u.begin&&u.begin();try{xc(r,i,r.template,o)}catch(f){throw ey(i,f),f}finally{u.end&&u.end()}}function fv(r){!function ff(r){for(let i=0;i<r.components.length;i++){const o=r.components[i],u=du(o),f=u[1];Gm(f,u,f.template,o)}}(r[8])}function Mc(r,i,o){$l(0),i(r,o)}const ih=(()=>Promise.resolve(null))();function Qm(r){return r[7]||(r[7]=[])}function sh(r){return r.cleanup||(r.cleanup=[])}function ey(r,i){const o=r[9],u=o?o.get(Ls,null):null;u&&u.handleError(i)}function gf(r,i,o,u,f){for(let y=0;y<o.length;){const C=o[y++],A=o[y++],O=i[C],K=r.data[C];null!==K.setInput?K.setInput(O,f,u,A):O[A]=f}}function Rc(r,i,o){const u=Ot(i,r);!function zu(r,i,o){jr(r)?r.setValue(i,o):i.textContent=o}(r[11],u,o)}function wg(r,i,o){let u=o?r.styles:null,f=o?r.classes:null,y=0;if(null!==i)for(let C=0;C<i.length;C++){const A=i[C];"number"==typeof A?y=A:1==y?f=ge(f,A):2==y&&(u=ge(u,A+": "+i[++C]+";"))}o?r.styles=u:r.stylesWithoutHost=u,o?r.classes=f:r.classesWithoutHost=f}const ny=new ss("INJECTOR",-1);class Cg{get(i,o=oe){if(o===oe){const u=new Error(`NullInjectorError: No provider for ${de(i)}!`);throw u.name="NullInjectorError",u}return o}}const ry=new ss("Set Injector scope."),mf={},gv={};let oh;function Id(){return void 0===oh&&(oh=new Cg),oh}function iy(r,i=null,o=null,u){const f=sy(r,i,o,u);return f._resolveInjectorDefTypes(),f}function sy(r,i=null,o=null,u){return new mv(r,o,i||Id(),u)}class mv{constructor(i,o,u,f=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const y=[];o&&bi(o,A=>this.processProvider(A,i,o)),bi([i],A=>this.processInjectorType(A,[],y)),this.records.set(ny,hi(void 0,this));const C=this.records.get(ry);this.scope=null!=C?C.value:null,this.source=f||("object"==typeof i?null:de(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,o=oe,u=rn.Default){this.assertNotDestroyed();const f=Lr(this),y=er(void 0);try{if(!(u&rn.SkipSelf)){let A=this.records.get(i);if(void 0===A){const O=function _v(r){return"function"==typeof r||"object"==typeof r&&r instanceof ss}(i)&&Kt(i);A=O&&this.injectableDefInScope(O)?hi(ah(i),mf):null,this.records.set(i,A)}if(null!=A)return this.hydrate(i,A)}return(u&rn.Self?Id():this.parent).get(i,o=u&rn.Optional&&o===oe?null:o)}catch(C){if("NullInjectorError"===C.name){if((C[yt]=C[yt]||[]).unshift(de(i)),f)throw C;return function Ki(r,i,o,u){const f=r[yt];throw i[pr]&&f.unshift(i[pr]),r.message=function Jl(r,i,o,u=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let f=de(i);if(Array.isArray(i))f=i.map(de).join(" -> ");else if("object"==typeof i){let y=[];for(let C in i)if(i.hasOwnProperty(C)){let A=i[C];y.push(C+":"+("string"==typeof A?JSON.stringify(A):de(A)))}f=`{${y.join(", ")}}`}return`${o}${u?"("+u+")":""}[${f}]: ${r.replace(un,"\n  ")}`}("\n"+r.message,f,o,u),r.ngTokenPath=f,r[yt]=null,r}(C,i,"R3InjectorError",this.source)}throw C}finally{er(y),Lr(f)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((u,f)=>i.push(de(f))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Oe(205,!1)}processInjectorType(i,o,u){if(!(i=ie(i)))return!1;let f=Jt(i);const y=null==f&&i.ngModule||void 0,C=void 0===y?i:y,A=-1!==u.indexOf(C);if(void 0!==y&&(f=Jt(y)),null==f)return!1;if(null!=f.imports&&!A){let te;u.push(C);try{bi(f.imports,De=>{this.processInjectorType(De,o,u)&&(void 0===te&&(te=[]),te.push(De))})}finally{}if(void 0!==te)for(let De=0;De<te.length;De++){const{ngModule:nt,providers:Et}=te[De];bi(Et,Yt=>this.processProvider(Yt,nt,Et||ln))}}this.injectorDefTypes.add(C);const O=ni(C)||(()=>new C);this.records.set(C,hi(O,mf));const K=f.providers;if(null!=K&&!A){const te=i;bi(K,De=>this.processProvider(De,te,K))}return void 0!==y&&void 0!==i.providers}processProvider(i,o,u){let f=Is(i=ie(i))?i:ie(i&&i.provide);const y=function ZE(r,i,o){return ay(r)?hi(void 0,r.useValue):hi(ao(r),mf)}(i);if(Is(i)||!0!==i.multi)this.records.get(f);else{let C=this.records.get(f);C||(C=hi(void 0,mf,!0),C.factory=()=>Ea(C.multi),this.records.set(f,C)),f=i,C.multi.push(i)}this.records.set(f,y)}hydrate(i,o){return o.value===mf&&(o.value=gv,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Ms(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(o.value)&&this.onDestroy.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=ie(i.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function ah(r){const i=Kt(r),o=null!==i?i.factory:ni(r);if(null!==o)return o;if(r instanceof ss)throw new Oe(204,!1);if(r instanceof Function)return function oy(r){const i=r.length;if(i>0)throw Ns(i,"?"),new Oe(204,!1);const o=function _n(r){const i=r&&(r[An]||r[yr]);if(i){const o=function fn(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new Oe(204,!1)}function ao(r,i,o){let u;if(Is(r)){const f=ie(r);return ni(f)||ah(f)}if(ay(r))u=()=>ie(r.useValue);else if(function Cd(r){return!(!r||!r.useFactory)}(r))u=()=>r.useFactory(...Ea(r.deps||[]));else if(function yv(r){return!(!r||!r.useExisting)}(r))u=()=>si(ie(r.useExisting));else{const f=ie(r&&(r.useClass||r.provide));if(!function ea(r){return!!r.deps}(r))return ni(f)||ah(f);u=()=>new f(...Ea(r.deps))}return u}function hi(r,i,o=!1){return{factory:r,value:i,multi:o?[]:void 0}}function ay(r){return null!==r&&"object"==typeof r&&dr in r}function Is(r){return"function"==typeof r}let fa=(()=>{class r{static create(o,u){var f;if(Array.isArray(o))return iy({name:""},u,o,"");{const y=null!==(f=o.name)&&void 0!==f?f:"";return iy({name:y},o.parent,o.providers,y)}}}return r.THROW_IF_NOT_FOUND=oe,r.NULL=new Cg,r.\u0275prov=Je({token:r,providedIn:"any",factory:()=>si(ny)}),r.__NG_ELEMENT_ID__=-1,r})();function Cv(r,i){rs(du(r)[1],J())}function yp(r){let i=function vu(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const u=[r];for(;i;){let f;if(kt(r))f=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Oe(903,"");f=i.\u0275dir}if(f){if(o){u.push(f);const C=r;C.inputs=lh(r.inputs),C.declaredInputs=lh(r.declaredInputs),C.outputs=lh(r.outputs);const A=f.hostBindings;A&&Av(r,A);const O=f.viewQuery,K=f.contentQueries;if(O&&Tv(r,O),K&&Sv(r,K),Ee(r.inputs,f.inputs),Ee(r.declaredInputs,f.declaredInputs),Ee(r.outputs,f.outputs),kt(f)&&f.data.animation){const te=r.data;te.animation=(te.animation||[]).concat(f.data.animation)}}const y=f.features;if(y)for(let C=0;C<y.length;C++){const A=y[C];A&&A.ngInherit&&A(r),A===yp&&(o=!1)}}i=Object.getPrototypeOf(i)}!function Dv(r){let i=0,o=null;for(let u=r.length-1;u>=0;u--){const f=r[u];f.hostVars=i+=f.hostVars,f.hostAttrs=sa(f.hostAttrs,o=sa(o,f.hostAttrs))}}(u)}function lh(r){return r===_r?{}:r===ln?[]:r}function Tv(r,i){const o=r.viewQuery;r.viewQuery=o?(u,f)=>{i(u,f),o(u,f)}:i}function Sv(r,i){const o=r.contentQueries;r.contentQueries=o?(u,f,y)=>{i(u,f,y),o(u,f,y)}:i}function Av(r,i){const o=r.hostBindings;r.hostBindings=o?(u,f)=>{i(u,f),o(u,f)}:i}let vf=null;function Ef(){if(!vf){const r=Cn.Symbol;if(r&&r.iterator)vf=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const u=i[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(vf=u)}}}return vf}function bf(r){return!!Pg(r)&&(Array.isArray(r)||!(r instanceof Map)&&Ef()in r)}function Pg(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Zu(r,i,o){return r[i]=o}function lo(r,i,o){return!Object.is(r[i],o)&&(r[i]=o,!0)}function Fl(r,i,o,u){const f=lo(r,i,o);return lo(r,i+1,u)||f}function dy(r,i,o,u){const f=P();return lo(f,Ys(),i)&&(b(),kl(Wi(),f,r,i,o,u)),dy}function mo(r,i,o,u){return lo(r,Ys(),o)?i+ke(o)+u:ir}function ch(r,i,o,u,f,y,C,A){const K=function Og(r,i,o,u,f){const y=Fl(r,i,o,u);return lo(r,i+2,f)||y}(r,function mi(){return qn.lFrame.bindingIndex}(),o,f,C);return Ps(3),K?i+ke(o)+u+ke(f)+y+ke(C)+A:ir}function Uv(r,i,o,u,f,y,C,A){const O=P(),K=b(),te=r+20,De=K.firstCreatePass?function ob(r,i,o,u,f,y,C,A,O){const K=i.consts,te=th(i,r,4,C||null,li(K,A));Wm(i,o,te,li(K,O)),rs(i,te);const De=te.tViews=Ol(2,te,u,f,y,i.directiveRegistry,i.pipeRegistry,null,i.schemas,K);return null!==i.queries&&(i.queries.template(i,te),De.queries=i.queries.embeddedTView(te)),te}(te,K,O,i,o,u,f,y,C):K.data[te];En(De,!1);const nt=O[11].createComment("");md(K,O,nt,De),xs(nt,O),gp(O,O[te]=hf(nt,O,nt,De)),Lt(De)&&rh(K,O,De),null!=C&&_g(O,De,A)}function $v(r){return or(function Bi(){return qn.lFrame.contextLView}(),20+r)}function Tf(r,i=rn.Default){const o=P();return null===o?si(r,i):Ja(J(),o,ie(r),i)}function Xv(){throw new Error("invalid")}function wy(r,i,o){const u=P();return lo(u,Ys(),i)&&Wa(b(),Wi(),u,r,i,u[11],o,!1),wy}function Iy(r,i,o,u,f){const C=f?"class":"style";gf(r,o,i.inputs[C],C,u)}function bu(r,i,o,u){const f=P(),y=b(),C=20+r,A=f[11],O=f[C]=ws(A,i,function nc(){return qn.lFrame.currentNamespace}()),K=y.firstCreatePass?function wp(r,i,o,u,f,y,C){const A=i.consts,K=th(i,r,2,f,li(A,y));return Wm(i,o,K,li(A,C)),null!==K.attrs&&wg(K,K.attrs,!1),null!==K.mergedAttrs&&wg(K,K.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,K),K}(C,y,f,0,i,o,u):y.data[C];En(K,!0);const te=K.mergedAttrs;null!==te&&ml(A,O,te);const De=K.classes;null!==De&&np(A,O,De);const nt=K.styles;return null!==nt&&tp(A,O,nt),64!=(64&K.flags)&&md(y,f,O,K),0===function z(){return qn.lFrame.elementDepthCount}()&&xs(O,f),function F(){qn.lFrame.elementDepthCount++}(),Lt(K)&&(rh(y,f,K),up(y,K,f)),null!==u&&_g(f,K),bu}function Xu(){let r=J();wr()?ii():(r=r.parent,En(r,!1));const i=r;!function k(){qn.lFrame.elementDepthCount--}();const o=b();return o.firstCreatePass&&(rs(o,r),ut(r)&&o.queries.elementEnd(r)),null!=i.classesWithoutHost&&function Gl(r){return 0!=(16&r.flags)}(i)&&Iy(o,i,P(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function zl(r){return 0!=(32&r.flags)}(i)&&Iy(o,i,P(),i.stylesWithoutHost,!1),Xu}function Lg(r,i,o,u){return bu(r,i,o,u),Xu(),Lg}function Sf(r,i,o){const u=P(),f=b(),y=r+20,C=f.firstCreatePass?function db(r,i,o,u,f){const y=i.consts,C=li(y,u),A=th(i,r,8,"ng-container",C);return null!==C&&wg(A,C,!0),Wm(i,o,A,li(y,f)),null!==i.queries&&i.queries.elementStart(i,A),A}(y,f,u,i,o):f.data[y];En(C,!0);const A=u[y]=u[11].createComment("");return md(f,u,A,C),xs(A,u),Lt(C)&&(rh(f,u,C),up(f,C,u)),null!=o&&_g(u,C),Sf}function kc(){let r=J();const i=b();return wr()?ii():(r=r.parent,En(r,!1)),i.firstCreatePass&&(rs(i,r),ut(r)&&i.queries.elementEnd(r)),kc}function Cy(r,i,o){return Sf(r,i,o),kc(),Cy}function Dy(){return P()}function _h(r){return!!r&&"function"==typeof r.then}function Ip(r){return!!r&&"function"==typeof r.subscribe}const Cp=Ip;function Bg(r,i,o,u){const f=P(),y=b(),C=J();return function Dp(r,i,o,u,f,y,C,A){const O=Lt(u),te=r.firstCreatePass&&sh(r),De=i[8],nt=Qm(i);let Et=!0;if(3&u.type||A){const kn=Wt(u,i),tr=A?A(kn):kn,tn=nt.length,Or=A?Ci=>A(V(Ci[u.index])):u.index;if(jr(o)){let Ci=null;if(!A&&O&&(Ci=function Qv(r,i,o,u){const f=r.cleanup;if(null!=f)for(let y=0;y<f.length-1;y+=2){const C=f[y];if(C===o&&f[y+1]===u){const A=i[7],O=f[y+2];return A.length>O?A[O]:null}"string"==typeof C&&(y+=2)}return null}(r,i,f,u.index)),null!==Ci)(Ci.__ngLastListenerFn__||Ci).__ngNextListenerFn__=y,Ci.__ngLastListenerFn__=y,Et=!1;else{y=Ug(u,i,De,y,!1);const ps=o.listen(tr,f,y);nt.push(y,ps),te&&te.push(f,Or,tn,tn+1)}}else y=Ug(u,i,De,y,!0),tr.addEventListener(f,y,C),nt.push(y),te&&te.push(f,Or,tn,C)}else y=Ug(u,i,De,y,!1);const Yt=u.outputs;let vn;if(Et&&null!==Yt&&(vn=Yt[f])){const kn=vn.length;if(kn)for(let tr=0;tr<kn;tr+=2){const xu=i[vn[tr]][vn[tr+1]].subscribe(y),ig=nt.length;nt.push(y,xu),te&&te.push(f,u.index,ig,-(ig+1))}}}(y,f,f[11],C,r,i,!!o,u),Bg}function Vg(r,i,o,u){try{return!1!==o(u)}catch(f){return ey(r,f),!1}}function Ug(r,i,o,u,f){return function y(C){if(C===Function)return u;const A=2&r.flags?ur(r.index,i):i;0==(32&i[2])&&bg(A);let O=Vg(i,0,u,C),K=y.__ngNextListenerFn__;for(;K;)O=Vg(i,0,K,C)&&O,K=K.__ngNextListenerFn__;return f&&!1===O&&(C.preventDefault(),C.returnValue=!1),O}}function Nc(r=1){return function Ru(r){return(qn.lFrame.contextLView=function ga(r,i){for(;r>0;)i=i[15],r--;return i}(r,qn.lFrame.contextLView))[8]}(r)}function Af(r,i){let o=null;const u=function Jd(r){const i=r.attrs;if(null!=i){const o=i.indexOf(5);if(0==(1&o))return i[o+1]}return null}(r);for(let f=0;f<i.length;f++){const y=i[f];if("*"!==y){if(null===u?ms(r,y,!0):Ur(u,y))return f}else o=f}return o}function Ty(r){const i=P()[16][6];if(!i.projection){const u=i.projection=Ns(r?r.length:1,null),f=u.slice();let y=i.child;for(;null!==y;){const C=r?Af(y,r):0;null!==C&&(f[C]?f[C].projectionNext=y:u[C]=y,f[C]=y),y=y.next}}}function Sd(r,i=0,o){const u=P(),f=b(),y=th(f,20+r,16,null,o||null);null===y.projection&&(y.projection=i),ii(),64!=(64&y.flags)&&function Da(r,i,o){qu(i[11],0,i,o,gd(r,o,i),cg(o.parent||i[6],o,i))}(f,u,y)}function Sy(r,i,o){return Ad(r,"",i,"",o),Sy}function Ad(r,i,o,u,f){const y=P(),C=mo(y,i,o,u);return C!==ir&&Wa(b(),Wi(),y,r,C,y[11],f,!1),Ad}function r0(r,i,o,u,f){const y=r[o+1],C=null===i;let A=u?za(y):yu(y),O=!1;for(;0!==A&&(!1===O||C);){const te=r[A+1];hb(r[A],i)&&(O=!0,r[A+1]=u?d(te):ap(te)),A=u?za(te):yu(te)}O&&(r[o+1]=u?ap(y):d(y))}function hb(r,i){return null===r||null==i||(Array.isArray(r)?r[1]:r)===i||!(!Array.isArray(r)||"string"!=typeof i)&&tl(r,i)>=0}const yo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Md(r){return r.substring(yo.key,yo.keyEnd)}function Tp(r){return r.substring(yo.value,yo.valueEnd)}function Ry(r,i){const o=yo.textEnd;let u=yo.key=Rd(r,i,o);return o===u?-1:(u=yo.keyEnd=function Gg(r,i,o){let u;for(;i<o&&(45===(u=r.charCodeAt(i))||95===u||(-33&u)>=65&&(-33&u)<=90||u>=48&&u<=57);)i++;return i}(r,u,o),u=zg(r,u,o),u=yo.value=Rd(r,u,o),u=yo.valueEnd=function pb(r,i,o){let u=-1,f=-1,y=-1,C=i,A=C;for(;C<o;){const O=r.charCodeAt(C++);if(59===O)return A;34===O||39===O?A=C=Wg(r,O,C,o):i===C-4&&85===y&&82===f&&76===u&&40===O?A=C=Wg(r,41,C,o):O>32&&(A=C),y=f,f=u,u=-33&O}return A}(r,u,o),zg(r,u,o))}function Rd(r,i,o){for(;i<o&&r.charCodeAt(i)<=32;)i++;return i}function zg(r,i,o,u){return(i=Rd(r,i,o))<o&&i++,i}function Wg(r,i,o,u){let f=-1,y=o;for(;y<u;){const C=r.charCodeAt(y++);if(C==i&&92!==f)return y;f=92==C&&92===f?0:C}throw new Error}function qg(r,i){return function Cu(r,i,o,u){const f=P(),y=b(),C=Ps(2);y.firstUpdatePass&&vh(y,r,C,u),i!==ir&&lo(f,C,i)&&Xg(y,y.data[ns()],f,f[11],r,f[C+1]=function ky(r,i){return null==r||("string"==typeof i?r+=i:"object"==typeof r&&(r=de(ca(r)))),r}(i,o),u,C)}(r,i,null,!0),qg}function wu(r){!function Bl(r,i,o,u){const f=b(),y=Ps(2);f.firstUpdatePass&&vh(f,null,y,u);const C=P();if(o!==ir&&lo(C,y,o)){const A=f.data[ns()];if(To(A,u)&&!a0(f,y)){let O=u?A.classesWithoutHost:A.stylesWithoutHost;null!==O&&(o=ge(O,o||"")),Iy(f,A,C,o,u)}else!function _b(r,i,o,u,f,y,C,A){f===ir&&(f=ln);let O=0,K=0,te=0<f.length?f[0]:null,De=0<y.length?y[0]:null;for(;null!==te||null!==De;){const nt=O<f.length?f[O+1]:void 0,Et=K<y.length?y[K+1]:void 0;let vn,Yt=null;te===De?(O+=2,K+=2,nt!==Et&&(Yt=De,vn=Et)):null===De||null!==te&&te<De?(O+=2,Yt=te):(K+=2,Yt=De,vn=Et),null!==Yt&&Xg(r,i,o,u,Yt,vn,C,A),te=O<f.length?f[O]:null,De=K<y.length?y[K]:null}}(f,A,C,C[11],C[y+1],C[y+1]=function yb(r,i,o){if(null==o||""===o)return ln;const u=[],f=ca(o);if(Array.isArray(f))for(let y=0;y<f.length;y++)r(u,f[y],!0);else if("object"==typeof f)for(const y in f)f.hasOwnProperty(y)&&r(u,y,f[y]);else"string"==typeof f&&i(u,f);return u}(r,i,o),u,y)}}(Zg,Py,r,!1)}function Py(r,i){for(let o=function fb(r){return function Hg(r){yo.key=0,yo.keyEnd=0,yo.value=0,yo.valueEnd=0,yo.textEnd=r.length}(r),Ry(r,Rd(r,0,yo.textEnd))}(i);o>=0;o=Ry(i,o))Zg(r,Md(i),Tp(i))}function a0(r,i){return i>=r.expandoStartIndex}function vh(r,i,o,u){const f=r.data;if(null===f[o+1]){const y=f[ns()],C=a0(r,o);To(y,u)&&null===i&&!C&&(i=!1),i=function xf(r,i,o,u){const f=function So(r){const i=qn.lFrame.currentDirectiveIndex;return-1===i?null:r[i]}(r);let y=u?i.residualClasses:i.residualStyles;if(null===f)0===(u?i.classBindings:i.styleBindings)&&(o=Mf(o=Kg(null,r,i,o,u),i.attrs,u),y=null);else{const C=i.directiveStylingLast;if(-1===C||r[C]!==f)if(o=Kg(f,r,i,o,u),null===y){let O=function Oy(r,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==yu(u))return r[za(u)]}(r,i,u);void 0!==O&&Array.isArray(O)&&(O=Kg(null,r,i,O[1],u),O=Mf(O,i.attrs,u),function Yg(r,i,o,u){r[za(o?i.classBindings:i.styleBindings)]=u}(r,i,u,O))}else y=function l0(r,i,o){let u;const f=i.directiveEnd;for(let y=1+i.directiveStylingLast;y<f;y++)u=Mf(u,r[y].hostAttrs,o);return Mf(u,i.attrs,o)}(r,i,u)}return void 0!==y&&(u?i.residualClasses=y:i.residualStyles=y),o}(f,y,i,u),function jg(r,i,o,u,f,y){let C=y?i.classBindings:i.styleBindings,A=za(C),O=yu(C);r[u]=o;let te,K=!1;if(Array.isArray(o)){const De=o;te=De[1],(null===te||tl(De,te)>0)&&(K=!0)}else te=o;if(f)if(0!==O){const nt=za(r[A+1]);r[u+1]=nf(nt,A),0!==nt&&(r[nt+1]=Zo(r[nt+1],u)),r[A+1]=function fg(r,i){return 131071&r|i<<17}(r[A+1],u)}else r[u+1]=nf(A,0),0!==A&&(r[A+1]=Zo(r[A+1],u)),A=u;else r[u+1]=nf(O,0),0===A?A=u:r[O+1]=Zo(r[O+1],u),O=u;K&&(r[u+1]=ap(r[u+1])),r0(r,te,u,!0),r0(r,te,u,!1),function n0(r,i,o,u,f){const y=f?r.residualClasses:r.residualStyles;null!=y&&"string"==typeof i&&tl(y,i)>=0&&(o[u+1]=d(o[u+1]))}(i,te,r,u,y),C=nf(A,O),y?i.classBindings=C:i.styleBindings=C}(f,y,i,o,C,u)}}function Kg(r,i,o,u,f){let y=null;const C=o.directiveEnd;let A=o.directiveStylingLast;for(-1===A?A=o.directiveStart:A++;A<C&&(y=i[A],u=Mf(u,y.hostAttrs,f),y!==r);)A++;return null!==r&&(o.directiveStylingLast=A),u}function Mf(r,i,o){const u=o?1:2;let f=-1;if(null!==i)for(let y=0;y<i.length;y++){const C=i[y];"number"==typeof C?f=C:f===u&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),$s(r,C,!!o||i[++y]))}return void 0===r?null:r}function Zg(r,i,o){$s(r,i,ca(o))}function Xg(r,i,o,u,f,y,C,A){if(!(3&i.type))return;const O=r.data,K=O[A+1];Qg(function h(r){return 1==(1&r)}(K)?u0(O,i,o,f,yu(K),C):void 0)||(Qg(y)||function hg(r){return 2==(2&r)}(K)&&(y=u0(O,null,o,f,A,C)),function Bm(r,i,o,u,f){const y=jr(r);if(i)f?y?r.addClass(o,u):o.classList.add(u):y?r.removeClass(o,u):o.classList.remove(u);else{let C=-1===u.indexOf("-")?void 0:Ft.DashCase;if(null==f)y?r.removeStyle(o,u,C):o.style.removeProperty(u);else{const A="string"==typeof f&&f.endsWith("!important");A&&(f=f.slice(0,-10),C|=Ft.Important),y?r.setStyle(o,u,f,C):o.style.setProperty(u,f,A?"important":"")}}}(u,C,Ot(ns(),o),f,y))}function u0(r,i,o,u,f,y){const C=null===i;let A;for(;f>0;){const O=r[f],K=Array.isArray(O),te=K?O[1]:O,De=null===te;let nt=o[f+1];nt===ir&&(nt=De?ln:void 0);let Et=De?_l(nt,u):te===u?nt:void 0;if(K&&!Qg(Et)&&(Et=_l(O,u)),Qg(Et)&&(A=Et,C))return A;const Yt=r[f+1];f=C?za(Yt):yu(Yt)}if(null!==i){let O=y?i.residualClasses:i.residualStyles;null!=O&&(A=_l(O,u))}return A}function Qg(r){return void 0!==r}function To(r,i){return 0!=(r.flags&(i?16:32))}function c0(r,i=""){const o=P(),u=b(),f=r+20,y=u.firstCreatePass?th(u,f,1,i,null):u.data[f],C=o[f]=function bc(r,i){return jr(r)?r.createText(i):r.createTextNode(i)}(o[11],i);md(u,o,C,y),En(y,!1)}function Ny(r){return Jg("",r,""),Ny}function Jg(r,i,o){const u=P(),f=mo(u,r,i,o);return f!==ir&&Rc(u,ns(),f),Jg}function Fy(r,i,o,u,f,y,C){const A=P(),O=ch(A,r,i,o,u,f,y,C);return O!==ir&&Rc(A,ns(),O),Fy}function g0(r,i,o){wu(mo(P(),r,i,o))}const Lc=void 0;var Pd=["en",[["a","p"],["AM","PM"],Lc],[["AM","PM"],Lc,Lc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Lc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Lc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Lc,"{1} 'at' {0}",Lc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Gy(r){const o=Math.floor(Math.abs(r)),u=r.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let bh={};function Pp(r){const i=function zy(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=b0(i);if(o)return o;const u=i.split("-")[0];if(o=b0(u),o)return o;if("en"===u)return Pd;throw new Error(`Missing locale data for the locale "${r}".`)}function am(r){return Pp(r)[Dr.PluralCase]}function b0(r){return r in bh||(bh[r]=Cn.ng&&Cn.ng.common&&Cn.ng.common.locales&&Cn.ng.common.locales[r]),bh[r]}var Dr=(()=>((Dr=Dr||{})[Dr.LocaleId=0]="LocaleId",Dr[Dr.DayPeriodsFormat=1]="DayPeriodsFormat",Dr[Dr.DayPeriodsStandalone=2]="DayPeriodsStandalone",Dr[Dr.DaysFormat=3]="DaysFormat",Dr[Dr.DaysStandalone=4]="DaysStandalone",Dr[Dr.MonthsFormat=5]="MonthsFormat",Dr[Dr.MonthsStandalone=6]="MonthsStandalone",Dr[Dr.Eras=7]="Eras",Dr[Dr.FirstDayOfWeek=8]="FirstDayOfWeek",Dr[Dr.WeekendRange=9]="WeekendRange",Dr[Dr.DateFormat=10]="DateFormat",Dr[Dr.TimeFormat=11]="TimeFormat",Dr[Dr.DateTimeFormat=12]="DateTimeFormat",Dr[Dr.NumberSymbols=13]="NumberSymbols",Dr[Dr.NumberFormats=14]="NumberFormats",Dr[Dr.CurrencyCode=15]="CurrencyCode",Dr[Dr.CurrencySymbol=16]="CurrencySymbol",Dr[Dr.CurrencyName=17]="CurrencyName",Dr[Dr.Currencies=18]="Currencies",Dr[Dr.Directionality=19]="Directionality",Dr[Dr.PluralCase=20]="PluralCase",Dr[Dr.ExtraData=21]="ExtraData",Dr))();const kf="en-US";let um=kf;function w_(r,i,o,u,f){if(r=ie(r),Array.isArray(r))for(let y=0;y<r.length;y++)w_(r[y],i,o,u,f);else{const y=b(),C=P();let A=Is(r)?r:ie(r.provide),O=ao(r);const K=J(),te=1048575&K.providerIndexes,De=K.directiveStart,nt=K.providerIndexes>>20;if(Is(r)||!r.multi){const Et=new Zs(O,f,Tf),Yt=Lp(A,i,f?te:te+nt,De);-1===Yt?(Oo(Ho(K,C),y,A),Fp(y,r,i.length),i.push(A),K.directiveStart++,K.directiveEnd++,f&&(K.providerIndexes+=1048576),o.push(Et),C.push(Et)):(o[Yt]=Et,C[Yt]=Et)}else{const Et=Lp(A,i,te+nt,De),Yt=Lp(A,i,te,te+nt),vn=Et>=0&&o[Et],kn=Yt>=0&&o[Yt];if(f&&!kn||!f&&!vn){Oo(Ho(K,C),y,A);const tr=function Gb(r,i,o,u,f){const y=new Zs(r,o,Tf);return y.multi=[],y.index=i,y.componentProviders=0,mm(y,f,u&&!o),y}(f?V0:Hb,o.length,f,u,O);!f&&kn&&(o[Yt].providerFactory=tr),Fp(y,r,i.length,0),i.push(A),K.directiveStart++,K.directiveEnd++,f&&(K.providerIndexes+=1048576),o.push(tr),C.push(tr)}else Fp(y,r,Et>-1?Et:Yt,mm(o[f?Yt:Et],O,!f&&u));!f&&u&&kn&&o[Yt].componentProviders++}}}function Fp(r,i,o,u){const f=Is(i),y=function Dg(r){return!!r.useClass}(i);if(f||y){const O=(y?ie(i.useClass):i).prototype.ngOnDestroy;if(O){const K=r.destroyHooks||(r.destroyHooks=[]);if(!f&&i.multi){const te=K.indexOf(o);-1===te?K.push(o,[u,O]):K[te+1].push(u,O)}else K.push(o,O)}}}function mm(r,i,o){return o&&r.componentProviders++,r.multi.push(i)-1}function Lp(r,i,o,u){for(let f=o;f<u;f++)if(i[f]===r)return f;return-1}function Hb(r,i,o,u){return ym(this.multi,[])}function V0(r,i,o,u){const f=this.multi;let y;if(this.providerFactory){const C=this.providerFactory.componentProviders,A=B(o,o[1],this.providerFactory.index,u);y=A.slice(0,C),ym(f,y);for(let O=C;O<A.length;O++)y.push(A[O])}else y=[],ym(f,y);return y}function ym(r,i){for(let o=0;o<r.length;o++)i.push((0,r[o])());return i}function _m(r,i=[]){return o=>{o.providersResolver=(u,f)=>function b_(r,i,o){const u=b();if(u.firstCreatePass){const f=kt(r);w_(o,u.data,u.blueprint,f,!0),w_(i,u.data,u.blueprint,f,!1)}}(u,f?f(r):r,i)}}class Bp{}class Wb{resolveComponentFactory(i){throw function zb(r){const i=Error(`No component factory found for ${de(r)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=r,i}(i)}}let Vp=(()=>{class r{}return r.NULL=new Wb,r})();function I_(){return Ah(J(),P())}function Ah(r,i){return new xh(Wt(r,i))}let xh=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=I_,r})();function C_(r){return r instanceof xh?r.nativeElement:r}class Up{}let D_=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function T_(){const r=P(),o=ur(J().index,r);return function H0(r){return r[11]}(ye(o)?o:r)}(),r})(),G0=(()=>{class r{}return r.\u0275prov=Je({token:r,providedIn:"root",factory:()=>null}),r})();class vm{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Mh=new vm("13.2.7"),$p={};function Em(r,i,o,u,f=!1){for(;null!==o;){const y=i[o.index];if(null!==y&&u.push(V(y)),xe(y))for(let A=10;A<y.length;A++){const O=y[A],K=O[1].firstChild;null!==K&&Em(O[1],O,K,u)}const C=o.type;if(8&C)Em(r,i,o.child,u);else if(32&C){const A=Vn(o,i);let O;for(;O=A();)u.push(O)}else if(16&C){const A=ha(i,o);if(Array.isArray(A))u.push(...A);else{const O=zr(i[16]);Em(O[1],O,A,u,!0)}}o=f?o.projectionNext:o.next}return u}class jp{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return Em(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(xe(i)){const o=i[8],u=o?o.indexOf(this):-1;u>-1&&(Yh(i,u),Ui(o,u))}this._attachedToViewContainer=!1}Kh(this._lView[1],this._lView)}onDestroy(i){sv(this._lView[1],this._lView,null,i)}markForCheck(){bg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Xm(this._lView[1],this._lView,this.context)}checkNoChanges(){!function pv(r,i,o){hs(!0);try{Xm(r,i,o)}finally{hs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Oe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function pd(r,i){Hs(r,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Oe(902,"");this._appRef=i}}class qb extends jp{constructor(i){super(i),this._view=i}detectChanges(){fv(this._view)}checkNoChanges(){!function pf(r){hs(!0);try{fv(r)}finally{hs(!1)}}(this._view)}get context(){return null}}class S_ extends Vp{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Er(i);return new A_(o,this.ngModule)}}function z0(r){const i=[];for(let o in r)r.hasOwnProperty(o)&&i.push({propName:r[o],templateName:o});return i}class A_ extends Bp{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function Bt(r){return r.map(On).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return z0(this.componentDef.inputs)}get outputs(){return z0(this.componentDef.outputs)}create(i,o,u,f){const y=(f=f||this.ngModule)?function Yb(r,i){return{get:(o,u,f)=>{const y=r.get(o,$p,f);return y!==$p||u===$p?y:i.get(o,u,f)}}}(i,f.injector):i,C=y.get(Up,U),A=y.get(G0,null),O=C.createRenderer(null,this.componentDef),K=this.componentDef.selectors[0][0]||"div",te=u?function bd(r,i,o){if(jr(r))return r.selectRootElement(i,o===At.ShadowDom);let u="string"==typeof i?r.querySelector(i):i;return u.textContent="",u}(O,u,this.componentDef.encapsulation):ws(C.createRenderer(null,this.componentDef),K,function W0(r){const i=r.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(K)),De=this.componentDef.onPush?576:528,nt=function Mg(r,i){return{components:[],scheduler:r||dd,clean:ih,playerHandler:i||null,flags:0}}(),Et=Ol(0,null,null,1,0,null,null,null,null,null),Yt=lf(null,Et,nt,De,null,null,C,O,A,y);let vn,kn;$o(Yt);try{const tr=function Iv(r,i,o,u,f,y){const C=o[1];o[20]=r;const O=th(C,20,2,"#host",null),K=O.mergedAttrs=i.hostAttrs;null!==K&&(wg(O,K,!0),null!==r&&(ml(f,r,K),null!==O.classes&&np(f,r,O.classes),null!==O.styles&&tp(f,r,O.styles)));const te=u.createRenderer(r,i),De=lf(o,rv(i),null,i.onPush?64:16,o[20],O,u,te,y||null,null);return C.firstCreatePass&&(Oo(Ho(O,o),C,i.type),Ku(C,O),hp(O,o.length,1)),gp(o,De),o[20]=De}(te,this.componentDef,Yt,C,O);if(te)if(u)ml(O,te,["ng-version",Mh.full]);else{const{attrs:tn,classes:Or}=function an(r){const i=[],o=[];let u=1,f=2;for(;u<r.length;){let y=r[u];if("string"==typeof y)2===f?""!==y&&i.push(y,r[++u]):8===f&&o.push(y);else{if(!Ga(f))break;f=y}u++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);tn&&ml(O,te,tn),Or&&Or.length>0&&np(O,te,Or.join(" "))}if(kn=Zr(Et,20),void 0!==o){const tn=kn.projection=[];for(let Or=0;Or<this.ngContentSelectors.length;Or++){const Ci=o[Or];tn.push(null!=Ci?Array.from(Ci):null)}}vn=function Do(r,i,o,u,f){const y=o[1],C=function zE(r,i,o){const u=J();r.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),fp(r,u,i,nh(r,i,1,null),o));const f=B(i,r,u.directiveStart,u);xs(f,i);const y=Wt(u,i);return y&&xs(y,i),f}(y,o,i);if(u.components.push(C),r[8]=C,f&&f.forEach(O=>O(C,i)),i.contentQueries){const O=J();i.contentQueries(1,C,O.directiveStart)}const A=J();return!y.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(ra(A.index),av(o[1],A,0,A.directiveStart,A.directiveEnd,i),qm(i,C)),C}(tr,this.componentDef,Yt,nt,[Cv]),as(Et,Yt,null)}finally{Os()}return new q0(this.componentType,vn,Ah(kn,Yt),Yt,kn)}}class q0 extends class U0{}{constructor(i,o,u,f,y){super(),this.location=u,this._rootLView=f,this._tNode=y,this.instance=o,this.hostView=this.changeDetectorRef=new qb(f),this.componentType=i}get injector(){return new Ye(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}class Rh{}class M_{}const Ph=new Map;class Cs extends Rh{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new S_(this);const u=Br(i);this._bootstrapComponents=_(u.bootstrap),this._r3Injector=sy(i,o,[{provide:Rh,useValue:this},{provide:Vp,useValue:this.componentFactoryResolver}],de(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,o=fa.THROW_IF_NOT_FOUND,u=rn.Default){return i===fa||i===Rh||i===ny?this:this._r3Injector.get(i,o,u)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Bo extends M_{constructor(i){super(),this.moduleType=i,null!==Br(i)&&function Y0(r){const i=new Set;!function o(u){const f=Br(u,!0),y=f.id;null!==y&&(function wi(r,i,o){if(i&&i!==o)throw new Error(`Duplicate module registered for ${r} - ${de(i)} vs ${de(i.name)}`)}(y,Ph.get(y),u),Ph.set(y,u));const C=_(f.imports);for(const A of C)i.has(A)||(i.add(A),o(A))}(r)}(i)}create(i){return new Cs(this.moduleType,i)}}function P_(r,i,o,u){return ew(P(),Ti(),r,i,o,u)}function K0(r,i,o,u,f){return tw(P(),Ti(),r,i,o,u,f)}function fs(r,i){const o=r[i];return o===ir?void 0:o}function ew(r,i,o,u,f,y){const C=i+o;return lo(r,C,f)?Zu(r,C+1,y?u.call(y,f):u(f)):fs(r,C+1)}function tw(r,i,o,u,f,y,C){const A=i+o;return Fl(r,A,f,y)?Zu(r,A+2,C?u.call(C,f,y):u(f,y)):fs(r,A+2)}function J0(r,i){const o=b();let u;const f=r+20;o.firstCreatePass?(u=function eE(r,i){if(i)for(let o=i.length-1;o>=0;o--){const u=i[o];if(r===u.name)return u}}(i,o.pipeRegistry),o.data[f]=u,u.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(f,u.onDestroy)):u=o.data[f];const y=u.factory||(u.factory=ni(u.type)),C=er(Tf);try{const A=Ro(!1),O=y();return Ro(A),function ab(r,i,o,u){o>=r.data.length&&(r.data[o]=null,r.blueprint[o]=null),i[o]=u}(o,P(),f,O),O}finally{er(C)}}function tE(r,i,o){const u=r+20,f=P(),y=or(f,u);return Hp(f,u)?ew(f,Ti(),i,y.transform,o,y):y.transform(o)}function nE(r,i,o,u){const f=r+20,y=P(),C=or(y,f);return Hp(y,f)?tw(y,Ti(),i,C.transform,o,u,C):C.transform(o,u)}function Hp(r,i){return r[1].data[i].pure}function wm(r){return i=>{setTimeout(r,void 0,i)}}const Vo=class iw extends l.xQ{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){var f,y,C;let A=i,O=o||(()=>null),K=u;if(i&&"object"==typeof i){const De=i;A=null===(f=De.next)||void 0===f?void 0:f.bind(De),O=null===(y=De.error)||void 0===y?void 0:y.bind(De),K=null===(C=De.complete)||void 0===C?void 0:C.bind(De)}this.__isAsync&&(O=wm(O),A&&(A=wm(A)),K&&(K=wm(K)));const te=super.subscribe({next:A,error:O,complete:K});return i instanceof X.w&&i.add(te),te}};function uI(){return this._results[Ef()]()}class Vl{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Ef(),u=Vl.prototype;u[o]||(u[o]=uI)}get changes(){return this._changes||(this._changes=new Vo)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const f=Us(i);(this._changesDetected=!function Zl(r,i,o){if(r.length!==i.length)return!1;for(let u=0;u<r.length;u++){let f=r[u],y=i[u];if(o&&(f=o(f),y=o(y)),y!==f)return!1}return!0}(u._results,f,o))&&(u._results=f,u.length=f.length,u.last=f[this.length-1],u.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Tu=(()=>{class r{}return r.__NG_ELEMENT_ID__=ow,r})();const Im=Tu,sw=class extends Im{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i){const o=this._declarationTContainer.tViews,u=lf(this._declarationLView,o,i,16,null,o.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(u[19]=y.createEmbeddedView(o)),as(o,u,i),new jp(u)}};function ow(){return Gp(J(),P())}function Gp(r,i){return 4&r.type?new sw(i,r,Ah(r,i)):null}let zp=(()=>{class r{}return r.__NG_ELEMENT_ID__=Cm,r})();function Cm(){return N_(J(),P())}const aw=zp,kd=class extends aw{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return Ah(this._hostTNode,this._hostLView)}get injector(){return new Ye(this._hostTNode,this._hostLView)}get parentInjector(){const i=io(this._hostTNode,this._hostLView);if(Ei(i)){const o=Es(i,this._hostLView),u=Gr(i);return new Ye(o[1].data[u+8],o)}return new Ye(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=Wp(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,u){const f=i.createEmbeddedView(o||{});return this.insert(f,u),f}createComponent(i,o,u,f,y){const C=i&&!function va(r){return"function"==typeof r}(i);let A;if(C)A=o;else{const De=o||{};A=De.index,u=De.injector,f=De.projectableNodes,y=De.ngModuleRef}const O=C?i:new A_(Er(i)),K=u||this.parentInjector;if(!y&&null==O.ngModule){const nt=(C?K:this.parentInjector).get(Rh,null);nt&&(y=nt)}const te=O.create(K,f,void 0,y);return this.insert(te.hostView,A),te}insert(i,o){const u=i._lView,f=u[1];if(function ai(r){return xe(r[3])}(u)){const te=this.indexOf(i);if(-1!==te)this.detach(te);else{const De=u[3],nt=new kd(De,De[6],De[3]);nt.detach(nt.indexOf(i))}}const y=this._adjustIndex(o),C=this._lContainer;!function Kf(r,i,o,u){const f=10+u,y=o.length;u>0&&(o[f-1][4]=i),u<y-10?(i[4]=o[f],el(o,10+u,i)):(o.push(i),i[4]=null),i[3]=o;const C=i[17];null!==C&&o!==C&&function Zf(r,i){const o=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===o?r[9]=[i]:o.push(i)}(C,i);const A=i[19];null!==A&&A.insertView(r),i[2]|=128}(f,u,C,y);const A=Jh(y,C),O=u[11],K=Ic(O,C[7]);return null!==K&&function wc(r,i,o,u,f,y){u[0]=f,u[6]=i,Hs(r,u,o,1,f,y)}(f,C[6],O,u,K,A),i.attachToViewContainerRef(),el(Oh(C),y,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=Wp(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=Yh(this._lContainer,o);u&&(Ui(Oh(this._lContainer),o),Kh(u[1],u))}detach(i){const o=this._adjustIndex(i,-1),u=Yh(this._lContainer,o);return u&&null!=Ui(Oh(this._lContainer),o)?new jp(u):null}_adjustIndex(i,o=0){return null==i?this.length+o:i}};function Wp(r){return r[8]}function Oh(r){return r[8]||(r[8]=[])}function N_(r,i){let o;const u=i[r.index];if(xe(u))o=u;else{let f;if(8&r.type)f=V(u);else{const y=i[11];f=y.createComment("");const C=Wt(r,i);Wu(y,Ic(y,C),f,function ug(r,i){return jr(r)?r.nextSibling(i):i.nextSibling}(y,C),!1)}i[r.index]=o=hf(u,i,f,r),gp(i,o)}return new kd(o,r,i)}class L_{constructor(i){this.queryList=i,this.matches=null}clone(){return new L_(this.queryList)}setDirty(){this.queryList.setDirty()}}class qp{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,f=[];for(let y=0;y<u;y++){const C=o.getByIndex(y);f.push(this.queries[C.indexInDeclarationView].clone())}return new qp(f)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==Uc(i,o).matches&&this.queries[o].setDirty()}}class Dm{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class Tm{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const f=null!==o?o.length:0,y=this.getByIndex(u).embeddedTView(i,f);y&&(y.indexInDeclarationView=u,null!==o?o.push(y):o=[y])}return null!==o?new Tm(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Vc{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new Vc(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let f=0;f<u.length;f++){const y=u[f];this.matchTNodeWithReadOption(i,o,rE(o,y)),this.matchTNodeWithReadOption(i,o,D(o,i,y,!1,!1))}else u===Tu?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,D(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const f=this.metadata.read;if(null!==f)if(f===xh||f===zp||f===Tu&&4&o.type)this.addMatch(o.index,-2);else{const y=D(o,i,f,!1,!1);null!==y&&this.addMatch(o.index,y)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function rE(r,i){const o=r.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function B_(r,i,o,u){return-1===o?function iE(r,i){return 11&r.type?Ah(r,i):4&r.type?Gp(r,i):null}(i,r):-2===o?function V_(r,i,o){return o===xh?Ah(i,r):o===Tu?Gp(i,r):o===zp?N_(i,r):void 0}(r,i,u):B(r,r[1],o,i)}function sE(r,i,o,u){const f=i[19].queries[u];if(null===f.matches){const y=r.data,C=o.matches,A=[];for(let O=0;O<C.length;O+=2){const K=C[O];A.push(K<0?null:B_(i,y[K],C[O+1],o.metadata.read))}f.matches=A}return f.matches}function Bf(r,i,o,u){const f=r.queries.getByIndex(o),y=f.matches;if(null!==y){const C=sE(r,i,f,o);for(let A=0;A<y.length;A+=2){const O=y[A];if(O>0)u.push(C[A/2]);else{const K=y[A+1],te=i[-O];for(let De=10;De<te.length;De++){const nt=te[De];nt[17]===nt[3]&&Bf(nt[1],nt,K,u)}if(null!==te[9]){const De=te[9];for(let nt=0;nt<De.length;nt++){const Et=De[nt];Bf(Et[1],Et,K,u)}}}}}return u}function Yp(r){const i=P(),o=b(),u=Ma();$l(u+1);const f=Uc(o,u);if(r.dirty&&Rr(i)===(2==(2&f.metadata.flags))){if(null===f.matches)r.reset([]);else{const y=f.crossesNgTemplate?Bf(o,i,u,[]):sE(o,i,f,u);r.reset(y,C_),r.notifyOnChanges()}return!0}return!1}function U_(r,i,o){const u=b();u.firstCreatePass&&(Ju(u,new Dm(r,i,o),-1),2==(2&i)&&(u.staticViewQueries=!0)),Nd(u,P(),i)}function Vf(r,i,o,u){const f=b();if(f.firstCreatePass){const y=J();Ju(f,new Dm(i,o,u),y.index),function Kp(r,i){const o=r.contentQueries||(r.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,i)}(f,r),2==(2&o)&&(f.staticContentQueries=!0)}Nd(f,P(),o)}function oE(){return function Sm(r,i){return r[19].queries[i].queryList}(P(),Ma())}function Nd(r,i,o){const u=new Vl(4==(4&o));sv(r,i,u,u.destroy),null===i[19]&&(i[19]=new qp),i[19].queries.push(new L_(u))}function Ju(r,i,o){null===r.queries&&(r.queries=new Tm),r.queries.track(new Vc(i,o))}function Uc(r,i){return r.queries.getByIndex(i)}function aE(r,i){return Gp(r,i)}function Jp(...r){}const $f=new ss("Application Initializer");let eg=(()=>{class r{constructor(o){this.appInits=o,this.resolve=Jp,this.reject=Jp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,f)=>{this.resolve=u,this.reject=f})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const y=this.appInits[f]();if(_h(y))o.push(y);else if(Cp(y)){const C=new Promise((A,O)=>{y.subscribe({complete:A,error:O})});o.push(C)}}Promise.all(o).then(()=>{u()}).catch(f=>{this.reject(f)}),0===o.length&&u(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(si($f,8))},r.\u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const IE=new ss("AppId",{providedIn:"root",factory:function CE(){return`${jf()}${jf()}${jf()}`}});function jf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const DE=new ss("Platform Initializer"),Y_=new ss("Platform ID"),K_=new ss("appBootstrapListener");let pl=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Je({token:r,factory:r.\u0275fac}),r})();const Rm=new ss("LocaleId",{providedIn:"root",factory:()=>rl(Rm,rn.Optional|rn.SkipSelf)||function Aa(){return"undefined"!=typeof $localize&&$localize.locale||kf}()}),TE=new ss("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class bw{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let Z_=(()=>{class r{compileModuleSync(o){return new Bo(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),y=_(Br(o).declarations).reduce((C,A)=>{const O=Er(A);return O&&C.push(new A_(O)),C},[]);return new bw(u,y)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const X_=(()=>Promise.resolve(0))();function $c(r){"undefined"==typeof Zone?X_.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class Su{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Vo(!1),this.onMicrotaskEmpty=new Vo(!1),this.onStable=new Vo(!1),this.onError=new Vo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!u&&o,f.shouldCoalesceRunChangeDetection=u,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function ww(){let r=Cn.requestAnimationFrame,i=Cn.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&i){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function Cw(r){const i=()=>{!function SE(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Cn,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,tg(r),r.isCheckStableRunning=!0,Q_(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),tg(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,f,y,C,A)=>{try{return ng(r),o.invokeTask(f,y,C,A)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||r.shouldCoalesceRunChangeDetection)&&i(),J_(r)}},onInvoke:(o,u,f,y,C,A,O)=>{try{return ng(r),o.invoke(f,y,C,A,O)}finally{r.shouldCoalesceRunChangeDetection&&i(),J_(r)}},onHasTask:(o,u,f,y)=>{o.hasTask(f,y),u===f&&("microTask"==y.change?(r._hasPendingMicrotasks=y.microTask,tg(r),Q_(r)):"macroTask"==y.change&&(r.hasPendingMacrotasks=y.macroTask))},onHandleError:(o,u,f,y)=>(o.handleError(f,y),r.runOutsideAngular(()=>r.onError.emit(y)),!1)})}(f)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Su.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Su.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,f){const y=this._inner,C=y.scheduleEventTask("NgZoneEvent: "+f,i,Iw,Jp,Jp);try{return y.runTask(C,o,u)}finally{y.cancelTask(C)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const Iw={};function Q_(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function tg(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function ng(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function J_(r){r._nesting--,Q_(r)}class Dw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Vo,this.onMicrotaskEmpty=new Vo,this.onStable=new Vo,this.onError=new Vo}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,f){return i.apply(o,u)}}let km=(()=>{class r{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Su.assertNotInAngularZone(),$c(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())$c(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,f){let y=-1;u&&u>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==y),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:y,updateCb:f})}whenStable(o,u,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,u,f){return[]}}return r.\u0275fac=function(o){return new(o||r)(si(Su))},r.\u0275prov=Je({token:r,factory:r.\u0275fac}),r})(),AE=(()=>{class r{constructor(){this._applications=new Map,Nm.addToWindow(this)}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return Nm.findTestabilityInTree(this,o,u)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Je({token:r,factory:r.\u0275fac}),r})();class xE{addToWindow(i){}findTestabilityInTree(i,o,u){return null}}function ME(r){Nm=r}let Au,Nm=new xE;const PE=new ss("AllowMultipleToken");class OE{constructor(i,o){this.name=i,this.token=o}}function kE(r,i,o=[]){const u=`Platform: ${i}`,f=new ss(u);return(y=[])=>{let C=Rw();if(!C||C.injector.get(PE,!1))if(r)r(o.concat(y).concat({provide:f,useValue:!0}));else{const A=o.concat(y).concat({provide:f,useValue:!0},{provide:ry,useValue:"platform"});!function Aw(r){if(Au&&!Au.destroyed&&!Au.injector.get(PE,!1))throw new Oe(400,"");Au=r.get(NE);const i=r.get(DE,null);i&&i.forEach(o=>o())}(fa.create({providers:A,name:u}))}return function xw(r){const i=Rw();if(!i)throw new Oe(401,"");return i}()}}function Rw(){return Au&&!Au.destroyed?Au:null}let NE=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const A=function n(r,i){let o;return o="noop"===r?new Dw:("zone.js"===r?void 0:r)||new Su({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),o}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),O=[{provide:Su,useValue:A}];return A.run(()=>{const K=fa.create({providers:O,parent:this.injector,name:o.moduleType.name}),te=o.create(K),De=te.injector.get(Ls,null);if(!De)throw new Oe(402,"");return A.runOutsideAngular(()=>{const nt=A.onError.subscribe({next:Et=>{De.handleError(Et)}});te.onDestroy(()=>{a(this._modules,te),nt.unsubscribe()})}),function e(r,i,o){try{const u=o();return _h(u)?u.catch(f=>{throw i.runOutsideAngular(()=>r.handleError(f)),f}):u}catch(u){throw i.runOutsideAngular(()=>r.handleError(u)),u}}(De,A,()=>{const nt=te.injector.get(eg);return nt.runInitializers(),nt.donePromise.then(()=>(function Db(r){it(r,"Expected localeId to be defined"),"string"==typeof r&&(um=r.toLowerCase().replace(/_/g,"-"))}(te.injector.get(Rm,kf)||kf),this._moduleDoBootstrap(te),te))})})}bootstrapModule(o,u=[]){const f=t({},u);return function RE(r,i,o){const u=new Bo(o);return Promise.resolve(u)}(0,0,o).then(y=>this.bootstrapModuleFactory(y,f))}_moduleDoBootstrap(o){const u=o.injector.get(s);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(f=>u.bootstrap(f));else{if(!o.instance.ngDoBootstrap)throw new Oe(403,"");o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Oe(404,"");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(si(fa))},r.\u0275prov=Je({token:r,factory:r.\u0275fac}),r})();function t(r,i){return Array.isArray(i)?i.reduce(t,r):Object.assign(Object.assign({},r),i)}let s=(()=>{class r{constructor(o,u,f,y,C){this._zone=o,this._injector=u,this._exceptionHandler=f,this._componentFactoryResolver=y,this._initStatus=C,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const A=new Z.y(K=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{K.next(this._stable),K.complete()})}),O=new Z.y(K=>{let te;this._zone.runOutsideAngular(()=>{te=this._zone.onStable.subscribe(()=>{Su.assertNotInAngularZone(),$c(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,K.next(!0))})})});const De=this._zone.onUnstable.subscribe(()=>{Su.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{K.next(!1)}))});return()=>{te.unsubscribe(),De.unsubscribe()}});this.isStable=(0,Be.T)(A,O.pipe((0,Se.B)()))}bootstrap(o,u){if(!this._initStatus.done)throw new Oe(405,"");let f;f=o instanceof Bp?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(f.componentType);const y=function Sw(r){return r.isBoundToModule}(f)?void 0:this._injector.get(Rh),A=f.create(fa.NULL,[],u||f.selector,y),O=A.location.nativeElement,K=A.injector.get(km,null),te=K&&A.injector.get(AE);return K&&te&&te.registerApplication(O,K),A.onDestroy(()=>{this.detachView(A.hostView),a(this.components,A),te&&te.unregisterApplication(O)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new Oe(101,"");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;a(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(K_,[]).concat(this._bootstrapListeners).forEach(f=>f(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(o){return new(o||r)(si(Su),si(fa),si(Ls),si(Vp),si(eg))},r.\u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function a(r,i){const o=r.indexOf(i);o>-1&&r.splice(o,1)}let x=!0,H=!1;function Q(){return H=!0,x}function be(){if(H)throw new Error("Cannot enable prod mode after platform setup.");x=!1}let zt=(()=>{class r{}return r.__NG_ELEMENT_ID__=Dn,r})();function Dn(r){return function Zn(r,i,o){if(Pt(r)&&!o){const u=ur(r.index,i);return new jp(u,u)}return 47&r.type?new jp(i[16],i):null}(J(),P(),16==(16&r))}class EI{constructor(){}supports(i){return bf(i)}create(i){return new MI(i)}}const xI=(r,i)=>i;class MI{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||xI}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,f=0,y=null;for(;o||u;){const C=!u||o&&o.currentIndex<wI(u,f,y)?o:u,A=wI(C,f,y),O=C.currentIndex;if(C===u)f--,u=u._nextRemoved;else if(o=o._next,null==C.previousIndex)f++;else{y||(y=[]);const K=A-f,te=O-f;if(K!=te){for(let nt=0;nt<K;nt++){const Et=nt<y.length?y[nt]:y[nt]=0,Yt=Et+nt;te<=Yt&&Yt<K&&(y[nt]=Et+1)}y[C.previousIndex]=te-K}}A!==O&&i(C,A,O)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!bf(i))throw new Oe(900,"");return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let f,y,C,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let A=0;A<this.length;A++)y=i[A],C=this._trackByFn(A,y),null!==o&&Object.is(o.trackById,C)?(u&&(o=this._verifyReinsertion(o,y,C,A)),Object.is(o.item,y)||this._addIdentityChange(o,y)):(o=this._mismatch(o,y,C,A),u=!0),o=o._next}else f=0,function sb(r,i){if(Array.isArray(r))for(let o=0;o<r.length;o++)i(r[o]);else{const o=r[Ef()]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,A=>{C=this._trackByFn(f,A),null!==o&&Object.is(o.trackById,C)?(u&&(o=this._verifyReinsertion(o,A,C,f)),Object.is(o.item,A)||this._addIdentityChange(o,A)):(o=this._mismatch(o,A,C,f),u=!0),o=o._next,f++}),this.length=f;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,f){let y;return null===i?y=this._itTail:(y=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,y,f)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,f))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,y,f)):i=this._addAfter(new RI(o,u),y,f),i}_verifyReinsertion(i,o,u,f){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==y?i=this._reinsertAfter(y,i._prev,f):i.currentIndex!=f&&(i.currentIndex=f,this._addToMoves(i,f)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const f=i._prevRemoved,y=i._nextRemoved;return null===f?this._removalsHead=y:f._nextRemoved=y,null===y?this._removalsTail=f:y._prevRemoved=f,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const f=null===o?this._itHead:o._next;return i._next=f,i._prev=o,null===f?this._itTail=i:f._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new bI),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new bI),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class RI{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class PI{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class bI{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new PI,this.map.set(o,u)),u.add(i)}get(i,o){const f=this.map.get(i);return f?f.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function wI(r,i,o){const u=r.previousIndex;if(null===u)return u;let f=0;return o&&u<o.length&&(f=o[u]),u+i+f}class II{constructor(){}supports(i){return i instanceof Map||Pg(i)}create(){return new OI}}class OI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||Pg(i)))throw new Oe(900,"")}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,f)=>{if(o&&o.key===f)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const y=this._getOrCreateRecordForKey(f,u);o=this._insertBeforeOrAppend(o,y)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const f=this._records.get(i);this._maybeAddToChanges(f,o);const y=f._prev,C=f._next;return y&&(y._next=C),C&&(C._prev=y),f._next=null,f._prev=null,f}const u=new kI(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class kI{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function CI(){return new Fw([new EI])}let Fw=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(null!=u){const f=u.factories.slice();o=o.concat(f)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||CI()),deps:[[r,new il,new Ba]]}}find(o){const u=this.factories.find(f=>f.supports(o));if(null!=u)return u;throw new Oe(901,"")}}return r.\u0275prov=Je({token:r,providedIn:"root",factory:CI}),r})();function DI(){return new Lw([new II])}let Lw=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(u){const f=u.factories.slice();o=o.concat(f)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||DI()),deps:[[r,new il,new Ba]]}}find(o){const u=this.factories.find(y=>y.supports(o));if(u)return u;throw new Oe(901,"")}}return r.\u0275prov=Je({token:r,providedIn:"root",factory:DI}),r})();const LI=kE(null,"core",[{provide:Y_,useValue:"unknown"},{provide:NE,deps:[fa]},{provide:AE,deps:[]},{provide:pl,deps:[]}]);let BI=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(si(s))},r.\u0275mod=pt({type:r}),r.\u0275inj=dt({}),r})()},4182:(hn,ft,$)=>{"use strict";$.d(ft,{Fj:()=>Ve,u5:()=>li,JU:()=>ie,a5:()=>Jn,JJ:()=>Tn,On:()=>Ln});var l=$(5e3),X=$(9808),Z=$(2916),Be=$(6688),Se=$(4850),ae=$(7830),Ee=$(5254);function ge(z,F){return new Z.y(k=>{const re=z.length;if(0===re)return void k.complete();const xt=new Array(re);let v=0,P=0;for(let b=0;b<re;b++){const j=(0,Ee.D)(z[b]);let J=!1;k.add(j.subscribe({next:wt=>{J||(J=!0,P++),xt[b]=wt},error:wt=>k.error(wt),complete:()=>{v++,(v===re||!J)&&(P===re&&k.next(F?F.reduce((wt,dn,En)=>(wt[dn]=xt[En],wt),{}):xt),k.complete())}}))}})}let le=(()=>{class z{constructor(k,re){this._renderer=k,this._elementRef=re,this.onChange=xt=>{},this.onTouched=()=>{}}setProperty(k,re){this._renderer.setProperty(this._elementRef.nativeElement,k,re)}registerOnTouched(k){this.onTouched=k}registerOnChange(k){this.onChange=k}setDisabledState(k){this.setProperty("disabled",k)}}return z.\u0275fac=function(k){return new(k||z)(l.Y36(l.Qsj),l.Y36(l.SBq))},z.\u0275dir=l.lG2({type:z}),z})(),me=(()=>{class z extends le{}return z.\u0275fac=function(){let F;return function(re){return(F||(F=l.n5z(z)))(re||z)}}(),z.\u0275dir=l.lG2({type:z,features:[l.qOj]}),z})();const ie=new l.OlP("NgValueAccessor"),Oe={provide:ie,useExisting:(0,l.Gpc)(()=>Ve),multi:!0},ke=new l.OlP("CompositionEventMode");let Ve=(()=>{class z extends le{constructor(k,re,xt){super(k,re),this._compositionMode=xt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function _e(){const z=(0,X.q)()?(0,X.q)().getUserAgent():"";return/android (\d+)/.test(z.toLowerCase())}())}writeValue(k){this.setProperty("value",null==k?"":k)}_handleInput(k){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(k)}_compositionStart(){this._composing=!0}_compositionEnd(k){this._composing=!1,this._compositionMode&&this.onChange(k)}}return z.\u0275fac=function(k){return new(k||z)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(ke,8))},z.\u0275dir=l.lG2({type:z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(k,re){1&k&&l.NdJ("input",function(v){return re._handleInput(v.target.value)})("blur",function(){return re.onTouched()})("compositionstart",function(){return re._compositionStart()})("compositionend",function(v){return re._compositionEnd(v.target.value)})},features:[l._Bn([Oe]),l.qOj]}),z})();const qe=new l.OlP("NgValidators"),Ae=new l.OlP("NgAsyncValidators");function on(z){return null!=z}function mt(z){const F=(0,l.QGY)(z)?(0,Ee.D)(z):z;return(0,l.CqO)(F),F}function it(z){let F={};return z.forEach(k=>{F=null!=k?Object.assign(Object.assign({},F),k):F}),0===Object.keys(F).length?null:F}function Qe(z,F){return F.map(k=>k(z))}function lt(z){return z.map(F=>function at(z){return!z.validate}(F)?F:k=>F.validate(k))}function Je(z){return null!=z?function Me(z){if(!z)return null;const F=z.filter(on);return 0==F.length?null:function(k){return it(Qe(k,F))}}(lt(z)):null}function dt(z){return null!=z?function Tt(z){if(!z)return null;const F=z.filter(on);return 0==F.length?null:function(k){return function de(...z){if(1===z.length){const F=z[0];if((0,Be.k)(F))return ge(F,null);if((0,ae.K)(F)&&Object.getPrototypeOf(F)===Object.prototype){const k=Object.keys(F);return ge(k.map(re=>F[re]),k)}}if("function"==typeof z[z.length-1]){const F=z.pop();return ge(z=1===z.length&&(0,Be.k)(z[0])?z[0]:z,null).pipe((0,Se.U)(k=>F(...k)))}return ge(z,null)}(Qe(k,F).map(mt)).pipe((0,Se.U)(it))}}(lt(z)):null}function Kt(z,F){return null===z?[F]:Array.isArray(z)?[...z,F]:[z,F]}function fn(z){return z?Array.isArray(z)?z:[z]:[]}function Jt(z,F){return Array.isArray(z)?z.includes(F):z===F}function An(z,F){const k=fn(F);return fn(z).forEach(xt=>{Jt(k,xt)||k.push(xt)}),k}function Cr(z,F){return fn(F).filter(k=>!Jt(z,k))}class yr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(F){this._rawValidators=F||[],this._composedValidatorFn=Je(this._rawValidators)}_setAsyncValidators(F){this._rawAsyncValidators=F||[],this._composedAsyncValidatorFn=dt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(F){this._onDestroyCallbacks.push(F)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(F=>F()),this._onDestroyCallbacks=[]}reset(F){this.control&&this.control.reset(F)}hasError(F,k){return!!this.control&&this.control.hasError(F,k)}getError(F,k){return this.control?this.control.getError(F,k):null}}class Jn extends yr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class rn extends yr{get formDirective(){return null}get path(){return null}}let Tn=(()=>{class z extends class nr{constructor(F){this._cd=F}is(F){var k,re,xt;return"submitted"===F?!!(null===(k=this._cd)||void 0===k?void 0:k.submitted):!!(null===(xt=null===(re=this._cd)||void 0===re?void 0:re.control)||void 0===xt?void 0:xt[F])}}{constructor(k){super(k)}}return z.\u0275fac=function(k){return new(k||z)(l.Y36(Jn,2))},z.\u0275dir=l.lG2({type:z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(k,re){2&k&&l.ekj("ng-untouched",re.is("untouched"))("ng-touched",re.is("touched"))("ng-pristine",re.is("pristine"))("ng-dirty",re.is("dirty"))("ng-valid",re.is("valid"))("ng-invalid",re.is("invalid"))("ng-pending",re.is("pending"))},features:[l.qOj]}),z})();function Nt(z,F){(function Yn(z,F){const k=function en(z){return z._rawValidators}(z);null!==F.validator?z.setValidators(Kt(k,F.validator)):"function"==typeof k&&z.setValidators([k]);const re=function _n(z){return z._rawAsyncValidators}(z);null!==F.asyncValidator?z.setAsyncValidators(Kt(re,F.asyncValidator)):"function"==typeof re&&z.setAsyncValidators([re]);const xt=()=>z.updateValueAndValidity();Pn(F._rawValidators,xt),Pn(F._rawAsyncValidators,xt)})(z,F),F.valueAccessor.writeValue(z.value),function Ie(z,F){F.valueAccessor.registerOnChange(k=>{z._pendingValue=k,z._pendingChange=!0,z._pendingDirty=!0,"change"===z.updateOn&&bt(z,F)})}(z,F),function pt(z,F){const k=(re,xt)=>{F.valueAccessor.writeValue(re),xt&&F.viewToModelUpdate(re)};z.registerOnChange(k),F._registerOnDestroy(()=>{z._unregisterOnChange(k)})}(z,F),function je(z,F){F.valueAccessor.registerOnTouched(()=>{z._pendingTouched=!0,"blur"===z.updateOn&&z._pendingChange&&bt(z,F),"submit"!==z.updateOn&&z.markAsTouched()})}(z,F),function sr(z,F){if(F.valueAccessor.setDisabledState){const k=re=>{F.valueAccessor.setDisabledState(re)};z.registerOnDisabledChange(k),F._registerOnDestroy(()=>{z._unregisterOnDisabledChange(k)})}}(z,F)}function Pn(z,F){z.forEach(k=>{k.registerOnValidatorChange&&k.registerOnValidatorChange(F)})}function bt(z,F){z._pendingDirty&&z.markAsDirty(),z.setValue(z._pendingValue,{emitModelToViewChange:!1}),F.viewToModelUpdate(z._pendingValue),z._pendingChange=!1}function Li(z,F){const k=z.indexOf(F);k>-1&&z.splice(k,1)}const Mr="VALID",Hr="INVALID",Yr="PENDING",qt="DISABLED";function mr(z){return(gi(z)?z.validators:z)||null}function ri(z){return Array.isArray(z)?Je(z):z||null}function oi(z,F){return(gi(F)?F.asyncValidators:z)||null}function Tr(z){return Array.isArray(z)?dt(z):z||null}function gi(z){return null!=z&&!Array.isArray(z)&&"object"==typeof z}const Ar=z=>z instanceof qr;function In(z){return(z=>z instanceof Mn)(z)?z.value:z.getRawValue()}function xi(z,F){const k=Ar(z),re=z.controls;if(!(k?Object.keys(re):re).length)throw new l.vHH(1e3,"");if(!re[F])throw new l.vHH(1001,"")}function Rt(z,F){Ar(z),z._forEachChild((re,xt)=>{if(void 0===F[xt])throw new l.vHH(1002,"")})}class di{constructor(F,k){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=F,this._rawAsyncValidators=k,this._composedValidatorFn=ri(this._rawValidators),this._composedAsyncValidatorFn=Tr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(F){this._rawValidators=this._composedValidatorFn=F}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(F){this._rawAsyncValidators=this._composedAsyncValidatorFn=F}get parent(){return this._parent}get valid(){return this.status===Mr}get invalid(){return this.status===Hr}get pending(){return this.status==Yr}get disabled(){return this.status===qt}get enabled(){return this.status!==qt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(F){this._rawValidators=F,this._composedValidatorFn=ri(F)}setAsyncValidators(F){this._rawAsyncValidators=F,this._composedAsyncValidatorFn=Tr(F)}addValidators(F){this.setValidators(An(F,this._rawValidators))}addAsyncValidators(F){this.setAsyncValidators(An(F,this._rawAsyncValidators))}removeValidators(F){this.setValidators(Cr(F,this._rawValidators))}removeAsyncValidators(F){this.setAsyncValidators(Cr(F,this._rawAsyncValidators))}hasValidator(F){return Jt(this._rawValidators,F)}hasAsyncValidator(F){return Jt(this._rawAsyncValidators,F)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(F={}){this.touched=!0,this._parent&&!F.onlySelf&&this._parent.markAsTouched(F)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(F=>F.markAllAsTouched())}markAsUntouched(F={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(k=>{k.markAsUntouched({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}markAsDirty(F={}){this.pristine=!1,this._parent&&!F.onlySelf&&this._parent.markAsDirty(F)}markAsPristine(F={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(k=>{k.markAsPristine({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}markAsPending(F={}){this.status=Yr,!1!==F.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!F.onlySelf&&this._parent.markAsPending(F)}disable(F={}){const k=this._parentMarkedDirty(F.onlySelf);this.status=qt,this.errors=null,this._forEachChild(re=>{re.disable(Object.assign(Object.assign({},F),{onlySelf:!0}))}),this._updateValue(),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},F),{skipPristineCheck:k})),this._onDisabledChange.forEach(re=>re(!0))}enable(F={}){const k=this._parentMarkedDirty(F.onlySelf);this.status=Mr,this._forEachChild(re=>{re.enable(Object.assign(Object.assign({},F),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},F),{skipPristineCheck:k})),this._onDisabledChange.forEach(re=>re(!1))}_updateAncestors(F){this._parent&&!F.onlySelf&&(this._parent.updateValueAndValidity(F),F.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(F){this._parent=F}updateValueAndValidity(F={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mr||this.status===Yr)&&this._runAsyncValidator(F.emitEvent)),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!F.onlySelf&&this._parent.updateValueAndValidity(F)}_updateTreeValidity(F={emitEvent:!0}){this._forEachChild(k=>k._updateTreeValidity(F)),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qt:Mr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(F){if(this.asyncValidator){this.status=Yr,this._hasOwnPendingAsyncValidator=!0;const k=mt(this.asyncValidator(this));this._asyncValidationSubscription=k.subscribe(re=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(re,{emitEvent:F})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(F,k={}){this.errors=F,this._updateControlsErrors(!1!==k.emitEvent)}get(F){return function jn(z,F,k){if(null==F||(Array.isArray(F)||(F=F.split(k)),Array.isArray(F)&&0===F.length))return null;let re=z;return F.forEach(xt=>{re=Ar(re)?re.controls.hasOwnProperty(xt)?re.controls[xt]:null:(z=>z instanceof Di)(re)&&re.at(xt)||null}),re}(this,F,".")}getError(F,k){const re=k?this.get(k):this;return re&&re.errors?re.errors[F]:null}hasError(F,k){return!!this.getError(F,k)}get root(){let F=this;for(;F._parent;)F=F._parent;return F}_updateControlsErrors(F){this.status=this._calculateStatus(),F&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(F)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?qt:this.errors?Hr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Yr)?Yr:this._anyControlsHaveStatus(Hr)?Hr:Mr}_anyControlsHaveStatus(F){return this._anyControls(k=>k.status===F)}_anyControlsDirty(){return this._anyControls(F=>F.dirty)}_anyControlsTouched(){return this._anyControls(F=>F.touched)}_updatePristine(F={}){this.pristine=!this._anyControlsDirty(),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}_updateTouched(F={}){this.touched=this._anyControlsTouched(),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}_isBoxedValue(F){return"object"==typeof F&&null!==F&&2===Object.keys(F).length&&"value"in F&&"disabled"in F}_registerOnCollectionChange(F){this._onCollectionChange=F}_setUpdateStrategy(F){gi(F)&&null!=F.updateOn&&(this._updateOn=F.updateOn)}_parentMarkedDirty(F){return!F&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Mn extends di{constructor(F=null,k,re){super(mr(k),oi(re,k)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(F),this._setUpdateStrategy(k),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),gi(k)&&k.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(F)?F.value:F)}setValue(F,k={}){this.value=this._pendingValue=F,this._onChange.length&&!1!==k.emitModelToViewChange&&this._onChange.forEach(re=>re(this.value,!1!==k.emitViewToModelChange)),this.updateValueAndValidity(k)}patchValue(F,k={}){this.setValue(F,k)}reset(F=this.defaultValue,k={}){this._applyFormState(F),this.markAsPristine(k),this.markAsUntouched(k),this.setValue(this.value,k),this._pendingChange=!1}_updateValue(){}_anyControls(F){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(F){this._onChange.push(F)}_unregisterOnChange(F){Li(this._onChange,F)}registerOnDisabledChange(F){this._onDisabledChange.push(F)}_unregisterOnDisabledChange(F){Li(this._onDisabledChange,F)}_forEachChild(F){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(F){this._isBoxedValue(F)?(this.value=this._pendingValue=F.value,F.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=F}}class qr extends di{constructor(F,k,re){super(mr(k),oi(re,k)),this.controls=F,this._initObservables(),this._setUpdateStrategy(k),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(F,k){return this.controls[F]?this.controls[F]:(this.controls[F]=k,k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange),k)}addControl(F,k,re={}){this.registerControl(F,k),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}removeControl(F,k={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}setControl(F,k,re={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],k&&this.registerControl(F,k),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}contains(F){return this.controls.hasOwnProperty(F)&&this.controls[F].enabled}setValue(F,k={}){Rt(this,F),Object.keys(F).forEach(re=>{xi(this,re),this.controls[re].setValue(F[re],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k)}patchValue(F,k={}){null!=F&&(Object.keys(F).forEach(re=>{this.controls[re]&&this.controls[re].patchValue(F[re],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k))}reset(F={},k={}){this._forEachChild((re,xt)=>{re.reset(F[xt],{onlySelf:!0,emitEvent:k.emitEvent})}),this._updatePristine(k),this._updateTouched(k),this.updateValueAndValidity(k)}getRawValue(){return this._reduceChildren({},(F,k,re)=>(F[re]=In(k),F))}_syncPendingControls(){let F=this._reduceChildren(!1,(k,re)=>!!re._syncPendingControls()||k);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){Object.keys(this.controls).forEach(k=>{const re=this.controls[k];re&&F(re,k)})}_setUpControls(){this._forEachChild(F=>{F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(F){for(const k of Object.keys(this.controls)){const re=this.controls[k];if(this.contains(k)&&F(re))return!0}return!1}_reduceValue(){return this._reduceChildren({},(F,k,re)=>((k.enabled||this.disabled)&&(F[re]=k.value),F))}_reduceChildren(F,k){let re=F;return this._forEachChild((xt,v)=>{re=k(re,xt,v)}),re}_allControlsDisabled(){for(const F of Object.keys(this.controls))if(this.controls[F].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Di extends di{constructor(F,k,re){super(mr(k),oi(re,k)),this.controls=F,this._initObservables(),this._setUpdateStrategy(k),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(F){return this.controls[F]}push(F,k={}){this.controls.push(F),this._registerControl(F),this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}insert(F,k,re={}){this.controls.splice(F,0,k),this._registerControl(k),this.updateValueAndValidity({emitEvent:re.emitEvent})}removeAt(F,k={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),this.controls.splice(F,1),this.updateValueAndValidity({emitEvent:k.emitEvent})}setControl(F,k,re={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),this.controls.splice(F,1),k&&(this.controls.splice(F,0,k),this._registerControl(k)),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(F,k={}){Rt(this,F),F.forEach((re,xt)=>{xi(this,xt),this.at(xt).setValue(re,{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k)}patchValue(F,k={}){null!=F&&(F.forEach((re,xt)=>{this.at(xt)&&this.at(xt).patchValue(re,{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k))}reset(F=[],k={}){this._forEachChild((re,xt)=>{re.reset(F[xt],{onlySelf:!0,emitEvent:k.emitEvent})}),this._updatePristine(k),this._updateTouched(k),this.updateValueAndValidity(k)}getRawValue(){return this.controls.map(F=>In(F))}clear(F={}){this.controls.length<1||(this._forEachChild(k=>k._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:F.emitEvent}))}_syncPendingControls(){let F=this.controls.reduce((k,re)=>!!re._syncPendingControls()||k,!1);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){this.controls.forEach((k,re)=>{F(k,re)})}_updateValue(){this.value=this.controls.filter(F=>F.enabled||this.disabled).map(F=>F.value)}_anyControls(F){return this.controls.some(k=>k.enabled&&F(k))}_setUpControls(){this._forEachChild(F=>this._registerControl(F))}_allControlsDisabled(){for(const F of this.controls)if(F.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(F){F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)}}const kt={provide:Jn,useExisting:(0,l.Gpc)(()=>Ln)},yn=(()=>Promise.resolve(null))();let Ln=(()=>{class z extends Jn{constructor(k,re,xt,v,P){super(),this._changeDetectorRef=P,this.control=new Mn,this._registered=!1,this.update=new l.vpe,this._parent=k,this._setValidators(re),this._setAsyncValidators(xt),this.valueAccessor=function Kn(z,F){if(!F)return null;let k,re,xt;return Array.isArray(F),F.forEach(v=>{v.constructor===Ve?k=v:function Br(z){return Object.getPrototypeOf(z.constructor)===me}(v)?re=v:xt=v}),xt||re||k||null}(0,v)}ngOnChanges(k){if(this._checkForErrors(),!this._registered||"name"in k){if(this._registered&&(this._checkName(),this.formDirective)){const re=k.name.previousValue;this.formDirective.removeControl({name:re,path:this._getPath(re)})}this._setUpControl()}"isDisabled"in k&&this._updateDisabled(k),function zn(z,F){if(!z.hasOwnProperty("model"))return!1;const k=z.model;return!!k.isFirstChange()||!Object.is(F,k.currentValue)}(k,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(k){this.viewModel=k,this.update.emit(k)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Nt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(k){yn.then(()=>{var re;this.control.setValue(k,{emitViewToModelChange:!1}),null===(re=this._changeDetectorRef)||void 0===re||re.markForCheck()})}_updateDisabled(k){const re=k.isDisabled.currentValue,xt=""===re||re&&"false"!==re;yn.then(()=>{var v;xt&&!this.control.disabled?this.control.disable():!xt&&this.control.disabled&&this.control.enable(),null===(v=this._changeDetectorRef)||void 0===v||v.markForCheck()})}_getPath(k){return this._parent?function pn(z,F){return[...F.path,z]}(k,this._parent):[k]}}return z.\u0275fac=function(k){return new(k||z)(l.Y36(rn,9),l.Y36(qe,10),l.Y36(Ae,10),l.Y36(ie,10),l.Y36(l.sBO,8))},z.\u0275dir=l.lG2({type:z,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([kt]),l.qOj,l.TTD]}),z})(),tt=(()=>{class z{}return z.\u0275fac=function(k){return new(k||z)},z.\u0275mod=l.oAB({type:z}),z.\u0275inj=l.cJS({}),z})(),ai=(()=>{class z{}return z.\u0275fac=function(k){return new(k||z)},z.\u0275mod=l.oAB({type:z}),z.\u0275inj=l.cJS({imports:[[tt]]}),z})(),li=(()=>{class z{}return z.\u0275fac=function(k){return new(k||z)},z.\u0275mod=l.oAB({type:z}),z.\u0275inj=l.cJS({imports:[ai]}),z})()},3442:(hn,ft,$)=>{"use strict";$.d(ft,{gz:()=>kt,y6:()=>jr,m2:()=>nr,OD:()=>rn,eC:()=>xn,wm:()=>sa,wN:()=>nc,F0:()=>qi,rH:()=>zl,Bz:()=>ku,Hx:()=>Hr});var l=$(5e3),X=$(2866),Z=$(6688),Be=$(826),Se=$(448),ae=$(3009);const Ee={};class ge{constructor(S){this.resultSelector=S}call(S,D){return D.subscribe(new le(S,this.resultSelector))}}class le extends Be.L{constructor(S,D){super(S),this.resultSelector=D,this.active=0,this.values=[],this.observables=[]}_next(S){this.values.push(Ee),this.observables.push(S)}_complete(){const S=this.observables,D=S.length;if(0===D)this.destination.complete();else{this.active=D,this.toRespond=D;for(let B=0;B<D;B++)this.add((0,Se.D)(this,S[B],void 0,B))}}notifyComplete(S){0==(this.active-=1)&&this.destination.complete()}notifyNext(S,D,B){const q=this.values,Pe=this.toRespond?q[B]===Ee?--this.toRespond:this.toRespond:0;q[B]=D,0===Pe&&(this.resultSelector?this._tryResultSelector(q):this.destination.next(q.slice()))}_tryResultSelector(S){let D;try{D=this.resultSelector.apply(this,S)}catch(B){return void this.destination.error(B)}this.destination.next(D)}}var me=$(2916),ie=$(5254),he=$(8896);function We(R){return new me.y(S=>{let D;try{D=R()}catch(q){return void S.error(q)}return(D?(0,ie.D)(D):(0,he.c)()).subscribe(S)})}var Oe=$(1086),_e=$(591),ke=$(1737),Ve=$(4450),st=$(1221),Le=$(1762),qe=$(8929),Ae=$(1177);function Ze(R){return function(D){const B=new Dt(R),q=D.lift(B);return B.caught=q}}class Dt{constructor(S){this.selector=S}call(S,D){return D.subscribe(new Ct(S,this.selector,this.caught))}}class Ct extends Ae.Ds{constructor(S,D,B){super(S),this.selector=D,this.caught=B}error(S){if(!this.isStopped){let D;try{D=this.selector(S,this.caught)}catch(se){return void super.error(se)}this._unsubscribeAndRecycle();const B=new Ae.IY(this);this.add(B);const q=(0,Ae.ft)(D,B);q!==B&&this.add(q)}}}var Ue=$(2198),G=$(3489),Re=$(4231);function Te(R){return function(D){return 0===R?(0,he.c)():D.lift(new Ce(R))}}class Ce{constructor(S){if(this.total=S,this.total<0)throw new Re.W}call(S,D){return D.subscribe(new rt(S,this.total))}}class rt extends G.L{constructor(S,D){super(S),this.total=D,this.ring=new Array,this.count=0}_next(S){const D=this.ring,B=this.total,q=this.count++;D.length<B?D.push(S):D[q%B]=S}_complete(){const S=this.destination;let D=this.count;if(D>0){const B=this.count>=this.total?this.total:this.count,q=this.ring;for(let se=0;se<B;se++){const Pe=D++%B;S.next(q[Pe])}}S.complete()}}var et=$(4907),Xt=$(7314),on=$(5379),it=$(2654);class at{constructor(S){this.callback=S}call(S,D){return D.subscribe(new lt(S,this.callback))}}class lt extends G.L{constructor(S,D){super(S),this.add(new it.w(D))}}var Me=$(4850),Je=$(7545),Tt=$(2986),dt=$(1059),Kt=$(2014),en=$(1406),_n=$(7224),fn=$(1709),Jt=$(2868),An=$(4327),Cr=$(9146),yr=$(9808);class Jn{constructor(S,D){this.id=S,this.url=D}}class rn extends Jn{constructor(S,D,B="imperative",q=null){super(S,D),this.navigationTrigger=B,this.restoredState=q}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class nr extends Jn{constructor(S,D,B){super(S,D),this.urlAfterRedirects=B}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Nn extends Jn{constructor(S,D,B){super(S,D),this.reason=B}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class er extends Jn{constructor(S,D,B){super(S,D),this.error=B}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Tn extends Jn{constructor(S,D,B,q){super(S,D),this.urlAfterRedirects=B,this.state=q}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xr extends Jn{constructor(S,D,B,q){super(S,D),this.urlAfterRedirects=B,this.state=q}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ot extends Jn{constructor(S,D,B,q,se){super(S,D),this.urlAfterRedirects=B,this.state=q,this.shouldActivate=se}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fe extends Jn{constructor(S,D,B,q){super(S,D),this.urlAfterRedirects=B,this.state=q}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ve extends Jn{constructor(S,D,B,q){super(S,D),this.urlAfterRedirects=B,this.state=q}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ht{constructor(S){this.route=S}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class At{constructor(S){this.route=S}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Gt{constructor(S){this.snapshot=S}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gn{constructor(S){this.snapshot=S}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qn{constructor(S){this.snapshot=S}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gn{constructor(S){this.snapshot=S}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cn{constructor(S,D,B){this.routerEvent=S,this.position=D,this.anchor=B}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const xn="primary";class ei{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const D=this.params[S];return Array.isArray(D)?D[0]:D}return null}getAll(S){if(this.has(S)){const D=this.params[S];return Array.isArray(D)?D:[D]}return[]}get keys(){return Object.keys(this.params)}}function _r(R){return new ei(R)}const ln="ngNavigationCancelingError";function fr(R){const S=Error("NavigationCancelingError: "+R);return S[ln]=!0,S}function pn(R,S,D){const B=D.path.split("/");if(B.length>R.length||"full"===D.pathMatch&&(S.hasChildren()||B.length<R.length))return null;const q={};for(let se=0;se<B.length;se++){const Pe=B[se],Ye=R[se];if(Pe.startsWith(":"))q[Pe.substring(1)]=Ye;else if(Pe!==Ye.path)return null}return{consumed:R.slice(0,B.length),posParams:q}}function cn(R,S){const D=R?Object.keys(R):void 0,B=S?Object.keys(S):void 0;if(!D||!B||D.length!=B.length)return!1;let q;for(let se=0;se<D.length;se++)if(q=D[se],!Pn(R[q],S[q]))return!1;return!0}function Pn(R,S){if(Array.isArray(R)&&Array.isArray(S)){if(R.length!==S.length)return!1;const D=[...R].sort(),B=[...S].sort();return D.every((q,se)=>B[se]===q)}return R===S}function sr(R){return Array.prototype.concat.apply([],R)}function Yn(R){return R.length>0?R[R.length-1]:null}function Ie(R,S){for(const D in R)R.hasOwnProperty(D)&&S(R[D],D)}function je(R){return(0,l.CqO)(R)?R:(0,l.QGY)(R)?(0,ie.D)(Promise.resolve(R)):(0,Oe.of)(R)}const pt={exact:function ui(R,S,D){if(!ci(R.segments,S.segments)||!Br(R.segments,S.segments,D)||R.numberOfChildren!==S.numberOfChildren)return!1;for(const B in S.children)if(!R.children[B]||!ui(R.children[B],S.children[B],D))return!1;return!0},subset:$r},sn={exact:function vr(R,S){return cn(R,S)},subset:function Er(R,S){return Object.keys(S).length<=Object.keys(R).length&&Object.keys(S).every(D=>Pn(R[D],S[D]))},ignored:()=>!0};function Un(R,S,D){return pt[D.paths](R.root,S.root,D.matrixParams)&&sn[D.queryParams](R.queryParams,S.queryParams)&&!("exact"===D.fragment&&R.fragment!==S.fragment)}function $r(R,S,D){return zn(R,S,S.segments,D)}function zn(R,S,D,B){if(R.segments.length>D.length){const q=R.segments.slice(0,D.length);return!(!ci(q,D)||S.hasChildren()||!Br(q,D,B))}if(R.segments.length===D.length){if(!ci(R.segments,D)||!Br(R.segments,D,B))return!1;for(const q in S.children)if(!R.children[q]||!$r(R.children[q],S.children[q],B))return!1;return!0}{const q=D.slice(0,R.segments.length),se=D.slice(R.segments.length);return!!(ci(R.segments,q)&&Br(R.segments,q,B)&&R.children[xn])&&zn(R.children[xn],S,se,B)}}function Br(R,S,D){return S.every((B,q)=>sn[D](R[q].parameters,B.parameters))}class Wr{constructor(S,D,B){this.root=S,this.queryParams=D,this.fragment=B}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_r(this.queryParams)),this._queryParamMap}toString(){return qt.serialize(this)}}class Kn{constructor(S,D){this.segments=S,this.children=D,this.parent=null,Ie(D,(B,q)=>B.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jn(this)}}class Li{constructor(S,D){this.path=S,this.parameters=D}get parameterMap(){return this._parameterMap||(this._parameterMap=_r(this.parameters)),this._parameterMap}toString(){return ki(this)}}function ci(R,S){return R.length===S.length&&R.every((D,B)=>D.path===S[B].path)}class Hr{}class Yr{parse(S){const D=new ee(S);return new Wr(D.parseRootSegment(),D.parseQueryParams(),D.parseFragment())}serialize(S){const D=`/${mr(S.root,!0)}`,B=function xi(R){const S=Object.keys(R).map(D=>{const B=R[D];return Array.isArray(B)?B.map(q=>`${oi(D)}=${oi(q)}`).join("&"):`${oi(D)}=${oi(B)}`}).filter(D=>!!D);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${D}${B}${"string"==typeof S.fragment?`#${function Tr(R){return encodeURI(R)}(S.fragment)}`:""}`}}const qt=new Yr;function jn(R){return R.segments.map(S=>ki(S)).join("/")}function mr(R,S){if(!R.hasChildren())return jn(R);if(S){const D=R.children[xn]?mr(R.children[xn],!1):"",B=[];return Ie(R.children,(q,se)=>{se!==xn&&B.push(`${se}:${mr(q,!1)}`)}),B.length>0?`${D}(${B.join("//")})`:D}{const D=function Mr(R,S){let D=[];return Ie(R.children,(B,q)=>{q===xn&&(D=D.concat(S(B,q)))}),Ie(R.children,(B,q)=>{q!==xn&&(D=D.concat(S(B,q)))}),D}(R,(B,q)=>q===xn?[mr(R.children[xn],!1)]:[`${q}:${mr(B,!1)}`]);return 1===Object.keys(R.children).length&&null!=R.children[xn]?`${jn(R)}/${D[0]}`:`${jn(R)}/(${D.join("//")})`}}function ri(R){return encodeURIComponent(R).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function oi(R){return ri(R).replace(/%3B/gi,";")}function gi(R){return ri(R).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sr(R){return decodeURIComponent(R)}function Ar(R){return Sr(R.replace(/\+/g,"%20"))}function ki(R){return`${gi(R.path)}${function In(R){return Object.keys(R).map(S=>`;${gi(S)}=${gi(R[S])}`).join("")}(R.parameters)}`}const Rt=/^[^\/()?;=#]+/;function di(R){const S=R.match(Rt);return S?S[0]:""}const Mn=/^[^=?&#]+/,Di=/^[^&#]+/;class ee{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Kn([],{}):new Kn([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let D={};this.peekStartsWith("/(")&&(this.capture("/"),D=this.parseParens(!0));let B={};return this.peekStartsWith("(")&&(B=this.parseParens(!1)),(S.length>0||Object.keys(D).length>0)&&(B[xn]=new Kn(S,D)),B}parseSegment(){const S=di(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(S),new Li(Sr(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const D=di(this.remaining);if(!D)return;this.capture(D);let B="";if(this.consumeOptional("=")){const q=di(this.remaining);q&&(B=q,this.capture(B))}S[Sr(D)]=Sr(B)}parseQueryParam(S){const D=function qr(R){const S=R.match(Mn);return S?S[0]:""}(this.remaining);if(!D)return;this.capture(D);let B="";if(this.consumeOptional("=")){const Pe=function Mi(R){const S=R.match(Di);return S?S[0]:""}(this.remaining);Pe&&(B=Pe,this.capture(B))}const q=Ar(D),se=Ar(B);if(S.hasOwnProperty(q)){let Pe=S[q];Array.isArray(Pe)||(Pe=[Pe],S[q]=Pe),Pe.push(se)}else S[q]=se}parseParens(S){const D={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const B=di(this.remaining),q=this.remaining[B.length];if("/"!==q&&")"!==q&&";"!==q)throw new Error(`Cannot parse url '${this.url}'`);let se;B.indexOf(":")>-1?(se=B.substr(0,B.indexOf(":")),this.capture(se),this.capture(":")):S&&(se=xn);const Pe=this.parseChildren();D[se]=1===Object.keys(Pe).length?Pe[xn]:new Kn([],Pe),this.consumeOptional("//")}return D}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new Error(`Expected "${S}".`)}}class pe{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const D=this.pathFromRoot(S);return D.length>1?D[D.length-2]:null}children(S){const D=He(S,this._root);return D?D.children.map(B=>B.value):[]}firstChild(S){const D=He(S,this._root);return D&&D.children.length>0?D.children[0].value:null}siblings(S){const D=ct(S,this._root);return D.length<2?[]:D[D.length-2].children.map(q=>q.value).filter(q=>q!==S)}pathFromRoot(S){return ct(S,this._root).map(D=>D.value)}}function He(R,S){if(R===S.value)return S;for(const D of S.children){const B=He(R,D);if(B)return B}return null}function ct(R,S){if(R===S.value)return[S];for(const D of S.children){const B=ct(R,D);if(B.length)return B.unshift(S),B}return[]}class ye{constructor(S,D){this.value=S,this.children=D}toString(){return`TreeNode(${this.value})`}}function xe(R){const S={};return R&&R.children.forEach(D=>S[D.value.outlet]=D),S}class ut extends pe{constructor(S,D){super(S),this.snapshot=D,Ri(this,S)}toString(){return this.snapshot.toString()}}function Pt(R,S){const D=function Lt(R,S){const Pe=new rr([],{},{},"",{},xn,S,null,R.root,-1,{});return new cr("",new ye(Pe,[]))}(R,S),B=new _e.X([new Li("",{})]),q=new _e.X({}),se=new _e.X({}),Pe=new _e.X({}),Ye=new _e.X(""),Vt=new kt(B,q,Pe,Ye,se,xn,S,D.root);return Vt.snapshot=D.root,new ut(new ye(Vt,[]),D)}class kt{constructor(S,D,B,q,se,Pe,Ye,Vt){this.url=S,this.params=D,this.queryParams=B,this.fragment=q,this.data=se,this.outlet=Pe,this.component=Ye,this._futureSnapshot=Vt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Me.U)(S=>_r(S)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Me.U)(S=>_r(S)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yn(R,S="emptyOnly"){const D=R.pathFromRoot;let B=0;if("always"!==S)for(B=D.length-1;B>=1;){const q=D[B],se=D[B-1];if(q.routeConfig&&""===q.routeConfig.path)B--;else{if(se.component)break;B--}}return function Ln(R){return R.reduce((S,D)=>({params:Object.assign(Object.assign({},S.params),D.params),data:Object.assign(Object.assign({},S.data),D.data),resolve:Object.assign(Object.assign({},S.resolve),D._resolvedData)}),{params:{},data:{},resolve:{}})}(D.slice(B))}class rr{constructor(S,D,B,q,se,Pe,Ye,Vt,Sn,Vr,$n){this.url=S,this.params=D,this.queryParams=B,this.fragment=q,this.data=se,this.outlet=Pe,this.component=Ye,this.routeConfig=Vt,this._urlSegment=Sn,this._lastPathIndex=Vr,this._resolve=$n}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_r(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_r(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(B=>B.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class cr extends pe{constructor(S,D){super(D),this.url=S,Ri(this,D)}toString(){return ji(this._root)}}function Ri(R,S){S.value._routerState=R,S.children.forEach(D=>Ri(R,D))}function ji(R){const S=R.children.length>0?` { ${R.children.map(ji).join(", ")} } `:"";return`${R.value}${S}`}function Xe(R){if(R.snapshot){const S=R.snapshot,D=R._futureSnapshot;R.snapshot=D,cn(S.queryParams,D.queryParams)||R.queryParams.next(D.queryParams),S.fragment!==D.fragment&&R.fragment.next(D.fragment),cn(S.params,D.params)||R.params.next(D.params),function Nt(R,S){if(R.length!==S.length)return!1;for(let D=0;D<R.length;++D)if(!cn(R[D],S[D]))return!1;return!0}(S.url,D.url)||R.url.next(D.url),cn(S.data,D.data)||R.data.next(D.data)}else R.snapshot=R._futureSnapshot,R.data.next(R._futureSnapshot.data)}function tt(R,S){const D=cn(R.params,S.params)&&function ls(R,S){return ci(R,S)&&R.every((D,B)=>cn(D.parameters,S[B].parameters))}(R.url,S.url);return D&&!(!R.parent!=!S.parent)&&(!R.parent||tt(R.parent,S.parent))}function It(R,S,D){if(D&&R.shouldReuseRoute(S.value,D.value.snapshot)){const B=D.value;B._futureSnapshot=S.value;const q=function Ut(R,S,D){return S.children.map(B=>{for(const q of D.children)if(R.shouldReuseRoute(B.value,q.value.snapshot))return It(R,B,q);return It(R,B)})}(R,S,D);return new ye(B,q)}{if(R.shouldAttach(S.value)){const se=R.retrieve(S.value);if(null!==se){const Pe=se.route;return Pe.value._futureSnapshot=S.value,Pe.children=S.children.map(Ye=>It(R,Ye)),Pe}}const B=function Qt(R){return new kt(new _e.X(R.url),new _e.X(R.params),new _e.X(R.queryParams),new _e.X(R.fragment),new _e.X(R.data),R.outlet,R.component,R)}(S.value),q=S.children.map(se=>It(R,se));return new ye(B,q)}}function Fn(R){return"object"==typeof R&&null!=R&&!R.outlets&&!R.segmentPath}function kr(R){return"object"==typeof R&&null!=R&&R.outlets}function ys(R,S,D,B,q){let se={};if(B&&Ie(B,(Ye,Vt)=>{se[Vt]=Array.isArray(Ye)?Ye.map(Sn=>`${Sn}`):`${Ye}`}),R===S)return new Wr(D,se,q);const Pe=Hi(R,S,D);return new Wr(Pe,se,q)}function Hi(R,S,D){const B={};return Ie(R.children,(q,se)=>{B[se]=q===S?D:Hi(q,S,D)}),new Kn(R.segments,B)}class Bs{constructor(S,D,B){if(this.isAbsolute=S,this.numberOfDoubleDots=D,this.commands=B,S&&B.length>0&&Fn(B[0]))throw new Error("Root segment cannot have matrix parameters");const q=B.find(kr);if(q&&q!==Yn(B))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class lr{constructor(S,D,B){this.segmentGroup=S,this.processChildren=D,this.index=B}}function ni(R,S,D){if(R||(R=new Kn([],{})),0===R.segments.length&&R.hasChildren())return Ni(R,S,D);const B=function Vs(R,S,D){let B=0,q=S;const se={match:!1,pathIndex:0,commandIndex:0};for(;q<R.segments.length;){if(B>=D.length)return se;const Pe=R.segments[q],Ye=D[B];if(kr(Ye))break;const Vt=`${Ye}`,Sn=B<D.length-1?D[B+1]:null;if(q>0&&void 0===Vt)break;if(Vt&&Sn&&"object"==typeof Sn&&void 0===Sn.outlets){if(!Rs(Vt,Sn,Pe))return se;B+=2}else{if(!Rs(Vt,{},Pe))return se;B++}q++}return{match:!0,pathIndex:q,commandIndex:B}}(R,S,D),q=D.slice(B.commandIndex);if(B.match&&B.pathIndex<R.segments.length){const se=new Kn(R.segments.slice(0,B.pathIndex),{});return se.children[xn]=new Kn(R.segments.slice(B.pathIndex),R.children),Ni(se,0,q)}return B.match&&0===q.length?new Kn(R.segments,{}):B.match&&!R.hasChildren()?us(R,S,D):B.match?Ni(R,0,q):us(R,S,D)}function Ni(R,S,D){if(0===D.length)return new Kn(R.segments,{});{const B=function _s(R){return kr(R[0])?R[0].outlets:{[xn]:R}}(D),q={};return Ie(B,(se,Pe)=>{"string"==typeof se&&(se=[se]),null!==se&&(q[Pe]=ni(R.children[Pe],S,se))}),Ie(R.children,(se,Pe)=>{void 0===B[Pe]&&(q[Pe]=se)}),new Kn(R.segments,q)}}function us(R,S,D){const B=R.segments.slice(0,S);let q=0;for(;q<D.length;){const se=D[q];if(kr(se)){const Vt=co(se.outlets);return new Kn(B,Vt)}if(0===q&&Fn(D[0])){B.push(new Li(R.segments[S].path,Ds(D[0]))),q++;continue}const Pe=kr(se)?se.outlets[xn]:`${se}`,Ye=q<D.length-1?D[q+1]:null;Pe&&Ye&&Fn(Ye)?(B.push(new Li(Pe,Ds(Ye))),q+=2):(B.push(new Li(Pe,{})),q++)}return new Kn(B,{})}function co(R){const S={};return Ie(R,(D,B)=>{"string"==typeof D&&(D=[D]),null!==D&&(S[B]=us(new Kn([],{}),0,D))}),S}function Ds(R){const S={};return Ie(R,(D,B)=>S[B]=`${D}`),S}function Rs(R,S,D){return R==D.path&&cn(S,D.parameters)}class vs{constructor(S,D,B,q){this.routeReuseStrategy=S,this.futureState=D,this.currState=B,this.forwardEvent=q}activate(S){const D=this.futureState._root,B=this.currState?this.currState._root:null;this.deactivateChildRoutes(D,B,S),Xe(this.futureState.root),this.activateChildRoutes(D,B,S)}deactivateChildRoutes(S,D,B){const q=xe(D);S.children.forEach(se=>{const Pe=se.value.outlet;this.deactivateRoutes(se,q[Pe],B),delete q[Pe]}),Ie(q,(se,Pe)=>{this.deactivateRouteAndItsChildren(se,B)})}deactivateRoutes(S,D,B){const q=S.value,se=D?D.value:null;if(q===se)if(q.component){const Pe=B.getContext(q.outlet);Pe&&this.deactivateChildRoutes(S,D,Pe.children)}else this.deactivateChildRoutes(S,D,B);else se&&this.deactivateRouteAndItsChildren(D,B)}deactivateRouteAndItsChildren(S,D){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,D):this.deactivateRouteAndOutlet(S,D)}detachAndStoreRouteSubtree(S,D){const B=D.getContext(S.value.outlet),q=B&&S.value.component?B.children:D,se=xe(S);for(const Pe of Object.keys(se))this.deactivateRouteAndItsChildren(se[Pe],q);if(B&&B.outlet){const Pe=B.outlet.detach(),Ye=B.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:Pe,route:S,contexts:Ye})}}deactivateRouteAndOutlet(S,D){const B=D.getContext(S.value.outlet),q=B&&S.value.component?B.children:D,se=xe(S);for(const Pe of Object.keys(se))this.deactivateRouteAndItsChildren(se[Pe],q);B&&B.outlet&&(B.outlet.deactivate(),B.children.onOutletDeactivated(),B.attachRef=null,B.resolver=null,B.route=null)}activateChildRoutes(S,D,B){const q=xe(D);S.children.forEach(se=>{this.activateRoutes(se,q[se.value.outlet],B),this.forwardEvent(new Gn(se.value.snapshot))}),S.children.length&&this.forwardEvent(new gn(S.value.snapshot))}activateRoutes(S,D,B){const q=S.value,se=D?D.value:null;if(Xe(q),q===se)if(q.component){const Pe=B.getOrCreateContext(q.outlet);this.activateChildRoutes(S,D,Pe.children)}else this.activateChildRoutes(S,D,B);else if(q.component){const Pe=B.getOrCreateContext(q.outlet);if(this.routeReuseStrategy.shouldAttach(q.snapshot)){const Ye=this.routeReuseStrategy.retrieve(q.snapshot);this.routeReuseStrategy.store(q.snapshot,null),Pe.children.onOutletReAttached(Ye.contexts),Pe.attachRef=Ye.componentRef,Pe.route=Ye.route.value,Pe.outlet&&Pe.outlet.attach(Ye.componentRef,Ye.route.value),Xe(Ye.route.value),this.activateChildRoutes(S,null,Pe.children)}else{const Ye=function Uo(R){for(let S=R.parent;S;S=S.parent){const D=S.routeConfig;if(D&&D._loadedConfig)return D._loadedConfig;if(D&&D.component)return null}return null}(q.snapshot),Vt=Ye?Ye.module.componentFactoryResolver:null;Pe.attachRef=null,Pe.route=q,Pe.resolver=Vt,Pe.outlet&&Pe.outlet.activateWith(q,Vt),this.activateChildRoutes(S,null,Pe.children)}}else this.activateChildRoutes(S,null,B)}}class cs{constructor(S,D){this.routes=S,this.module=D}}function fi(R){return"function"==typeof R}function Ws(R){return R instanceof Wr}const Fi=Symbol("INITIAL_VALUE");function Ss(){return(0,Je.w)(R=>function de(...R){let S,D;return(0,X.K)(R[R.length-1])&&(D=R.pop()),"function"==typeof R[R.length-1]&&(S=R.pop()),1===R.length&&(0,Z.k)(R[0])&&(R=R[0]),(0,ae.n)(R,D).lift(new ge(S))}(R.map(S=>S.pipe((0,Tt.q)(1),(0,dt.O)(Fi)))).pipe((0,Kt.R)((S,D)=>{let B=!1;return D.reduce((q,se,Pe)=>q!==Fi?q:(se===Fi&&(B=!0),B||!1!==se&&Pe!==D.length-1&&!Ws(se)?q:se),S)},Fi),(0,Ue.h)(S=>S!==Fi),(0,Me.U)(S=>Ws(S)?S:!0===S),(0,Tt.q)(1)))}class ds{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new jr,this.attachRef=null}}class jr{constructor(){this.contexts=new Map}onChildOutletCreated(S,D){const B=this.getOrCreateContext(S);B.outlet=D,this.contexts.set(S,B)}onChildOutletDestroyed(S){const D=this.getContext(S);D&&(D.outlet=null,D.attachRef=null)}onOutletDeactivated(){const S=this.contexts;return this.contexts=new Map,S}onOutletReAttached(S){this.contexts=S}getOrCreateContext(S){let D=this.getContext(S);return D||(D=new ds,this.contexts.set(S,D)),D}getContext(S){return this.contexts.get(S)||null}}let U=(()=>{class R{constructor(D,B,q,se,Pe){this.parentContexts=D,this.location=B,this.resolver=q,this.changeDetector=Pe,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=se||xn,D.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const D=this.parentContexts.getContext(this.name);D&&D.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(D.instance),D}attach(D,B){this.activated=D,this._activatedRoute=B,this.location.insert(D.hostView),this.attachEvents.emit(D.instance)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,B){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=D;const Pe=(B=B||this.resolver).resolveComponentFactory(D._futureSnapshot.routeConfig.component),Ye=this.parentContexts.getOrCreateContext(this.name).children,Vt=new ne(D,Ye,this.location.injector);this.activated=this.location.createComponent(Pe,this.location.length,Vt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return R.\u0275fac=function(D){return new(D||R)(l.Y36(jr),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.Y36(l.sBO))},R.\u0275dir=l.lG2({type:R,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),R})();class ne{constructor(S,D,B){this.route=S,this.childContexts=D,this.parent=B}get(S,D){return S===kt?this.route:S===jr?this.childContexts:this.parent.get(S,D)}}let V=(()=>{class R{}return R.\u0275fac=function(D){return new(D||R)},R.\u0275cmp=l.Xpm({type:R,selectors:[["ng-component"]],decls:1,vars:0,template:function(D,B){1&D&&l._UZ(0,"router-outlet")},directives:[U],encapsulation:2}),R})();function ue(R,S=""){for(let D=0;D<R.length;D++){const B=R[D];Ke(B,Ot(S,B))}}function Ke(R,S){R.children&&ue(R.children,S)}function Ot(R,S){return S?R||S.path?R&&!S.path?`${R}/`:!R&&S.path?S.path:`${R}/${S.path}`:"":R}function Wt(R){const S=R.children&&R.children.map(Wt),D=S?Object.assign(Object.assign({},R),{children:S}):Object.assign({},R);return!D.component&&(S||D.loadChildren)&&D.outlet&&D.outlet!==xn&&(D.component=V),D}function nn(R){return R.outlet||xn}function Zr(R,S){const D=R.filter(B=>nn(B)===S);return D.push(...R.filter(B=>nn(B)!==S)),D}const or={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ur(R,S,D){var B;if(""===S.path)return"full"===S.pathMatch&&(R.hasChildren()||D.length>0)?Object.assign({},or):{matched:!0,consumedSegments:[],remainingSegments:D,parameters:{},positionalParamSegments:{}};const se=(S.matcher||pn)(D,R,S);if(!se)return Object.assign({},or);const Pe={};Ie(se.posParams,(Vt,Sn)=>{Pe[Sn]=Vt.path});const Ye=se.consumed.length>0?Object.assign(Object.assign({},Pe),se.consumed[se.consumed.length-1].parameters):Pe;return{matched:!0,consumedSegments:se.consumed,remainingSegments:D.slice(se.consumed.length),parameters:Ye,positionalParamSegments:null!==(B=se.posParams)&&void 0!==B?B:{}}}function Rr(R,S,D,B,q="corrected"){if(D.length>0&&function li(R,S,D){return D.some(B=>Pr(R,S,B)&&nn(B)!==xn)}(R,D,B)){const Pe=new Kn(S,function ai(R,S,D,B){const q={};q[xn]=B,B._sourceSegment=R,B._segmentIndexShift=S.length;for(const se of D)if(""===se.path&&nn(se)!==xn){const Pe=new Kn([],{});Pe._sourceSegment=R,Pe._segmentIndexShift=S.length,q[nn(se)]=Pe}return q}(R,S,B,new Kn(D,R.children)));return Pe._sourceSegment=R,Pe._segmentIndexShift=S.length,{segmentGroup:Pe,slicedSegments:[]}}if(0===D.length&&function qs(R,S,D){return D.some(B=>Pr(R,S,B))}(R,D,B)){const Pe=new Kn(R.segments,function pi(R,S,D,B,q,se){const Pe={};for(const Ye of B)if(Pr(R,D,Ye)&&!q[nn(Ye)]){const Vt=new Kn([],{});Vt._sourceSegment=R,Vt._segmentIndexShift="legacy"===se?R.segments.length:S.length,Pe[nn(Ye)]=Vt}return Object.assign(Object.assign({},q),Pe)}(R,S,D,B,R.children,q));return Pe._sourceSegment=R,Pe._segmentIndexShift=S.length,{segmentGroup:Pe,slicedSegments:D}}const se=new Kn(R.segments,R.children);return se._sourceSegment=R,se._segmentIndexShift=S.length,{segmentGroup:se,slicedSegments:D}}function Pr(R,S,D){return(!(R.hasChildren()||S.length>0)||"full"!==D.pathMatch)&&""===D.path}function qn(R,S,D,B){return!!(nn(R)===B||B!==xn&&Pr(S,D,R))&&("**"===R.path||ur(S,R,D).matched)}function no(R,S,D){return 0===S.length&&!R.children[D]}class z{constructor(S){this.segmentGroup=S||null}}class F{constructor(S){this.urlTree=S}}function k(R){return(0,ke._)(new z(R))}function re(R){return(0,ke._)(new F(R))}class b{constructor(S,D,B,q,se){this.configLoader=D,this.urlSerializer=B,this.urlTree=q,this.config=se,this.allowRedirects=!0,this.ngModule=S.get(l.h0i)}apply(){const S=Rr(this.urlTree.root,[],[],this.config).segmentGroup,D=new Kn(S.segments,S.children);return this.expandSegmentGroup(this.ngModule,this.config,D,xn).pipe((0,Me.U)(se=>this.createUrlTree(J(se),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ze(se=>{if(se instanceof F)return this.allowRedirects=!1,this.match(se.urlTree);throw se instanceof z?this.noMatchError(se):se}))}match(S){return this.expandSegmentGroup(this.ngModule,this.config,S.root,xn).pipe((0,Me.U)(q=>this.createUrlTree(J(q),S.queryParams,S.fragment))).pipe(Ze(q=>{throw q instanceof z?this.noMatchError(q):q}))}noMatchError(S){return new Error(`Cannot match any routes. URL Segment: '${S.segmentGroup}'`)}createUrlTree(S,D,B){const q=S.segments.length>0?new Kn([],{[xn]:S}):S;return new Wr(q,D,B)}expandSegmentGroup(S,D,B,q){return 0===B.segments.length&&B.hasChildren()?this.expandChildren(S,D,B).pipe((0,Me.U)(se=>new Kn([],se))):this.expandSegment(S,B,D,B.segments,q,!0)}expandChildren(S,D,B){const q=[];for(const se of Object.keys(B.children))"primary"===se?q.unshift(se):q.push(se);return(0,ie.D)(q).pipe((0,en.b)(se=>{const Pe=B.children[se],Ye=Zr(D,se);return this.expandSegmentGroup(S,Ye,Pe,se).pipe((0,Me.U)(Vt=>({segment:Vt,outlet:se})))}),(0,Kt.R)((se,Pe)=>(se[Pe.outlet]=Pe.segment,se),{}),function mt(R,S){const D=arguments.length>=2;return B=>B.pipe(R?(0,Ue.h)((q,se)=>R(q,se,B)):on.y,Te(1),D?(0,Xt.d)(S):(0,et.T)(()=>new Ve.K))}())}expandSegment(S,D,B,q,se,Pe){return(0,ie.D)(B).pipe((0,en.b)(Ye=>this.expandSegmentAgainstRoute(S,D,B,Ye,q,se,Pe).pipe(Ze(Sn=>{if(Sn instanceof z)return(0,Oe.of)(null);throw Sn}))),(0,_n.P)(Ye=>!!Ye),Ze((Ye,Vt)=>{if(Ye instanceof Ve.K||"EmptyError"===Ye.name)return no(D,q,se)?(0,Oe.of)(new Kn([],{})):k(D);throw Ye}))}expandSegmentAgainstRoute(S,D,B,q,se,Pe,Ye){return qn(q,D,se,Pe)?void 0===q.redirectTo?this.matchSegmentAgainstRoute(S,D,q,se,Pe):Ye&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(S,D,B,q,se,Pe):k(D):k(D)}expandSegmentAgainstRouteUsingRedirect(S,D,B,q,se,Pe){return"**"===q.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(S,B,q,Pe):this.expandRegularSegmentAgainstRouteUsingRedirect(S,D,B,q,se,Pe)}expandWildCardWithParamsAgainstRouteUsingRedirect(S,D,B,q){const se=this.applyRedirectCommands([],B.redirectTo,{});return B.redirectTo.startsWith("/")?re(se):this.lineralizeSegments(B,se).pipe((0,fn.zg)(Pe=>{const Ye=new Kn(Pe,{});return this.expandSegment(S,Ye,D,Pe,q,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(S,D,B,q,se,Pe){const{matched:Ye,consumedSegments:Vt,remainingSegments:Sn,positionalParamSegments:Vr}=ur(D,q,se);if(!Ye)return k(D);const $n=this.applyRedirectCommands(Vt,q.redirectTo,Vr);return q.redirectTo.startsWith("/")?re($n):this.lineralizeSegments(q,$n).pipe((0,fn.zg)(Xr=>this.expandSegment(S,D,B,Xr.concat(Sn),Pe,!1)))}matchSegmentAgainstRoute(S,D,B,q,se){if("**"===B.path)return B.loadChildren?(B._loadedConfig?(0,Oe.of)(B._loadedConfig):this.configLoader.load(S.injector,B)).pipe((0,Me.U)($n=>(B._loadedConfig=$n,new Kn(q,{})))):(0,Oe.of)(new Kn(q,{}));const{matched:Pe,consumedSegments:Ye,remainingSegments:Vt}=ur(D,B,q);return Pe?this.getChildConfig(S,B,q).pipe((0,fn.zg)(Vr=>{const $n=Vr.module,Xr=Vr.routes,{segmentGroup:Nr,slicedSegments:so}=Rr(D,Ye,Vt,Xr),Go=new Kn(Nr.segments,Nr.children);if(0===so.length&&Go.hasChildren())return this.expandChildren($n,Xr,Go).pipe((0,Me.U)(ss=>new Kn(Ye,ss)));if(0===Xr.length&&0===so.length)return(0,Oe.of)(new Kn(Ye,{}));const oa=nn(B)===se;return this.expandSegment($n,Go,Xr,so,oa?xn:se,!0).pipe((0,Me.U)(Fa=>new Kn(Ye.concat(Fa.segments),Fa.children)))})):k(D)}getChildConfig(S,D,B){return D.children?(0,Oe.of)(new cs(D.children,S)):D.loadChildren?void 0!==D._loadedConfig?(0,Oe.of)(D._loadedConfig):this.runCanLoadGuards(S.injector,D,B).pipe((0,fn.zg)(q=>q?this.configLoader.load(S.injector,D).pipe((0,Me.U)(se=>(D._loadedConfig=se,se))):function v(R){return(0,ke._)(fr(`Cannot load children because the guard of the route "path: '${R.path}'" returned false`))}(D))):(0,Oe.of)(new cs([],S))}runCanLoadGuards(S,D,B){const q=D.canLoad;if(!q||0===q.length)return(0,Oe.of)(!0);const se=q.map(Pe=>{const Ye=S.get(Pe);let Vt;if(function to(R){return R&&fi(R.canLoad)}(Ye))Vt=Ye.canLoad(D,B);else{if(!fi(Ye))throw new Error("Invalid CanLoad guard");Vt=Ye(D,B)}return je(Vt)});return(0,Oe.of)(se).pipe(Ss(),(0,Jt.b)(Pe=>{if(!Ws(Pe))return;const Ye=fr(`Redirecting to "${this.urlSerializer.serialize(Pe)}"`);throw Ye.url=Pe,Ye}),(0,Me.U)(Pe=>!0===Pe))}lineralizeSegments(S,D){let B=[],q=D.root;for(;;){if(B=B.concat(q.segments),0===q.numberOfChildren)return(0,Oe.of)(B);if(q.numberOfChildren>1||!q.children[xn])return(0,ke._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${S.redirectTo}'`));q=q.children[xn]}}applyRedirectCommands(S,D,B){return this.applyRedirectCreatreUrlTree(D,this.urlSerializer.parse(D),S,B)}applyRedirectCreatreUrlTree(S,D,B,q){const se=this.createSegmentGroup(S,D.root,B,q);return new Wr(se,this.createQueryParams(D.queryParams,this.urlTree.queryParams),D.fragment)}createQueryParams(S,D){const B={};return Ie(S,(q,se)=>{if("string"==typeof q&&q.startsWith(":")){const Ye=q.substring(1);B[se]=D[Ye]}else B[se]=q}),B}createSegmentGroup(S,D,B,q){const se=this.createSegments(S,D.segments,B,q);let Pe={};return Ie(D.children,(Ye,Vt)=>{Pe[Vt]=this.createSegmentGroup(S,Ye,B,q)}),new Kn(se,Pe)}createSegments(S,D,B,q){return D.map(se=>se.path.startsWith(":")?this.findPosParam(S,se,q):this.findOrReturn(se,B))}findPosParam(S,D,B){const q=B[D.path.substring(1)];if(!q)throw new Error(`Cannot redirect to '${S}'. Cannot find '${D.path}'.`);return q}findOrReturn(S,D){let B=0;for(const q of D){if(q.path===S.path)return D.splice(B),q;B++}return S}}function J(R){const S={};for(const B of Object.keys(R.children)){const se=J(R.children[B]);(se.segments.length>0||se.hasChildren())&&(S[B]=se)}return function j(R){if(1===R.numberOfChildren&&R.children[xn]){const S=R.children[xn];return new Kn(R.segments.concat(S.segments),S.children)}return R}(new Kn(R.segments,S))}class dn{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class En{constructor(S,D){this.component=S,this.route=D}}function wr(R,S,D){const B=R._root;return ts(B,S?S._root:null,D,[B.value])}function Ii(R,S,D){const B=function Bi(R){if(!R)return null;for(let S=R.parent;S;S=S.parent){const D=S.routeConfig;if(D&&D._loadedConfig)return D._loadedConfig}return null}(S);return(B?B.module.injector:D).get(R)}function ts(R,S,D,B,q={canDeactivateChecks:[],canActivateChecks:[]}){const se=xe(S);return R.children.forEach(Pe=>{(function hs(R,S,D,B,q={canDeactivateChecks:[],canActivateChecks:[]}){const se=R.value,Pe=S?S.value:null,Ye=D?D.getContext(R.value.outlet):null;if(Pe&&se.routeConfig===Pe.routeConfig){const Vt=function Ti(R,S,D){if("function"==typeof D)return D(R,S);switch(D){case"pathParamsChange":return!ci(R.url,S.url);case"pathParamsOrQueryParamsChange":return!ci(R.url,S.url)||!cn(R.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!tt(R,S)||!cn(R.queryParams,S.queryParams);default:return!tt(R,S)}}(Pe,se,se.routeConfig.runGuardsAndResolvers);Vt?q.canActivateChecks.push(new dn(B)):(se.data=Pe.data,se._resolvedData=Pe._resolvedData),ts(R,S,se.component?Ye?Ye.children:null:D,B,q),Vt&&Ye&&Ye.outlet&&Ye.outlet.isActivated&&q.canDeactivateChecks.push(new En(Ye.outlet.component,Pe))}else Pe&&mi(S,Ye,q),q.canActivateChecks.push(new dn(B)),ts(R,null,se.component?Ye?Ye.children:null:D,B,q)})(Pe,se[Pe.value.outlet],D,B.concat([Pe.value]),q),delete se[Pe.value.outlet]}),Ie(se,(Pe,Ye)=>mi(Pe,D.getContext(Ye),q)),q}function mi(R,S,D){const B=xe(R),q=R.value;Ie(B,(se,Pe)=>{mi(se,q.component?S?S.children.getContext(Pe):null:S,D)}),D.canDeactivateChecks.push(new En(q.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,q))}class So{}function Ma(R){return new me.y(S=>S.error(R))}class Ka{constructor(S,D,B,q,se,Pe){this.rootComponentType=S,this.config=D,this.urlTree=B,this.url=q,this.paramsInheritanceStrategy=se,this.relativeLinkResolution=Pe}recognize(){const S=Rr(this.urlTree.root,[],[],this.config.filter(Pe=>void 0===Pe.redirectTo),this.relativeLinkResolution).segmentGroup,D=this.processSegmentGroup(this.config,S,xn);if(null===D)return null;const B=new rr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},xn,this.rootComponentType,null,this.urlTree.root,-1,{}),q=new ye(B,D),se=new cr(this.url,q);return this.inheritParamsAndData(se._root),se}inheritParamsAndData(S){const D=S.value,B=yn(D,this.paramsInheritanceStrategy);D.params=Object.freeze(B.params),D.data=Object.freeze(B.data),S.children.forEach(q=>this.inheritParamsAndData(q))}processSegmentGroup(S,D,B){return 0===D.segments.length&&D.hasChildren()?this.processChildren(S,D):this.processSegment(S,D,D.segments,B)}processChildren(S,D){const B=[];for(const se of Object.keys(D.children)){const Pe=D.children[se],Ye=Zr(S,se),Vt=this.processSegmentGroup(Ye,Pe,se);if(null===Vt)return null;B.push(...Vt)}const q=Eo(B);return function Ks(R){R.sort((S,D)=>S.value.outlet===xn?-1:D.value.outlet===xn?1:S.value.outlet.localeCompare(D.value.outlet))}(q),q}processSegment(S,D,B,q){for(const se of S){const Pe=this.processSegmentAgainstRoute(se,D,B,q);if(null!==Pe)return Pe}return no(D,B,q)?[]:null}processSegmentAgainstRoute(S,D,B,q){if(S.redirectTo||!qn(S,D,B,q))return null;let se,Pe=[],Ye=[];if("**"===S.path){const Nr=B.length>0?Yn(B).parameters:{};se=new rr(B,Nr,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ru(S),nn(S),S.component,S,Ra(D),Os(D)+B.length,ga(S))}else{const Nr=ur(D,S,B);if(!Nr.matched)return null;Pe=Nr.consumedSegments,Ye=Nr.remainingSegments,se=new rr(Pe,Nr.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ru(S),nn(S),S.component,S,Ra(D),Os(D)+Pe.length,ga(S))}const Vt=function $o(R){return R.children?R.children:R.loadChildren?R._loadedConfig.routes:[]}(S),{segmentGroup:Sn,slicedSegments:Vr}=Rr(D,Pe,Ye,Vt.filter(Nr=>void 0===Nr.redirectTo),this.relativeLinkResolution);if(0===Vr.length&&Sn.hasChildren()){const Nr=this.processChildren(Vt,Sn);return null===Nr?null:[new ye(se,Nr)]}if(0===Vt.length&&0===Vr.length)return[new ye(se,[])];const $n=nn(S)===q,Xr=this.processSegment(Vt,Sn,Vr,$n?xn:q);return null===Xr?null:[new ye(se,Xr)]}}function Mu(R){const S=R.value.routeConfig;return S&&""===S.path&&void 0===S.redirectTo}function Eo(R){const S=[],D=new Set;for(const B of R){if(!Mu(B)){S.push(B);continue}const q=S.find(se=>B.value.routeConfig===se.value.routeConfig);void 0!==q?(q.children.push(...B.children),D.add(q)):S.push(B)}for(const B of D){const q=Eo(B.children);S.push(new ye(B.value,q))}return S.filter(B=>!D.has(B))}function Ra(R){let S=R;for(;S._sourceSegment;)S=S._sourceSegment;return S}function Os(R){let S=R,D=S._segmentIndexShift?S._segmentIndexShift:0;for(;S._sourceSegment;)S=S._sourceSegment,D+=S._segmentIndexShift?S._segmentIndexShift:0;return D-1}function Ru(R){return R.data||{}}function ga(R){return R.resolve||{}}function tc(R){return[...Object.keys(R),...Object.getOwnPropertySymbols(R)]}function Pa(R){return(0,Je.w)(S=>{const D=R(S);return D?(0,ie.D)(D).pipe((0,Me.U)(()=>S)):(0,Oe.of)(S)})}class nc{}class rs extends class Hl{shouldDetach(S){return!1}store(S,D){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,D){return S.routeConfig===D.routeConfig}}{}const Ao=new l.OlP("ROUTES");class jo{constructor(S,D,B,q){this.injector=S,this.compiler=D,this.onLoadStartListener=B,this.onLoadEndListener=q}load(S,D){if(D._loader$)return D._loader$;this.onLoadStartListener&&this.onLoadStartListener(D);const q=this.loadModuleFactory(D.loadChildren).pipe((0,Me.U)(se=>{this.onLoadEndListener&&this.onLoadEndListener(D);const Pe=se.create(S);return new cs(sr(Pe.injector.get(Ao,void 0,l.XFs.Self|l.XFs.Optional)).map(Wt),Pe)}),Ze(se=>{throw D._loader$=void 0,se}));return D._loader$=new Le.c(q,()=>new qe.xQ).pipe((0,An.x)()),D._loader$}loadModuleFactory(S){return je(S()).pipe((0,fn.zg)(D=>D instanceof l.YKP?(0,Oe.of)(D):(0,ie.D)(this.compiler.compileModuleAsync(D))))}}class Oa{shouldProcessUrl(S){return!0}extract(S){return S}merge(S,D){return S}}function ka(R){throw R}function ks(R,S,D){return S.parse("/")}function Zs(R,S){return(0,Oe.of)(null)}const xo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Na={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qi=(()=>{class R{constructor(D,B,q,se,Pe,Ye,Vt){this.rootComponentType=D,this.urlSerializer=B,this.rootContexts=q,this.location=se,this.config=Vt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new qe.xQ,this.errorHandler=ka,this.malformedUriErrorHandler=ks,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Zs,afterPreactivation:Zs},this.urlHandlingStrategy=new Oa,this.routeReuseStrategy=new rs,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Pe.get(l.h0i),this.console=Pe.get(l.c2e);const $n=Pe.get(l.R0b);this.isNgZoneEnabled=$n instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(Vt),this.currentUrlTree=function bt(){return new Wr(new Kn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new jo(Pe,Ye,Xr=>this.triggerEvent(new Ht(Xr)),Xr=>this.triggerEvent(new At(Xr))),this.routerState=Pt(this.currentUrlTree,this.rootComponentType),this.transitions=new _e.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var D;return null===(D=this.location.getState())||void 0===D?void 0:D.\u0275routerPageId}setupNavigations(D){const B=this.events;return D.pipe((0,Ue.h)(q=>0!==q.id),(0,Me.U)(q=>Object.assign(Object.assign({},q),{extractedUrl:this.urlHandlingStrategy.extract(q.rawUrl)})),(0,Je.w)(q=>{let se=!1,Pe=!1;return(0,Oe.of)(q).pipe((0,Jt.b)(Ye=>{this.currentNavigation={id:Ye.id,initialUrl:Ye.currentRawUrl,extractedUrl:Ye.extractedUrl,trigger:Ye.source,extras:Ye.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Je.w)(Ye=>{const Vt=this.browserUrlTree.toString(),Sn=!this.navigated||Ye.extractedUrl.toString()!==Vt||Vt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Sn)&&this.urlHandlingStrategy.shouldProcessUrl(Ye.rawUrl))return Gl(Ye.source)&&(this.browserUrlTree=Ye.extractedUrl),(0,Oe.of)(Ye).pipe((0,Je.w)($n=>{const Xr=this.transitions.getValue();return B.next(new rn($n.id,this.serializeUrl($n.extractedUrl),$n.source,$n.restoredState)),Xr!==this.transitions.getValue()?he.E:Promise.resolve($n)}),function wt(R,S,D,B){return(0,Je.w)(q=>function P(R,S,D,B,q){return new b(R,S,D,B,q).apply()}(R,S,D,q.extractedUrl,B).pipe((0,Me.U)(se=>Object.assign(Object.assign({},q),{urlAfterRedirects:se}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Jt.b)($n=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:$n.urlAfterRedirects})}),function ns(R,S,D,B,q){return(0,fn.zg)(se=>function $l(R,S,D,B,q="emptyOnly",se="legacy"){try{const Pe=new Ka(R,S,D,B,q,se).recognize();return null===Pe?Ma(new So):(0,Oe.of)(Pe)}catch(Pe){return Ma(Pe)}}(R,S,se.urlAfterRedirects,D(se.urlAfterRedirects),B,q).pipe((0,Me.U)(Pe=>Object.assign(Object.assign({},se),{targetSnapshot:Pe}))))}(this.rootComponentType,this.config,$n=>this.serializeUrl($n),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Jt.b)($n=>{if("eager"===this.urlUpdateStrategy){if(!$n.extras.skipLocationChange){const Nr=this.urlHandlingStrategy.merge($n.urlAfterRedirects,$n.rawUrl);this.setBrowserUrl(Nr,$n)}this.browserUrlTree=$n.urlAfterRedirects}const Xr=new Tn($n.id,this.serializeUrl($n.extractedUrl),this.serializeUrl($n.urlAfterRedirects),$n.targetSnapshot);B.next(Xr)}));if(Sn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Xr,extractedUrl:Nr,source:so,restoredState:Go,extras:oa}=Ye,aa=new rn(Xr,this.serializeUrl(Nr),so,Go);B.next(aa);const Fa=Pt(Nr,this.rootComponentType).snapshot;return(0,Oe.of)(Object.assign(Object.assign({},Ye),{targetSnapshot:Fa,urlAfterRedirects:Nr,extras:Object.assign(Object.assign({},oa),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Ye.rawUrl,Ye.resolve(null),he.E}),Pa(Ye=>{const{targetSnapshot:Vt,id:Sn,extractedUrl:Vr,rawUrl:$n,extras:{skipLocationChange:Xr,replaceUrl:Nr}}=Ye;return this.hooks.beforePreactivation(Vt,{navigationId:Sn,appliedUrlTree:Vr,rawUrlTree:$n,skipLocationChange:!!Xr,replaceUrl:!!Nr})}),(0,Jt.b)(Ye=>{const Vt=new xr(Ye.id,this.serializeUrl(Ye.extractedUrl),this.serializeUrl(Ye.urlAfterRedirects),Ye.targetSnapshot);this.triggerEvent(Vt)}),(0,Me.U)(Ye=>Object.assign(Object.assign({},Ye),{guards:wr(Ye.targetSnapshot,Ye.currentSnapshot,this.rootContexts)})),function vo(R,S){return(0,fn.zg)(D=>{const{targetSnapshot:B,currentSnapshot:q,guards:{canActivateChecks:se,canDeactivateChecks:Pe}}=D;return 0===Pe.length&&0===se.length?(0,Oe.of)(Object.assign(Object.assign({},D),{guardsResult:!0})):function Ys(R,S,D,B){return(0,ie.D)(R).pipe((0,fn.zg)(q=>function na(R,S,D,B,q){const se=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!se||0===se.length)return(0,Oe.of)(!0);const Pe=se.map(Ye=>{const Vt=Ii(Ye,S,q);let Sn;if(function Ts(R){return R&&fi(R.canDeactivate)}(Vt))Sn=je(Vt.canDeactivate(R,S,D,B));else{if(!fi(Vt))throw new Error("Invalid CanDeactivate guard");Sn=je(Vt(R,S,D,B))}return Sn.pipe((0,_n.P)())});return(0,Oe.of)(Pe).pipe(Ss())}(q.component,q.route,D,S,B)),(0,_n.P)(q=>!0!==q,!0))}(Pe,B,q,R).pipe((0,fn.zg)(Ye=>Ye&&function Gi(R){return"boolean"==typeof R}(Ye)?function Ps(R,S,D,B){return(0,ie.D)(S).pipe((0,en.b)(q=>(0,st.z)(function xa(R,S){return null!==R&&S&&S(new Gt(R)),(0,Oe.of)(!0)}(q.route.parent,B),function Ul(R,S){return null!==R&&S&&S(new Qn(R)),(0,Oe.of)(!0)}(q.route,B),function Ya(R,S,D){const B=S[S.length-1],se=S.slice(0,S.length-1).reverse().map(Pe=>function ii(R){const S=R.routeConfig?R.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:R,guards:S}:null}(Pe)).filter(Pe=>null!==Pe).map(Pe=>We(()=>{const Ye=Pe.guards.map(Vt=>{const Sn=Ii(Vt,Pe.node,D);let Vr;if(function br(R){return R&&fi(R.canActivateChild)}(Sn))Vr=je(Sn.canActivateChild(B,R));else{if(!fi(Sn))throw new Error("Invalid CanActivateChild guard");Vr=je(Sn(B,R))}return Vr.pipe((0,_n.P)())});return(0,Oe.of)(Ye).pipe(Ss())}));return(0,Oe.of)(se).pipe(Ss())}(R,q.path,D),function zi(R,S,D){const B=S.routeConfig?S.routeConfig.canActivate:null;if(!B||0===B.length)return(0,Oe.of)(!0);const q=B.map(se=>We(()=>{const Pe=Ii(se,S,D);let Ye;if(function Kr(R){return R&&fi(R.canActivate)}(Pe))Ye=je(Pe.canActivate(S,R));else{if(!fi(Pe))throw new Error("Invalid CanActivate guard");Ye=je(Pe(S,R))}return Ye.pipe((0,_n.P)())}));return(0,Oe.of)(q).pipe(Ss())}(R,q.route,D))),(0,_n.P)(q=>!0!==q,!0))}(B,se,R,S):(0,Oe.of)(Ye)),(0,Me.U)(Ye=>Object.assign(Object.assign({},D),{guardsResult:Ye})))})}(this.ngModule.injector,Ye=>this.triggerEvent(Ye)),(0,Jt.b)(Ye=>{if(Ws(Ye.guardsResult)){const Sn=fr(`Redirecting to "${this.serializeUrl(Ye.guardsResult)}"`);throw Sn.url=Ye.guardsResult,Sn}const Vt=new ot(Ye.id,this.serializeUrl(Ye.extractedUrl),this.serializeUrl(Ye.urlAfterRedirects),Ye.targetSnapshot,!!Ye.guardsResult);this.triggerEvent(Vt)}),(0,Ue.h)(Ye=>!!Ye.guardsResult||(this.restoreHistory(Ye),this.cancelNavigationTransition(Ye,""),!1)),Pa(Ye=>{if(Ye.guards.canActivateChecks.length)return(0,Oe.of)(Ye).pipe((0,Jt.b)(Vt=>{const Sn=new Fe(Vt.id,this.serializeUrl(Vt.extractedUrl),this.serializeUrl(Vt.urlAfterRedirects),Vt.targetSnapshot);this.triggerEvent(Sn)}),(0,Je.w)(Vt=>{let Sn=!1;return(0,Oe.of)(Vt).pipe(function ra(R,S){return(0,fn.zg)(D=>{const{targetSnapshot:B,guards:{canActivateChecks:q}}=D;if(!q.length)return(0,Oe.of)(D);let se=0;return(0,ie.D)(q).pipe((0,en.b)(Pe=>function Wi(R,S,D,B){return function Pu(R,S,D,B){const q=tc(R);if(0===q.length)return(0,Oe.of)({});const se={};return(0,ie.D)(q).pipe((0,fn.zg)(Pe=>function Ou(R,S,D,B){const q=Ii(R,S,B);return je(q.resolve?q.resolve(S,D):q(S,D))}(R[Pe],S,D,B).pipe((0,Jt.b)(Ye=>{se[Pe]=Ye}))),Te(1),(0,fn.zg)(()=>tc(se).length===q.length?(0,Oe.of)(se):he.E))}(R._resolve,R,S,B).pipe((0,Me.U)(se=>(R._resolvedData=se,R.data=Object.assign(Object.assign({},R.data),yn(R,D).resolve),null)))}(Pe.route,B,R,S)),(0,Jt.b)(()=>se++),Te(1),(0,fn.zg)(Pe=>se===q.length?(0,Oe.of)(D):he.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Jt.b)({next:()=>Sn=!0,complete:()=>{Sn||(this.restoreHistory(Vt),this.cancelNavigationTransition(Vt,"At least one route resolver didn't emit any value."))}}))}),(0,Jt.b)(Vt=>{const Sn=new ve(Vt.id,this.serializeUrl(Vt.extractedUrl),this.serializeUrl(Vt.urlAfterRedirects),Vt.targetSnapshot);this.triggerEvent(Sn)}))}),Pa(Ye=>{const{targetSnapshot:Vt,id:Sn,extractedUrl:Vr,rawUrl:$n,extras:{skipLocationChange:Xr,replaceUrl:Nr}}=Ye;return this.hooks.afterPreactivation(Vt,{navigationId:Sn,appliedUrlTree:Vr,rawUrlTree:$n,skipLocationChange:!!Xr,replaceUrl:!!Nr})}),(0,Me.U)(Ye=>{const Vt=function _t(R,S,D){const B=It(R,S._root,D?D._root:void 0);return new ut(B,S)}(this.routeReuseStrategy,Ye.targetSnapshot,Ye.currentRouterState);return Object.assign(Object.assign({},Ye),{targetRouterState:Vt})}),(0,Jt.b)(Ye=>{this.currentUrlTree=Ye.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Ye.urlAfterRedirects,Ye.rawUrl),this.routerState=Ye.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ye.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ye),this.browserUrlTree=Ye.urlAfterRedirects)}),((R,S,D)=>(0,Me.U)(B=>(new vs(S,B.targetRouterState,B.currentRouterState,D).activate(R),B)))(this.rootContexts,this.routeReuseStrategy,Ye=>this.triggerEvent(Ye)),(0,Jt.b)({next(){se=!0},complete(){se=!0}}),function Qe(R){return S=>S.lift(new at(R))}(()=>{var Ye;se||Pe||this.cancelNavigationTransition(q,`Navigation ID ${q.id} is not equal to the current navigation id ${this.navigationId}`),(null===(Ye=this.currentNavigation)||void 0===Ye?void 0:Ye.id)===q.id&&(this.currentNavigation=null)}),Ze(Ye=>{if(Pe=!0,function Wn(R){return R&&R[ln]}(Ye)){const Vt=Ws(Ye.url);Vt||(this.navigated=!0,this.restoreHistory(q,!0));const Sn=new Nn(q.id,this.serializeUrl(q.extractedUrl),Ye.message);B.next(Sn),Vt?setTimeout(()=>{const Vr=this.urlHandlingStrategy.merge(Ye.url,this.rawUrlTree),$n={skipLocationChange:q.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Gl(q.source)};this.scheduleNavigation(Vr,"imperative",null,$n,{resolve:q.resolve,reject:q.reject,promise:q.promise})},0):q.resolve(!1)}else{this.restoreHistory(q,!0);const Vt=new er(q.id,this.serializeUrl(q.extractedUrl),Ye);B.next(Vt);try{q.resolve(this.errorHandler(Ye))}catch(Sn){q.reject(Sn)}}return he.E}))}))}resetRootComponentType(D){this.rootComponentType=D,this.routerState.root.component=this.rootComponentType}setTransition(D){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),D))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(D=>{const B="popstate"===D.type?"popstate":"hashchange";"popstate"===B&&setTimeout(()=>{var q;const se={replaceUrl:!0},Pe=(null===(q=D.state)||void 0===q?void 0:q.navigationId)?D.state:null;if(Pe){const Vt=Object.assign({},Pe);delete Vt.navigationId,delete Vt.\u0275routerPageId,0!==Object.keys(Vt).length&&(se.state=Vt)}const Ye=this.parseUrl(D.url);this.scheduleNavigation(Ye,B,Pe,se)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(D){this.events.next(D)}resetConfig(D){ue(D),this.config=D.map(Wt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(D,B={}){const{relativeTo:q,queryParams:se,fragment:Pe,queryParamsHandling:Ye,preserveFragment:Vt}=B,Sn=q||this.routerState.root,Vr=Vt?this.currentUrlTree.fragment:Pe;let $n=null;switch(Ye){case"merge":$n=Object.assign(Object.assign({},this.currentUrlTree.queryParams),se);break;case"preserve":$n=this.currentUrlTree.queryParams;break;default:$n=se||null}return null!==$n&&($n=this.removeEmptyProps($n)),function Ir(R,S,D,B,q){if(0===D.length)return ys(S.root,S.root,S.root,B,q);const se=function ti(R){if("string"==typeof R[0]&&1===R.length&&"/"===R[0])return new Bs(!0,0,R);let S=0,D=!1;const B=R.reduce((q,se,Pe)=>{if("object"==typeof se&&null!=se){if(se.outlets){const Ye={};return Ie(se.outlets,(Vt,Sn)=>{Ye[Sn]="string"==typeof Vt?Vt.split("/"):Vt}),[...q,{outlets:Ye}]}if(se.segmentPath)return[...q,se.segmentPath]}return"string"!=typeof se?[...q,se]:0===Pe?(se.split("/").forEach((Ye,Vt)=>{0==Vt&&"."===Ye||(0==Vt&&""===Ye?D=!0:".."===Ye?S++:""!=Ye&&q.push(Ye))}),q):[...q,se]},[]);return new Bs(D,S,B)}(D);if(se.toRoot())return ys(S.root,S.root,new Kn([],{}),B,q);const Pe=function vi(R,S,D){if(R.isAbsolute)return new lr(S.root,!0,0);if(-1===D.snapshot._lastPathIndex){const se=D.snapshot._urlSegment;return new lr(se,se===S.root,0)}const B=Fn(R.commands[0])?0:1;return function _o(R,S,D){let B=R,q=S,se=D;for(;se>q;){if(se-=q,B=B.parent,!B)throw new Error("Invalid number of '../'");q=B.segments.length}return new lr(B,!1,q-se)}(D.snapshot._urlSegment,D.snapshot._lastPathIndex+B,R.numberOfDoubleDots)}(se,S,R),Ye=Pe.processChildren?Ni(Pe.segmentGroup,Pe.index,se.commands):ni(Pe.segmentGroup,Pe.index,se.commands);return ys(S.root,Pe.segmentGroup,Ye,B,q)}(Sn,this.currentUrlTree,D,$n,null!=Vr?Vr:null)}navigateByUrl(D,B={skipLocationChange:!1}){const q=Ws(D)?D:this.parseUrl(D),se=this.urlHandlingStrategy.merge(q,this.rawUrlTree);return this.scheduleNavigation(se,"imperative",null,B)}navigate(D,B={skipLocationChange:!1}){return function ia(R){for(let S=0;S<R.length;S++){const D=R[S];if(null==D)throw new Error(`The requested path contains ${D} segment at index ${S}`)}}(D),this.navigateByUrl(this.createUrlTree(D,B),B)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){let B;try{B=this.urlSerializer.parse(D)}catch(q){B=this.malformedUriErrorHandler(q,this.urlSerializer,D)}return B}isActive(D,B){let q;if(q=!0===B?Object.assign({},xo):!1===B?Object.assign({},Na):B,Ws(D))return Un(this.currentUrlTree,D,q);const se=this.parseUrl(D);return Un(this.currentUrlTree,se,q)}removeEmptyProps(D){return Object.keys(D).reduce((B,q)=>{const se=D[q];return null!=se&&(B[q]=se),B},{})}processNavigations(){this.navigations.subscribe(D=>{this.navigated=!0,this.lastSuccessfulId=D.id,this.currentPageId=D.targetPageId,this.events.next(new nr(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,D.resolve(!0)},D=>{this.console.warn(`Unhandled Navigation Error: ${D}`)})}scheduleNavigation(D,B,q,se,Pe){var Ye,Vt;if(this.disposed)return Promise.resolve(!1);let Sn,Vr,$n;Pe?(Sn=Pe.resolve,Vr=Pe.reject,$n=Pe.promise):$n=new Promise((so,Go)=>{Sn=so,Vr=Go});const Xr=++this.navigationId;let Nr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(q=this.location.getState()),Nr=q&&q.\u0275routerPageId?q.\u0275routerPageId:se.replaceUrl||se.skipLocationChange?null!==(Ye=this.browserPageId)&&void 0!==Ye?Ye:0:(null!==(Vt=this.browserPageId)&&void 0!==Vt?Vt:0)+1):Nr=0,this.setTransition({id:Xr,targetPageId:Nr,source:B,restoredState:q,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:D,extras:se,resolve:Sn,reject:Vr,promise:$n,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),$n.catch(so=>Promise.reject(so))}setBrowserUrl(D,B){const q=this.urlSerializer.serialize(D),se=Object.assign(Object.assign({},B.extras.state),this.generateNgRouterState(B.id,B.targetPageId));this.location.isCurrentPathEqualTo(q)||B.extras.replaceUrl?this.location.replaceState(q,"",se):this.location.go(q,"",se)}restoreHistory(D,B=!1){var q,se;if("computed"===this.canceledNavigationResolution){const Pe=this.currentPageId-D.targetPageId;"popstate"!==D.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(q=this.currentNavigation)||void 0===q?void 0:q.finalUrl)||0===Pe?this.currentUrlTree===(null===(se=this.currentNavigation)||void 0===se?void 0:se.finalUrl)&&0===Pe&&(this.resetState(D),this.browserUrlTree=D.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Pe)}else"replace"===this.canceledNavigationResolution&&(B&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){this.routerState=D.currentRouterState,this.currentUrlTree=D.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,D.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(D,B){const q=new Nn(D.id,this.serializeUrl(D.extractedUrl),B);this.triggerEvent(q),D.resolve(!1)}generateNgRouterState(D,B){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:B}:{navigationId:D}}}return R.\u0275fac=function(D){l.$Z()},R.\u0275prov=l.Yz7({token:R,factory:R.\u0275fac}),R})();function Gl(R){return"imperative"!==R}let zl=(()=>{class R{constructor(D,B,q,se,Pe){this.router=D,this.route=B,this.tabIndexAttribute=q,this.renderer=se,this.el=Pe,this.commands=null,this.onChanges=new qe.xQ,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(D){if(null!=this.tabIndexAttribute)return;const B=this.renderer,q=this.el.nativeElement;null!==D?B.setAttribute(q,"tabindex",D):B.removeAttribute(q,"tabindex")}ngOnChanges(D){this.onChanges.next(this)}set routerLink(D){null!=D?(this.commands=Array.isArray(D)?D:[D],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const D={skipLocationChange:Vi(this.skipLocationChange),replaceUrl:Vi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,D),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Vi(this.preserveFragment)})}}return R.\u0275fac=function(D){return new(D||R)(l.Y36(qi),l.Y36(kt),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},R.\u0275dir=l.lG2({type:R,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(D,B){1&D&&l.NdJ("click",function(){return B.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.TTD]}),R})();function Vi(R){return""===R||!!R}class Mo{}class sa{preload(S,D){return D().pipe(Ze(()=>(0,Oe.of)(null)))}}class ma{preload(S,D){return(0,Oe.of)(null)}}let Ei=(()=>{class R{constructor(D,B,q,se){this.router=D,this.injector=q,this.preloadingStrategy=se,this.loader=new jo(q,B,Vt=>D.triggerEvent(new Ht(Vt)),Vt=>D.triggerEvent(new At(Vt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ue.h)(D=>D instanceof nr),(0,en.b)(()=>this.preload())).subscribe(()=>{})}preload(){const D=this.injector.get(l.h0i);return this.processRoutes(D,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,B){const q=[];for(const se of B)if(se.loadChildren&&!se.canLoad&&se._loadedConfig){const Pe=se._loadedConfig;q.push(this.processRoutes(Pe.module,Pe.routes))}else se.loadChildren&&!se.canLoad?q.push(this.preloadConfig(D,se)):se.children&&q.push(this.processRoutes(D,se.children));return(0,ie.D)(q).pipe((0,Cr.J)(),(0,Me.U)(se=>{}))}preloadConfig(D,B){return this.preloadingStrategy.preload(B,()=>(B._loadedConfig?(0,Oe.of)(B._loadedConfig):this.loader.load(D.injector,B)).pipe((0,fn.zg)(se=>(B._loadedConfig=se,this.processRoutes(se.module,se.routes)))))}}return R.\u0275fac=function(D){return new(D||R)(l.LFG(qi),l.LFG(l.Sil),l.LFG(l.zs3),l.LFG(Mo))},R.\u0275prov=l.Yz7({token:R,factory:R.\u0275fac}),R})(),Gr=(()=>{class R{constructor(D,B,q={}){this.router=D,this.viewportScroller=B,this.options=q,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},q.scrollPositionRestoration=q.scrollPositionRestoration||"disabled",q.anchorScrolling=q.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(D=>{D instanceof rn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof nr&&(this.lastId=D.id,this.scheduleScrollEvent(D,this.router.parseUrl(D.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(D=>{D instanceof Cn&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,B){this.router.triggerEvent(new Cn(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,B))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return R.\u0275fac=function(D){l.$Z()},R.\u0275prov=l.Yz7({token:R,factory:R.\u0275fac}),R})();const Es=new l.OlP("ROUTER_CONFIGURATION"),Xa=new l.OlP("ROUTER_FORROOT_GUARD"),Ro=[yr.Ye,{provide:Hr,useClass:Yr},{provide:qi,useFactory:function ro(R,S,D,B,q,se,Pe={},Ye,Vt){const Sn=new qi(null,R,S,D,B,q,sr(se));return Ye&&(Sn.urlHandlingStrategy=Ye),Vt&&(Sn.routeReuseStrategy=Vt),function Qs(R,S){R.errorHandler&&(S.errorHandler=R.errorHandler),R.malformedUriErrorHandler&&(S.malformedUriErrorHandler=R.malformedUriErrorHandler),R.onSameUrlNavigation&&(S.onSameUrlNavigation=R.onSameUrlNavigation),R.paramsInheritanceStrategy&&(S.paramsInheritanceStrategy=R.paramsInheritanceStrategy),R.relativeLinkResolution&&(S.relativeLinkResolution=R.relativeLinkResolution),R.urlUpdateStrategy&&(S.urlUpdateStrategy=R.urlUpdateStrategy),R.canceledNavigationResolution&&(S.canceledNavigationResolution=R.canceledNavigationResolution)}(Pe,Sn),Pe.enableTracing&&Sn.events.subscribe(Vr=>{var $n,Xr;null===($n=console.group)||void 0===$n||$n.call(console,`Router Event: ${Vr.constructor.name}`),console.log(Vr.toString()),console.log(Vr),null===(Xr=console.groupEnd)||void 0===Xr||Xr.call(console)}),Sn},deps:[Hr,jr,yr.Ye,l.zs3,l.Sil,Ao,Es,[class is{},new l.FiY],[nc,new l.FiY]]},jr,{provide:kt,useFactory:function io(R){return R.routerState.root},deps:[qi]},Ei,ma,sa,{provide:Es,useValue:{enableTracing:!1}}];function Qa(){return new l.PXZ("Router",qi)}let ku=(()=>{class R{constructor(D,B){}static forRoot(D,B){return{ngModule:R,providers:[Ro,Ho(D),{provide:Xa,useFactory:Xs,deps:[[qi,new l.FiY,new l.tp0]]},{provide:Es,useValue:B||{}},{provide:yr.S$,useFactory:ql,deps:[yr.lw,[new l.tBr(yr.mr),new l.FiY],Es]},{provide:Gr,useFactory:Po,deps:[qi,yr.EM,Es]},{provide:Mo,useExisting:B&&B.preloadingStrategy?B.preloadingStrategy:ma},{provide:l.PXZ,multi:!0,useFactory:Qa},[Oo,{provide:l.ip1,multi:!0,useFactory:Yl,deps:[Oo]},{provide:yl,useFactory:ya,deps:[Oo]},{provide:l.tb,multi:!0,useExisting:yl}]]}}static forChild(D){return{ngModule:R,providers:[Ho(D)]}}}return R.\u0275fac=function(D){return new(D||R)(l.LFG(Xa,8),l.LFG(qi,8))},R.\u0275mod=l.oAB({type:R}),R.\u0275inj=l.cJS({}),R})();function Po(R,S,D){return D.scrollOffset&&S.setOffset(D.scrollOffset),new Gr(R,S,D)}function ql(R,S,D={}){return D.useHash?new yr.Do(R,S):new yr.b0(R,S)}function Xs(R){return"guarded"}function Ho(R){return[{provide:l.deG,multi:!0,useValue:R},{provide:Ao,multi:!0,useValue:R}]}let Oo=(()=>{class R{constructor(D){this.injector=D,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new qe.xQ}appInitializer(){return this.injector.get(yr.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let B=null;const q=new Promise(Ye=>B=Ye),se=this.injector.get(qi),Pe=this.injector.get(Es);return"disabled"===Pe.initialNavigation?(se.setUpLocationChangeListener(),B(!0)):"enabled"===Pe.initialNavigation||"enabledBlocking"===Pe.initialNavigation?(se.hooks.afterPreactivation=()=>this.initNavigation?(0,Oe.of)(null):(this.initNavigation=!0,B(!0),this.resultOfPreactivationDone),se.initialNavigation()):B(!0),q})}bootstrapListener(D){const B=this.injector.get(Es),q=this.injector.get(Ei),se=this.injector.get(Gr),Pe=this.injector.get(qi),Ye=this.injector.get(l.z2F);D===Ye.components[0]&&(("enabledNonBlocking"===B.initialNavigation||void 0===B.initialNavigation)&&Pe.initialNavigation(),q.setUpPreloading(),se.init(),Pe.resetRootComponentType(Ye.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return R.\u0275fac=function(D){return new(D||R)(l.LFG(l.zs3))},R.\u0275prov=l.Yz7({token:R,factory:R.\u0275fac}),R})();function Yl(R){return R.appInitializer.bind(R)}function ya(R){return R.bootstrapListener.bind(R)}const yl=new l.OlP("Router Initializer")},3942:(hn,ft,$)=>{"use strict";$.d(ft,{Z:()=>Oe});var l=$(2090),X=$(4859),Z=$(9681),Be=$(1877);class Se{constructor(ke,Ve){this._delegate=ke,this.firebase=Ve,(0,Z._addComponent)(ke,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=ke.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ke){this._delegate.automaticDataCollectionEnabled=ke}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ke=>{this._delegate.checkDestroyed(),ke()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Z.deleteApp)(this._delegate)))}_getService(ke,Ve=Z._DEFAULT_ENTRY_NAME){var st;this._delegate.checkDestroyed();const Le=this._delegate.container.getProvider(ke);return!Le.isInitialized()&&"EXPLICIT"===(null===(st=Le.getComponent())||void 0===st?void 0:st.instantiationMode)&&Le.initialize(),Le.getImmediate({identifier:Ve})}_removeServiceInstance(ke,Ve=Z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ke).clearInstance(Ve)}_addComponent(ke){(0,Z._addComponent)(this._delegate,ke)}_addOrOverwriteComponent(ke){(0,Z._addOrOverwriteComponent)(this._delegate,ke)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ee=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),le=function ge(){const _e=function de(_e){const ke={},Ve={__esModule:!0,initializeApp:function qe(Ct,Ue={}){const G=Z.initializeApp(Ct,Ue);if((0,l.r3)(ke,G.name))return ke[G.name];const Re=new _e(G,Ve);return ke[G.name]=Re,Re},app:Le,registerVersion:Z.registerVersion,setLogLevel:Z.setLogLevel,onLog:Z.onLog,apps:null,SDK_VERSION:Z.SDK_VERSION,INTERNAL:{registerComponent:function Ze(Ct){const Ue=Ct.name,G=Ue.replace("-compat","");if(Z._registerComponent(Ct)&&"PUBLIC"===Ct.type){const Re=(Te=Le())=>{if("function"!=typeof Te[G])throw Ee.create("invalid-app-argument",{appName:Ue});return Te[G]()};void 0!==Ct.serviceProps&&(0,l.ZB)(Re,Ct.serviceProps),Ve[G]=Re,_e.prototype[G]=function(...Te){return this._getService.bind(this,Ue).apply(this,Ct.multipleInstances?Te:[])}}return"PUBLIC"===Ct.type?Ve[G]:null},removeApp:function st(Ct){delete ke[Ct]},useAsService:function Dt(Ct,Ue){return"serverAuth"===Ue?null:Ue},modularAPIs:Z}};function Le(Ct){if(!(0,l.r3)(ke,Ct=Ct||Z._DEFAULT_ENTRY_NAME))throw Ee.create("no-app",{appName:Ct});return ke[Ct]}return Ve.default=Ve,Object.defineProperty(Ve,"apps",{get:function Ae(){return Object.keys(ke).map(Ct=>ke[Ct])}}),Le.App=_e,Ve}(Se);return _e.INTERNAL=Object.assign(Object.assign({},_e.INTERNAL),{createFirebaseNamespace:ge,extendNamespace:function ke(Ve){(0,l.ZB)(_e,Ve)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),_e}(),me=new Be.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){me.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const _e=self.firebase.SDK_VERSION;_e&&_e.indexOf("LITE")>=0&&me.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Oe=le;!function We(_e){(0,Z.registerVersion)("@firebase/app-compat","0.1.23",_e)}()},9681:(hn,ft,$)=>{"use strict";$.r(ft),$.d(ft,{FirebaseError:()=>Be.ZR,SDK_VERSION:()=>Jt,_DEFAULT_ENTRY_NAME:()=>mt,_addComponent:()=>lt,_addOrOverwriteComponent:()=>Me,_apps:()=>Qe,_clearComponents:()=>Kt,_components:()=>at,_getProvider:()=>Tt,_registerComponent:()=>Je,_removeServiceInstance:()=>dt,deleteApp:()=>Jn,getApp:()=>Cr,getApps:()=>yr,initializeApp:()=>An,onLog:()=>Nn,registerVersion:()=>nr,setLogLevel:()=>er});var l=$(5861),X=$(4859),Z=$(1877),Be=$(2090);class Se{constructor(Nt){this.container=Nt}getPlatformInfoString(){return this.container.getProviders().map(cn=>{if(function ae(pn){const Nt=pn.getComponent();return"VERSION"===(null==Nt?void 0:Nt.type)}(cn)){const Pn=cn.getImmediate();return`${Pn.library}/${Pn.version}`}return null}).filter(cn=>cn).join(" ")}}const Ee="@firebase/app",ge=new Z.Yd("@firebase/app"),mt="[DEFAULT]",it={[Ee]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Qe=new Map,at=new Map;function lt(pn,Nt){try{pn.container.addComponent(Nt)}catch(cn){ge.debug(`Component ${Nt.name} failed to register with FirebaseApp ${pn.name}`,cn)}}function Me(pn,Nt){pn.container.addOrOverwriteComponent(Nt)}function Je(pn){const Nt=pn.name;if(at.has(Nt))return ge.debug(`There were multiple attempts to register component ${Nt}.`),!1;at.set(Nt,pn);for(const cn of Qe.values())lt(cn,pn);return!0}function Tt(pn,Nt){const cn=pn.container.getProvider("heartbeat").getImmediate({optional:!0});return cn&&cn.triggerHeartbeat(),pn.container.getProvider(Nt)}function dt(pn,Nt,cn=mt){Tt(pn,Nt).clearInstance(cn)}function Kt(){at.clear()}const _n=new Be.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class fn{constructor(Nt,cn,Pn){this._isDeleted=!1,this._options=Object.assign({},Nt),this._config=Object.assign({},cn),this._name=cn.name,this._automaticDataCollectionEnabled=cn.automaticDataCollectionEnabled,this._container=Pn,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Nt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Nt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Nt){this._isDeleted=Nt}checkDestroyed(){if(this.isDeleted)throw _n.create("app-deleted",{appName:this._name})}}const Jt="9.7.0";function An(pn,Nt={}){"object"!=typeof Nt&&(Nt={name:Nt});const cn=Object.assign({name:mt,automaticDataCollectionEnabled:!1},Nt),Pn=cn.name;if("string"!=typeof Pn||!Pn)throw _n.create("bad-app-name",{appName:String(Pn)});const sr=Qe.get(Pn);if(sr){if((0,Be.vZ)(pn,sr.options)&&(0,Be.vZ)(cn,sr.config))return sr;throw _n.create("duplicate-app",{appName:Pn})}const Yn=new X.H0(Pn);for(const Ie of at.values())Yn.addComponent(Ie);const $e=new fn(pn,cn,Yn);return Qe.set(Pn,$e),$e}function Cr(pn=mt){const Nt=Qe.get(pn);if(!Nt)throw _n.create("no-app",{appName:pn});return Nt}function yr(){return Array.from(Qe.values())}function Jn(pn){return rn.apply(this,arguments)}function rn(){return(rn=(0,l.Z)(function*(pn){const Nt=pn.name;Qe.has(Nt)&&(Qe.delete(Nt),yield Promise.all(pn.container.getProviders().map(cn=>cn.delete())),pn.isDeleted=!0)})).apply(this,arguments)}function nr(pn,Nt,cn){var Pn;let sr=null!==(Pn=it[pn])&&void 0!==Pn?Pn:pn;cn&&(sr+=`-${cn}`);const Yn=sr.match(/\s|\//),$e=Nt.match(/\s|\//);if(Yn||$e){const Ie=[`Unable to register library "${sr}" with version "${Nt}":`];return Yn&&Ie.push(`library name "${sr}" contains illegal characters (whitespace or "/")`),Yn&&$e&&Ie.push("and"),$e&&Ie.push(`version name "${Nt}" contains illegal characters (whitespace or "/")`),void ge.warn(Ie.join(" "))}Je(new X.wA(`${sr}-version`,()=>({library:sr,version:Nt}),"VERSION"))}function Nn(pn,Nt){if(null!==pn&&"function"!=typeof pn)throw _n.create("invalid-log-argument");(0,Z.Am)(pn,Nt)}function er(pn){(0,Z.Ub)(pn)}const ot="firebase-heartbeat-store";let Fe=null;function ve(){return Fe||(Fe=(0,Be.X3)("firebase-heartbeat-database",1,(pn,Nt)=>{0===Nt&&pn.createObjectStore(ot)}).catch(pn=>{throw _n.create("storage-open",{originalErrorMessage:pn.message})})),Fe}function At(){return(At=(0,l.Z)(function*(pn){try{return(yield ve()).transaction(ot).objectStore(ot).get(Qn(pn))}catch(Nt){throw _n.create("storage-get",{originalErrorMessage:Nt.message})}})).apply(this,arguments)}function Gt(pn,Nt){return gn.apply(this,arguments)}function gn(){return(gn=(0,l.Z)(function*(pn,Nt){try{const Pn=(yield ve()).transaction(ot,"readwrite");return yield Pn.objectStore(ot).put(Nt,Qn(pn)),Pn.complete}catch(cn){throw _n.create("storage-set",{originalErrorMessage:cn.message})}})).apply(this,arguments)}function Qn(pn){return`${pn.name}!${pn.options.appId}`}class xn{constructor(Nt){this.container=Nt,this._heartbeatsCache=null;const cn=this.container.getProvider("app").getImmediate();this._storage=new ln(cn),this._heartbeatsCachePromise=this._storage.read().then(Pn=>(this._heartbeatsCache=Pn,Pn))}triggerHeartbeat(){var Nt=this;return(0,l.Z)(function*(){const Pn=Nt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),sr=ei();if(null===Nt._heartbeatsCache&&(Nt._heartbeatsCache=yield Nt._heartbeatsCachePromise),Nt._heartbeatsCache.lastSentHeartbeatDate!==sr&&!Nt._heartbeatsCache.heartbeats.some(Yn=>Yn.date===sr))return Nt._heartbeatsCache.heartbeats.push({date:sr,agent:Pn}),Nt._heartbeatsCache.heartbeats=Nt._heartbeatsCache.heartbeats.filter(Yn=>{const $e=new Date(Yn.date).valueOf();return Date.now()-$e<=2592e6}),Nt._storage.overwrite(Nt._heartbeatsCache)})()}getHeartbeatsHeader(){var Nt=this;return(0,l.Z)(function*(){if(null===Nt._heartbeatsCache&&(yield Nt._heartbeatsCachePromise),null===Nt._heartbeatsCache||0===Nt._heartbeatsCache.heartbeats.length)return"";const cn=ei(),{heartbeatsToSend:Pn,unsentEntries:sr}=function _r(pn,Nt=1024){const cn=[];let Pn=pn.slice();for(const sr of pn){const Yn=cn.find($e=>$e.agent===sr.agent);if(Yn){if(Yn.dates.push(sr.date),fr(cn)>Nt){Yn.dates.pop();break}}else if(cn.push({agent:sr.agent,dates:[sr.date]}),fr(cn)>Nt){cn.pop();break}Pn=Pn.slice(1)}return{heartbeatsToSend:cn,unsentEntries:Pn}}(Nt._heartbeatsCache.heartbeats),Yn=(0,Be.L)(JSON.stringify({version:2,heartbeats:Pn}));return Nt._heartbeatsCache.lastSentHeartbeatDate=cn,sr.length>0?(Nt._heartbeatsCache.heartbeats=sr,yield Nt._storage.overwrite(Nt._heartbeatsCache)):(Nt._heartbeatsCache.heartbeats=[],Nt._storage.overwrite(Nt._heartbeatsCache)),Yn})()}}function ei(){return(new Date).toISOString().substring(0,10)}class ln{constructor(Nt){this.app=Nt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,Be.hl)()&&(0,Be.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Nt=this;return(0,l.Z)(function*(){return(yield Nt._canUseIndexedDBPromise)&&(yield function Ht(pn){return At.apply(this,arguments)}(Nt.app))||{heartbeats:[]}})()}overwrite(Nt){var cn=this;return(0,l.Z)(function*(){var Pn;if(yield cn._canUseIndexedDBPromise){const Yn=yield cn.read();return Gt(cn.app,{lastSentHeartbeatDate:null!==(Pn=Nt.lastSentHeartbeatDate)&&void 0!==Pn?Pn:Yn.lastSentHeartbeatDate,heartbeats:Nt.heartbeats})}})()}add(Nt){var cn=this;return(0,l.Z)(function*(){var Pn;if(yield cn._canUseIndexedDBPromise){const Yn=yield cn.read();return Gt(cn.app,{lastSentHeartbeatDate:null!==(Pn=Nt.lastSentHeartbeatDate)&&void 0!==Pn?Pn:Yn.lastSentHeartbeatDate,heartbeats:[...Yn.heartbeats,...Nt.heartbeats]})}})()}}function fr(pn){return(0,Be.L)(JSON.stringify({version:2,heartbeats:pn})).length}!function Wn(pn){Je(new X.wA("platform-logger",Nt=>new Se(Nt),"PRIVATE")),Je(new X.wA("heartbeat",Nt=>new xn(Nt),"PRIVATE")),nr(Ee,"0.7.22",pn),nr(Ee,"0.7.22","esm2017"),nr("fire-js","")}("")},4859:(hn,ft,$)=>{"use strict";$.d(ft,{wA:()=>Z,H0:()=>de,zt:()=>Se});var l=$(5861),X=$(2090);class Z{constructor(le,me,ie){this.name=le,this.instanceFactory=me,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(le){return this.instantiationMode=le,this}setMultipleInstances(le){return this.multipleInstances=le,this}setServiceProps(le){return this.serviceProps=le,this}setInstanceCreatedCallback(le){return this.onInstanceCreated=le,this}}const Be="[DEFAULT]";class Se{constructor(le,me){this.name=le,this.container=me,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(le){const me=this.normalizeInstanceIdentifier(le);if(!this.instancesDeferred.has(me)){const ie=new X.BH;if(this.instancesDeferred.set(me,ie),this.isInitialized(me)||this.shouldAutoInitialize())try{const he=this.getOrInitializeService({instanceIdentifier:me});he&&ie.resolve(he)}catch(he){}}return this.instancesDeferred.get(me).promise}getImmediate(le){var me;const ie=this.normalizeInstanceIdentifier(null==le?void 0:le.identifier),he=null!==(me=null==le?void 0:le.optional)&&void 0!==me&&me;if(!this.isInitialized(ie)&&!this.shouldAutoInitialize()){if(he)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ie})}catch(We){if(he)return null;throw We}}getComponent(){return this.component}setComponent(le){if(le.name!==this.name)throw Error(`Mismatching Component ${le.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=le,this.shouldAutoInitialize()){if(function Ee(ge){return"EAGER"===ge.instantiationMode}(le))try{this.getOrInitializeService({instanceIdentifier:Be})}catch(me){}for(const[me,ie]of this.instancesDeferred.entries()){const he=this.normalizeInstanceIdentifier(me);try{const We=this.getOrInitializeService({instanceIdentifier:he});ie.resolve(We)}catch(We){}}}}clearInstance(le=Be){this.instancesDeferred.delete(le),this.instancesOptions.delete(le),this.instances.delete(le)}delete(){var le=this;return(0,l.Z)(function*(){const me=Array.from(le.instances.values());yield Promise.all([...me.filter(ie=>"INTERNAL"in ie).map(ie=>ie.INTERNAL.delete()),...me.filter(ie=>"_delete"in ie).map(ie=>ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(le=Be){return this.instances.has(le)}getOptions(le=Be){return this.instancesOptions.get(le)||{}}initialize(le={}){const{options:me={}}=le,ie=this.normalizeInstanceIdentifier(le.instanceIdentifier);if(this.isInitialized(ie))throw Error(`${this.name}(${ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const he=this.getOrInitializeService({instanceIdentifier:ie,options:me});for(const[We,Oe]of this.instancesDeferred.entries())ie===this.normalizeInstanceIdentifier(We)&&Oe.resolve(he);return he}onInit(le,me){var ie;const he=this.normalizeInstanceIdentifier(me),We=null!==(ie=this.onInitCallbacks.get(he))&&void 0!==ie?ie:new Set;We.add(le),this.onInitCallbacks.set(he,We);const Oe=this.instances.get(he);return Oe&&le(Oe,he),()=>{We.delete(le)}}invokeOnInitCallbacks(le,me){const ie=this.onInitCallbacks.get(me);if(ie)for(const he of ie)try{he(le,me)}catch(We){}}getOrInitializeService({instanceIdentifier:le,options:me={}}){let ie=this.instances.get(le);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:(ge=le,ge===Be?void 0:ge),options:me}),this.instances.set(le,ie),this.instancesOptions.set(le,me),this.invokeOnInitCallbacks(ie,le),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,le,ie)}catch(he){}var ge;return ie||null}normalizeInstanceIdentifier(le=Be){return this.component?this.component.multipleInstances?le:Be:le}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor(le){this.name=le,this.providers=new Map}addComponent(le){const me=this.getProvider(le.name);if(me.isComponentSet())throw new Error(`Component ${le.name} has already been registered with ${this.name}`);me.setComponent(le)}addOrOverwriteComponent(le){this.getProvider(le.name).isComponentSet()&&this.providers.delete(le.name),this.addComponent(le)}getProvider(le){if(this.providers.has(le))return this.providers.get(le);const me=new Se(le,this);return this.providers.set(le,me),me}getProviders(){return Array.from(this.providers.values())}}},1877:(hn,ft,$)=>{"use strict";$.d(ft,{in:()=>X,Yd:()=>Ee,Ub:()=>de,Am:()=>ge});const l=[];var X=(()=>{return(le=X||(X={}))[le.DEBUG=0]="DEBUG",le[le.VERBOSE=1]="VERBOSE",le[le.INFO=2]="INFO",le[le.WARN=3]="WARN",le[le.ERROR=4]="ERROR",le[le.SILENT=5]="SILENT",X;var le})();const Z={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},Be=X.INFO,Se={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},ae=(le,me,...ie)=>{if(me<le.logLevel)return;const he=(new Date).toISOString(),We=Se[me];if(!We)throw new Error(`Attempted to log a message with an invalid logType (value: ${me})`);console[We](`[${he}]  ${le.name}:`,...ie)};class Ee{constructor(me){this.name=me,this._logLevel=Be,this._logHandler=ae,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(me){if(!(me in X))throw new TypeError(`Invalid value "${me}" assigned to \`logLevel\``);this._logLevel=me}setLogLevel(me){this._logLevel="string"==typeof me?Z[me]:me}get logHandler(){return this._logHandler}set logHandler(me){if("function"!=typeof me)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=me}get userLogHandler(){return this._userLogHandler}set userLogHandler(me){this._userLogHandler=me}debug(...me){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...me),this._logHandler(this,X.DEBUG,...me)}log(...me){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...me),this._logHandler(this,X.VERBOSE,...me)}info(...me){this._userLogHandler&&this._userLogHandler(this,X.INFO,...me),this._logHandler(this,X.INFO,...me)}warn(...me){this._userLogHandler&&this._userLogHandler(this,X.WARN,...me),this._logHandler(this,X.WARN,...me)}error(...me){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...me),this._logHandler(this,X.ERROR,...me)}}function de(le){l.forEach(me=>{me.setLogLevel(le)})}function ge(le,me){for(const ie of l){let he=null;me&&me.level&&(he=Z[me.level]),ie.userLogHandler=null===le?null:(We,Oe,..._e)=>{const ke=_e.map(Ve=>{if(null==Ve)return null;if("string"==typeof Ve)return Ve;if("number"==typeof Ve||"boolean"==typeof Ve)return Ve.toString();if(Ve instanceof Error)return Ve.message;try{return JSON.stringify(Ve)}catch(st){return null}}).filter(Ve=>Ve).join(" ");Oe>=(null!=he?he:We.logLevel)&&le({level:X[Oe].toLowerCase(),message:ke,args:_e,type:We.name})}}}},5861:(hn,ft,$)=>{"use strict";function l(Z,Be,Se,ae,Ee,de,ge){try{var le=Z[de](ge),me=le.value}catch(ie){return void Se(ie)}le.done?Be(me):Promise.resolve(me).then(ae,Ee)}function X(Z){return function(){var Be=this,Se=arguments;return new Promise(function(ae,Ee){var de=Z.apply(Be,Se);function ge(me){l(de,ae,Ee,ge,le,"next",me)}function le(me){l(de,ae,Ee,ge,le,"throw",me)}ge(void 0)})}}$.d(ft,{Z:()=>X})}},hn=>{hn(hn.s=4570)}]);